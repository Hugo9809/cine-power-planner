{"version":3,"file":"vendor-CFqNycia.js","sources":["../../src/scripts/shims/legacy-globals-shim.js"],"sourcesContent":["\n\n\n(function () {\n    if (typeof window === 'undefined') return;\n\n    // Restore critical globals previously in app-core-new-1.js\n    // Executed immediately so subsequent scripts (app-events.js, app-session.js) find these variables defined.\n    // Even if getElementById returns null (DOM not ready), defining them as null on window prevents ReferenceErrors.\n\n    if (typeof window.ICON_FONT_KEYS === 'undefined') {\n        window.ICON_FONT_KEYS = {\n            UICONS: 'uicons',\n            ESSENTIAL: 'essential',\n            GADGET: 'gadget',\n            FILM: 'film',\n            TEXT: 'text'\n        };\n    }\n\n    if (!window.cameraSelect) window.cameraSelect = document.getElementById(\"cameraSelect\");\n    if (!window.monitorSelect) window.monitorSelect = document.getElementById(\"monitorSelect\");\n    if (!window.videoSelect) window.videoSelect = document.getElementById(\"videoSelect\");\n    if (!window.videoDistributionSelect) window.videoDistributionSelect = document.getElementById(\"videoDistribution\");\n    if (!window.cageSelect) window.cageSelect = document.getElementById(\"cageSelect\");\n\n    if (!window.motorSelects) {\n        window.motorSelects = [\n            document.getElementById(\"motor1Select\"),\n            document.getElementById(\"motor2Select\"),\n            document.getElementById(\"motor3Select\"),\n            document.getElementById(\"motor4Select\")\n        ];\n    }\n\n    if (!window.controllerSelects) {\n        window.controllerSelects = [\n            document.getElementById(\"controller1Select\"),\n            document.getElementById(\"controller2Select\"),\n            document.getElementById(\"controller3Select\"),\n            document.getElementById(\"controller4Select\")\n        ];\n    }\n\n    if (!window.distanceSelect) window.distanceSelect = document.getElementById(\"distanceSelect\");\n    if (!window.batterySelect) window.batterySelect = document.getElementById(\"batterySelect\");\n    if (!window.hotswapSelect) window.hotswapSelect = document.getElementById(\"batteryHotswapSelect\");\n    if (!window.lensSelect) window.lensSelect = document.getElementById(\"lenses\");\n\n    // Export Button (used in app-events.js)\n    if (!window.exportBtn) window.exportBtn = document.getElementById(\"exportDataBtn\");\n\n    // Other globals found in app-core-new-1.js that might be needed\n    if (!window.crewContainer) window.crewContainer = document.getElementById(\"crewContainer\");\n    if (!window.prepContainer) window.prepContainer = document.getElementById(\"prepContainer\");\n    if (!window.shootContainer) window.shootContainer = document.getElementById(\"shootContainer\");\n    if (!window.returnContainer) window.returnContainer = document.getElementById(\"returnContainer\");\n    if (!window.storageNeedsContainer) window.storageNeedsContainer = document.getElementById(\"storageNeedsContainer\");\n\n    // Dialogs\n    if (!window.projectDialogCloseBtn) window.projectDialogCloseBtn = document.getElementById(\"projectDialogClose\");\n    if (!window.setupNameInput) window.setupNameInput = document.getElementById(\"setupName\");\n\n    // Project Management UI (restored from app-core-new-1.js)\n    if (!window.setupSelect) window.setupSelect = document.getElementById(\"setupSelect\");\n    if (!window.saveSetupBtn) window.saveSetupBtn = document.getElementById(\"saveSetupBtn\");\n    if (!window.deleteSetupBtn) window.deleteSetupBtn = document.getElementById(\"deleteSetupBtn\");\n    if (!window.shareSetupBtn) window.shareSetupBtn = document.getElementById(\"shareSetupBtn\");\n\n    if (!window.sharedLinkInput) window.sharedLinkInput = document.getElementById(\"sharedLinkInput\");\n    if (!window.applySharedLinkBtn) window.applySharedLinkBtn = document.getElementById(\"applySharedLinkBtn\");\n    if (!window.shareLinkMessage) window.shareLinkMessage = document.getElementById(\"shareLinkMessage\");\n\n    // Missing Global State Variables\n    if (typeof window.showAutoBackups === \"undefined\") window.showAutoBackups = false;\n\n    // Missing UI Elements\n    if (typeof window.autoGearAddRuleBtn === \"undefined\") window.autoGearAddRuleBtn = document.getElementById(\"autoGearAddRuleBtn\");\n    if (typeof window.autoGearConditionAddButton === \"undefined\") window.autoGearConditionAddButton = document.getElementById(\"autoGearConditionAddBtn\");\n\n    if (typeof window.autoGearScenarioBaseSelect === \"undefined\") window.autoGearScenarioBaseSelect = document.getElementById(\"autoGearScenarioBaseSelect\");\n\n    // Missing UI Selects\n    if (!window.batteryPlateSelect) window.batteryPlateSelect = document.getElementById(\"batteryPlateSelect\");\n    if (!window.hotswapSelect) window.hotswapSelect = document.getElementById(\"batteryHotswapSelect\");\n\n    // Missing State Objects\n    if (!window.autoGearActiveConditions) window.autoGearActiveConditions = new Set();\n\n    // Share/Export Dialog mappings for app-setups.js\n    if (!window.shareDialog) window.shareDialog = document.getElementById(\"shareDialog\");\n    if (!window.shareForm) window.shareForm = document.getElementById(\"shareForm\");\n    if (!window.shareFilename) window.shareFilename = document.getElementById(\"shareFilename\");\n    if (!window.shareFilenameInput) window.shareFilenameInput = window.shareFilename || document.getElementById(\"shareFilename\");\n    if (!window.shareFilenameMessage) window.shareFilenameMessage = document.getElementById(\"shareFilenameMessage\");\n    if (!window.shareIncludeAutoGear) window.shareIncludeAutoGear = document.getElementById(\"shareIncludeAutoGear\");\n    if (!window.shareIncludeAutoGearCheckbox) window.shareIncludeAutoGearCheckbox = window.shareIncludeAutoGear || document.getElementById(\"shareIncludeAutoGear\");\n    if (!window.shareIncludeAutoGearLabel) window.shareIncludeAutoGearLabel = document.getElementById(\"shareIncludeAutoGearLabel\");\n    if (!window.shareIncludeAutoGearLabelElem) window.shareIncludeAutoGearLabelElem = window.shareIncludeAutoGearLabel || document.getElementById(\"shareIncludeAutoGearLabel\");\n    if (!window.shareIncludeOwnedGear) window.shareIncludeOwnedGear = document.getElementById(\"shareIncludeOwnedGear\");\n    if (!window.shareIncludeOwnedGearCheckbox) window.shareIncludeOwnedGearCheckbox = window.shareIncludeOwnedGear || document.getElementById(\"shareIncludeOwnedGear\");\n    if (!window.shareIncludeOwnedGearLabel) window.shareIncludeOwnedGearLabel = document.getElementById(\"shareIncludeOwnedGearLabel\");\n    if (!window.shareIncludeOwnedGearLabelElem) window.shareIncludeOwnedGearLabelElem = window.shareIncludeOwnedGearLabel || document.getElementById(\"shareIncludeOwnedGearLabel\");\n    if (!window.shareCancelBtn) window.shareCancelBtn = document.getElementById(\"shareCancelBtn\");\n    if (!window.shareConfirmBtn) window.shareConfirmBtn = document.getElementById(\"shareConfirmBtn\");\n\n    // Import Dialog mappings for app-setups.js\n    if (!window.sharedImportDialog) window.sharedImportDialog = document.getElementById(\"sharedImportDialog\");\n    if (!window.sharedImportForm) window.sharedImportForm = document.getElementById(\"sharedImportForm\");\n    if (!window.sharedImportModeSelect) window.sharedImportModeSelect = document.getElementById(\"sharedImportModeSelect\");\n    if (!window.sharedImportCancelBtn) window.sharedImportCancelBtn = document.getElementById(\"sharedImportCancelBtn\");\n    if (!window.sharedImportConfirmBtn) window.sharedImportConfirmBtn = document.getElementById(\"sharedImportConfirmBtn\");\n\n    // Sorting Helper (moved from app-core-new-1.js to allow early use in auto-gear modules)\n    if (!window.localeSort) {\n        let localeSortCollator = null;\n        window.localeSort = function localeSort(a, b) {\n            const stringA = typeof a === 'string' ? a : (a && typeof a.toString === 'function' ? a.toString() : '');\n            const stringB = typeof b === 'string' ? b : (b && typeof b.toString === 'function' ? b.toString() : '');\n            if (!localeSortCollator) {\n                try {\n                    localeSortCollator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\n                } catch {\n                    localeSortCollator = false;\n                }\n            }\n            if (localeSortCollator && typeof localeSortCollator.compare === 'function') {\n                return localeSortCollator.compare(stringA, stringB);\n            }\n            return stringA.localeCompare(stringB);\n        };\n    }\n\n    // Pink Mode Shims\n    if (typeof window.cineCorePinkModeSupport !== 'undefined') {\n        const pm = window.cineCorePinkModeSupport;\n        if (!window.resolvePinkModeLottieRuntime && pm.resolvePinkModeLottieRuntime) window.resolvePinkModeLottieRuntime = pm.resolvePinkModeLottieRuntime;\n        if (!window.ensurePinkModeLottieRuntime && pm.ensurePinkModeLottieRuntime) window.ensurePinkModeLottieRuntime = pm.ensurePinkModeLottieRuntime;\n\n        if (!window.setPinkModeIconSequence && pm.setPinkModeIconSequence) window.setPinkModeIconSequence = pm.setPinkModeIconSequence;\n        if (!window.loadPinkModeIconsFromFiles && pm.loadPinkModeIconsFromFiles) window.loadPinkModeIconsFromFiles = pm.loadPinkModeIconsFromFiles;\n        if (typeof window.PINK_MODE_ICON_FALLBACK_MARKUP === 'undefined' && pm.PINK_MODE_ICON_FALLBACK_MARKUP) window.PINK_MODE_ICON_FALLBACK_MARKUP = pm.PINK_MODE_ICON_FALLBACK_MARKUP;\n    }\n\n    // Restoration of legacy global variables for V2/Vite compatibility\n    (function () {\n        if (typeof window !== 'undefined' && typeof window.global === 'undefined') {\n            window.global = window;\n        }\n\n        // Safety check for window.devices structure which is critical for the V2 UI\n    })();\n\n    // Backup Shims\n    // Ensure clearBackupVault is available as a promise-returning function to prevent runtime reference errors\n    if (typeof window.clearBackupVault !== 'function') {\n        window.clearBackupVault = function () {\n            // Return true to signal \"done\" (even if nothing happened)\n            if (typeof Promise !== 'undefined') {\n                return Promise.resolve(true);\n            }\n            return {\n                then: function (cb) { cb(true); return this; },\n                catch: function () { return this; }\n            };\n        };\n    }\n\n    if (typeof window.isBackupVaultFallbackActive !== 'function') {\n        window.isBackupVaultFallbackActive = function () {\n            return false;\n        };\n    }\n\n    // Auto-Gear ReferenceError Shims\n    if (typeof window.autoGearBackups === \"undefined\") window.autoGearBackups = [];\n    if (typeof window.autoGearBackupEmptyMessage === \"undefined\") window.autoGearBackupEmptyMessage = null;\n    if (typeof window.autoGearEditorActiveItem === \"undefined\") window.autoGearEditorActiveItem = null;\n    if (typeof window.autoGearShowBackupsCheckbox === \"undefined\") window.autoGearShowBackupsCheckbox = null;\n    if (typeof window.autoGearMonitorCatalogUpdatePending === \"undefined\") window.autoGearMonitorCatalogUpdatePending = false;\n    if (typeof window.autoGearAutoPresetIdState === \"undefined\") window.autoGearAutoPresetIdState = '';\n\n    if (typeof window.actionMap === \"undefined\") window.actionMap = new Map();\n\n    if (typeof window.autoGearScenarioFilter === \"undefined\") window.autoGearScenarioFilter = 'all';\n    if (typeof window.hasSeededAutoGearDefaults !== 'function') window.hasSeededAutoGearDefaults = function () { return false; };\n\n    if (typeof window.autoGearRules === \"undefined\") window.autoGearRules = [];\n    if (typeof window.baseAutoGearRulesState === \"undefined\") window.baseAutoGearRulesState = [];\n    if (typeof window.projectScopedAutoGearRules === \"undefined\") window.projectScopedAutoGearRules = null;\n    if (typeof window.autoGearPresets === \"undefined\") window.autoGearPresets = [];\n    if (typeof window.autoGearBackupsVisible === \"undefined\") window.autoGearBackupsVisible = false;\n    if (typeof window.autoGearMonitorDefaults === \"undefined\") window.autoGearMonitorDefaults = {};\n    if (typeof window.autoGearEditorDraft === \"undefined\") window.autoGearEditorDraft = null;\n    if (typeof window.autoGearSearchQuery === \"undefined\") window.autoGearSearchQuery = '';\n    if (typeof window.autoGearSummaryFocus === \"undefined\") window.autoGearSummaryFocus = 'all';\n\n    // Additional UI Reference Shims\n    if (typeof window.autoGearSearchInput === \"undefined\") window.autoGearSearchInput = document.getElementById('autoGearSearch');\n    if (typeof window.autoGearFilterScenarioSelect === \"undefined\") window.autoGearFilterScenarioSelect = document.getElementById('autoGearFilterScenario');\n    if (typeof window.autoGearFilterClearButton === \"undefined\") window.autoGearFilterClearButton = document.getElementById('autoGearFilterClear');\n    if (typeof window.autoGearDeletePresetButton === \"undefined\") window.autoGearDeletePresetButton = document.getElementById('autoGearDeletePreset');\n    if (typeof window.autoGearDraftPendingWarnings === \"undefined\") window.autoGearDraftPendingWarnings = null;\n    if (typeof window.autoGearBackupsHiddenNotice === \"undefined\") window.autoGearBackupsHiddenNotice = document.getElementById('autoGearBackupsHiddenNotice');\n    if (typeof window.batteryCountElem === \"undefined\") window.batteryCountElem = document.getElementById('batteryCount');\n    if (typeof window.autoGearDraftImpactList === \"undefined\") window.autoGearDraftImpactList = document.getElementById('autoGearDraftImpactList');\n    if (typeof window.autoGearDraftWarningList === \"undefined\") window.autoGearDraftWarningList = document.getElementById('autoGearDraftWarningList');\n    if (typeof window.autoGearDraftWarningContainer === \"undefined\") window.autoGearDraftWarningContainer = document.getElementById('autoGearDraftWarningContainer');\n    if (typeof window.autoGearBackupsSection === \"undefined\") window.autoGearBackupsSection = document.getElementById('autoGearBackupsSection');\n    if (typeof window.autoGearBackupControls === \"undefined\") window.autoGearBackupControls = document.getElementById('autoGearBackupControls');\n    if (typeof window.autoGearBackupSelect === \"undefined\") window.autoGearBackupSelect = document.getElementById('autoGearBackupSelect');\n    if (typeof window.autoGearBackupRestoreButton === \"undefined\") window.autoGearBackupRestoreButton = document.getElementById('autoGearBackupRestore');\n    if (typeof window.autoGearRulesList === \"undefined\") window.autoGearRulesList = document.getElementById('autoGearRulesList');\n    if (typeof window.autoGearPresetSelect === \"undefined\") window.autoGearPresetSelect = document.getElementById('autoGearPresetSelect');\n    if (typeof window.autoGearSavePresetButton === \"undefined\") window.autoGearSavePresetButton = document.getElementById('autoGearSavePreset');\n    if (typeof window.autoGearEditor === \"undefined\") window.autoGearEditor = document.getElementById('autoGearEditor');\n\n    if (typeof window.applyFilterSelectionsToGearList !== 'function') window.applyFilterSelectionsToGearList = function () { };\n    if (typeof window.renderFilterDetails !== 'function') window.renderFilterDetails = function () { };\n    if (typeof window.openDialog !== 'function') {\n        window.openDialog = function (dialog) {\n            if (dialog) {\n                if (typeof dialog.showModal === 'function' && !dialog.open) {\n                    try { dialog.showModal(); } catch (e) { dialog.setAttribute('open', ''); }\n                } else {\n                    dialog.setAttribute('open', '');\n                }\n            }\n        };\n    }\n    if (typeof window.closeDialog !== 'function') {\n        window.closeDialog = function (dialog) {\n            if (dialog) {\n                if (typeof dialog.close === 'function') {\n                    dialog.close();\n                }\n                dialog.removeAttribute('open');\n            }\n        };\n    }\n    if (typeof window.isDialogOpen !== 'function') {\n        window.isDialogOpen = function (dialog) {\n            if (!dialog) return false;\n            return dialog.open === true || dialog.hasAttribute('open');\n        };\n    }\n    if (typeof window.scheduleSettingsTabsOverflowUpdate !== 'function') window.scheduleSettingsTabsOverflowUpdate = function () { };\n    if (typeof window.applySessionMountVoltagePreferences !== 'function') window.applySessionMountVoltagePreferences = function () { };\n\n    // Auto-Gear DOM Elements\n    // Categorized Auto-Gear Selectors\n    var autoGearSelectors = [\n        'autoGearCameraSelect', 'autoGearOwnGearSelect', 'autoGearMonitorSelect',\n        'autoGearMotorsSelect', 'autoGearControllersSelect', 'autoGearDistanceSelect',\n        'autoGearWirelessSelect', 'autoGearVideoDistributionSelect', 'autoGearTripodHeadBrandSelect',\n        'autoGearTripodBowlSelect', 'autoGearTripodTypesSelect', 'autoGearTripodSpreaderSelect',\n        'autoGearCrewPresentSelect', 'autoGearCrewAbsentSelect', 'autoGearDeliveryResolutionSelect',\n        'autoGearMatteboxSelect', 'autoGearViewfinderExtensionSelect', 'autoGearScenariosSelect',\n        'autoGearAddOwnGearSelect', 'autoGearRemoveOwnGearSelect', 'autoGearAddCategorySelect',\n        'autoGearRemoveCategorySelect', 'autoGearScenarioModeSelect', 'autoGearCameraWeightModeSelect',\n        'autoGearCameraModeSelect', 'autoGearOwnGearModeSelect', 'autoGearMonitorModeSelect',\n        'autoGearMotorsModeSelect', 'autoGearControllersModeSelect', 'autoGearDistanceModeSelect',\n        'autoGearWirelessModeSelect', 'autoGearVideoDistributionModeSelect', 'autoGearTripodHeadBrandModeSelect',\n        'autoGearTripodBowlModeSelect', 'autoGearTripodTypesModeSelect', 'autoGearTripodSpreaderModeSelect',\n        'autoGearCrewPresentModeSelect', 'autoGearCrewAbsentModeSelect', 'autoGearDeliveryResolutionModeSelect',\n        'autoGearMatteboxModeSelect', 'autoGearViewfinderExtensionModeSelect',\n        'autoGearAddNameInput', 'autoGearAddQuantityInput', 'autoGearAddScreenSizeInput',\n        'autoGearAddNotesInput', 'autoGearRemoveNameInput', 'autoGearRemoveQuantityInput',\n        'autoGearRemoveScreenSizeInput', 'autoGearRemoveNotesInput', 'autoGearImportInput',\n        'autoGearBackupRetentionInput', 'autoGearAddItemButton', 'autoGearRemoveItemButton',\n        'autoGearSaveRuleButton', 'autoGearCancelEditButton', 'autoGearExportButton',\n        'autoGearImportButton', 'autoGearAddList', 'autoGearRemoveList',\n        'autoGearDraftImpactContainer', 'autoGearDraftImpactList',\n        'autoGearDraftWarningContainer', 'autoGearDraftWarningList',\n        'autoGearAddSelectorDefaultInput', 'autoGearRemoveSelectorDefaultInput',\n        'autoGearSummarySection', 'autoGearSummaryHeadingElem', 'autoGearSummaryDescriptionElem',\n        'autoGearSummaryCards', 'autoGearSummaryDetails', 'autoGearSummaryLast',\n        'autoGearMonitorDefaultsSection', 'autoGearCameraWeightSection',\n        'autoGearHeadingElem', 'autoGearMonitorDefaultsHeading', 'autoGearAddItemsHeading',\n        'autoGearRemoveItemsHeading', 'autoGearDraftImpactHeading', 'autoGearDraftWarningHeading',\n        'autoGearBackupsHeading', 'autoGearDescriptionElem', 'autoGearMonitorDefaultsDescription',\n        'autoGearSearchLabel', 'autoGearFilterScenarioLabel', 'autoGearPresetDescription',\n        'autoGearPresetLabel', 'autoGearConditionSelectLabel', 'autoGearAlwaysLabel',\n        'autoGearAlwaysHelp', 'autoGearDefaultFocusMonitorLabel', 'autoGearDefaultHandheldMonitorLabel',\n        'autoGearDefaultComboMonitorLabel', 'autoGearDefaultDirectorMonitorLabel',\n        'autoGearBackupsDescription', 'autoGearDraftImpactDescription',\n        'autoGearDefaultFocusMonitorSelect', 'autoGearDefaultHandheldMonitorSelect',\n        'autoGearDefaultComboMonitorSelect', 'autoGearDefaultDirectorMonitorSelect',\n        'autoGearConditionSelect', 'autoGearSavePresetButton', 'autoGearDeletePresetButton',\n        'autoGearAddRuleBtn', 'autoGearResetFactoryButton', 'autoGearConditionAddButton',\n        'autoGearMonitorDefaultControls', 'autoGearRulesList', 'autoGearConditionControls',\n        'autoGearConditionList', 'autoGearConditionAddShortcuts', 'autoGearConditionRemoveButtons',\n        'autoGearSummaryFocus'\n    ];\n\n    autoGearSelectors.forEach(function (name) {\n        if (typeof window[name] === \"undefined\") {\n            var id = name.replace('Select', '').replace('autoGear', 'autoGear'); // Fallback logic\n            // Most of these follow a pattern, but some don't. document.getElementById is safest.\n            window[name] = document.getElementById(name.replace('Select', '')) || null;\n        }\n    });\n\n    if (typeof window.getAutoGearOwnGearItems !== 'function') window.getAutoGearOwnGearItems = function () { return []; };\n    if (typeof window.findAutoGearOwnGearById !== 'function') window.findAutoGearOwnGearById = function () { return null; };\n    if (typeof window.formatOwnGearQuantityText !== 'function') window.formatOwnGearQuantityText = function (q) { return q; };\n    if (typeof window.collectAutoGearSelectedValues !== 'function') window.collectAutoGearSelectedValues = function () { return []; };\n    if (typeof window.buildFilterGearEntries !== 'function') window.buildFilterGearEntries = function () { return []; };\n    if (typeof window.collectFilterAccessories !== 'function') window.collectFilterAccessories = function () { return []; };\n    if (typeof window.buildFilterSelectHtml !== 'function') window.buildFilterSelectHtml = function () { return ''; };\n    if (typeof window.gearItemTranslations === 'undefined') window.gearItemTranslations = {};\n\n    if (typeof window.refreshAutoGearScenarioFilterOptions !== 'function') {\n        window.refreshAutoGearScenarioFilterOptions = function () { };\n    }\n    if (typeof window.updateAutoGearMonitorCatalogOptions !== 'function') {\n        window.updateAutoGearMonitorCatalogOptions = function () { };\n    }\n    if (typeof window.sortAutoGearPresets !== 'function') {\n        window.sortAutoGearPresets = function (presets) { return Array.isArray(presets) ? presets : []; };\n    }\n    if (typeof window.activateSettingsTab !== 'function') {\n        window.activateSettingsTab = function () { };\n    }\n    if (typeof window.activeSettingsTabId === 'undefined') {\n        window.activeSettingsTabId = '';\n    }\n    if (typeof window.ensureGearListActions !== 'function') {\n        window.ensureGearListActions = function () { };\n    }\n    if (typeof window.setInstallBannerOffset !== 'function') {\n        window.setInstallBannerOffset = function () { };\n    }\n    if (typeof window.parseFilterTokens !== 'function') {\n        // Fallback that will be overridden by app-session.js once it loads\n        window.parseFilterTokens = function (str) {\n            if (!str) return [];\n            return str.split(',').map(s => {\n                const parts = s.split(':').map(p => p.trim());\n                return { type: parts[0], size: parts[1] || '4x5.65', values: parts[2] ? parts[2].split('|') : [] };\n            }).filter(t => t.type);\n        };\n    }\n\n    console.log(\"Legacy globals shim executed. Global UI references and localeSort restored.\");\n\n    // Helper functions restored for app-session.js\n    if (!window.getBatteryMountType) {\n        window.getBatteryMountType = function getBatteryMountType(batteryName) {\n            if (!batteryName || batteryName === 'None') {\n                return '';\n            }\n            const info = window.devices && window.devices.batteries ? window.devices.batteries[batteryName] : null;\n            const mount = info && typeof info.mount_type === 'string' ? info.mount_type : '';\n            return mount || '';\n        };\n    }\n\n    if (!window.normalizeBatteryPlateValue) {\n        window.normalizeBatteryPlateValue = function normalizeBatteryPlateValue(plateValue, batteryName) {\n            const normalizedPlate = typeof plateValue === 'string' ? plateValue.trim() : '';\n            const derivedMount = window.getBatteryMountType(batteryName);\n            if (!derivedMount) {\n                return normalizedPlate;\n            }\n            if (!normalizedPlate || normalizedPlate !== derivedMount) {\n                return derivedMount;\n            }\n            return normalizedPlate;\n        };\n    }\n})();\n"],"names":["localeSortCollator","a","b","stringA","stringB","pm","cb","dialog","autoGearSelectors","name","q","presets","str","s","parts","p","t","batteryName","info","plateValue","normalizedPlate","derivedMount"],"mappings":"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"}