{"version":3,"file":"vendor-DzOFLsIx.js","sources":["../../src/modules/storage-shim.js","../../src/modules/translations-shim.js","../../src/scripts/shims/legacy-globals-shim.js","../../node_modules/idb-keyval/dist/index.js","../../node_modules/lz-string/libs/lz-string.js"],"sourcesContent":["/**\n * @fileoverview ES Module Shim for Storage Functions\n *\n * This module re-exports existing global storage functions as ES module exports.\n * It provides a bridge between the legacy global-based architecture and the\n * new ES module system, allowing gradual migration without breaking changes.\n *\n * IMPORTANT: This is a shim layer - it does NOT modify the underlying storage\n * implementation. All functions are still executed from the global scope.\n */\n\n/**\n * Safely get a global function, returning a no-op if not available.\n * @param {string} name - Function name on the global scope\n * @returns {Function} The global function or a no-op\n */\nfunction getGlobal(name) {\n    const scope = typeof globalThis !== 'undefined' ? globalThis :\n        typeof window !== 'undefined' ? window :\n            typeof self !== 'undefined' ? self : {};\n    return typeof scope[name] === 'function' ? scope[name] : () => {\n        console.warn(`[storage-shim] ${name} not available yet`);\n        return null;\n    };\n}\n\n// ============================================================================\n// Project Management\n// ============================================================================\n\n/** Load a project by name */\nexport const loadProject = (...args) => getGlobal('loadProject')(...args);\n\n/** Load metadata for all projects (lightweight, no full data) */\nexport const loadProjectMetadata = (...args) => getGlobal('loadProjectMetadata')(...args);\n\n/** Save a project */\nexport const saveProject = (...args) => getGlobal('saveProject')(...args);\n\n/** Delete a project by name */\nexport const deleteProject = (...args) => getGlobal('deleteProject')(...args);\n\n/** Rename a project */\nexport const renameProject = (...args) => getGlobal('renameProject')(...args);\n\n/** Create a backup before deleting a project */\nexport const createProjectDeletionBackup = (...args) => getGlobal('createProjectDeletionBackup')(...args);\n\n/** Get the project storage revision key name */\nexport const getProjectStorageRevisionKeyName = (...args) => getGlobal('getProjectStorageRevisionKeyName')(...args);\n\n/** Load the project storage revision */\nexport const loadProjectStorageRevision = (...args) => getGlobal('loadProjectStorageRevision')(...args);\n\n/** Invalidate the project read cache */\nexport const invalidateProjectReadCache = (...args) => getGlobal('invalidateProjectReadCache')(...args);\n\n// ============================================================================\n// Setup Management (Legacy)\n// ============================================================================\n\n/** Load all setups */\nexport const loadSetups = (...args) => getGlobal('loadSetups')(...args);\n\n/** Save all setups */\nexport const saveSetups = (...args) => getGlobal('saveSetups')(...args);\n\n/** Save a single setup */\nexport const saveSetup = (...args) => getGlobal('saveSetup')(...args);\n\n/** Load a single setup */\nexport const loadSetup = (...args) => getGlobal('loadSetup')(...args);\n\n/** Delete a setup */\nexport const deleteSetup = (...args) => getGlobal('deleteSetup')(...args);\n\n/** Rename a setup */\nexport const renameSetup = (...args) => getGlobal('renameSetup')(...args);\n\n// ============================================================================\n// Device Management\n// ============================================================================\n\n/** Load device data */\nexport const loadDeviceData = (...args) => getGlobal('loadDeviceData')(...args);\n\n/** Save device data */\nexport const saveDeviceData = (...args) => getGlobal('saveDeviceData')(...args);\n\n// ============================================================================\n// Session State\n// ============================================================================\n\n/** Load session state */\nexport const loadSessionState = (...args) => getGlobal('loadSessionState')(...args);\n\n/** Save session state */\nexport const saveSessionState = (...args) => getGlobal('saveSessionState')(...args);\n\n// ============================================================================\n// Contacts\n// ============================================================================\n\n/** Load contacts */\nexport const loadContacts = (...args) => getGlobal('loadContacts')(...args);\n\n/** Save contacts */\nexport const saveContacts = (...args) => getGlobal('saveContacts')(...args);\n\n// ============================================================================\n// Own Gear\n// ============================================================================\n\n/** Load own gear inventory */\nexport const loadOwnGear = (...args) => getGlobal('loadOwnGear')(...args);\n\n/** Save own gear inventory */\nexport const saveOwnGear = (...args) => getGlobal('saveOwnGear')(...args);\n\n// ============================================================================\n// User Profile\n// ============================================================================\n\n/** Load user profile */\nexport const loadUserProfile = (...args) => getGlobal('loadUserProfile')(...args);\n\n/** Save user profile */\nexport const saveUserProfile = (...args) => getGlobal('saveUserProfile')(...args);\n\n// ============================================================================\n// Auto Gear System\n// ============================================================================\n\n/** Load auto gear rules */\nexport const loadAutoGearRules = (...args) => getGlobal('loadAutoGearRules')(...args);\n\n/** Save auto gear rules */\nexport const saveAutoGearRules = (...args) => getGlobal('saveAutoGearRules')(...args);\n\n/** Load auto gear presets */\nexport const loadAutoGearPresets = (...args) => getGlobal('loadAutoGearPresets')(...args);\n\n/** Save auto gear presets */\nexport const saveAutoGearPresets = (...args) => getGlobal('saveAutoGearPresets')(...args);\n\n/** Load auto gear active preset ID */\nexport const loadAutoGearActivePresetId = (...args) => getGlobal('loadAutoGearActivePresetId')(...args);\n\n/** Save auto gear active preset ID */\nexport const saveAutoGearActivePresetId = (...args) => getGlobal('saveAutoGearActivePresetId')(...args);\n\n/** Load auto gear backups */\nexport const loadAutoGearBackups = (...args) => getGlobal('loadAutoGearBackups')(...args);\n\n/** Save auto gear backups */\nexport const saveAutoGearBackups = (...args) => getGlobal('saveAutoGearBackups')(...args);\n\n// ============================================================================\n// Favorites\n// ============================================================================\n\n/** Load favorites */\nexport const loadFavorites = (...args) => getGlobal('loadFavorites')(...args);\n\n/** Save favorites */\nexport const saveFavorites = (...args) => getGlobal('saveFavorites')(...args);\n\n// ============================================================================\n// Feedback\n// ============================================================================\n\n/** Load user feedback data */\nexport const loadFeedback = (...args) => getGlobal('loadFeedback')(...args);\n\n/** Save user feedback data */\nexport const saveFeedback = (...args) => getGlobal('saveFeedback')(...args);\n\n// ============================================================================\n// Data Import/Export\n// ============================================================================\n\n/** Export all data for backup */\nexport const exportAllData = (...args) => getGlobal('exportAllData')(...args);\n\n/** Import all data from backup */\nexport const importAllData = (...args) => getGlobal('importAllData')(...args);\n\n/** Prepare backup for export */\nexport const prepareBackupForExport = (...args) => getGlobal('prepareBackupForExport')(...args);\n\n/** Clear all data (factory reset) */\nexport const clearAllData = (...args) => getGlobal('clearAllData')(...args);\n\n// ============================================================================\n// Utilities\n// ============================================================================\n\n/** Get safe localStorage reference */\nexport const getSafeLocalStorage = (...args) => getGlobal('getSafeLocalStorage')(...args);\n\n/** Request persistent storage */\nexport const requestPersistentStorage = (...args) => getGlobal('requestPersistentStorage')(...args);\n\n/** Decode a stored value (handles compression) */\nexport const decodeStoredValue = (...args) => getGlobal('decodeStoredValue')(...args);\n\n/** Ensure critical storage backups */\nexport const ensureCriticalStorageBackups = (...args) => getGlobal('ensureCriticalStorageBackups')(...args);\n\n// ============================================================================\n// Full Backup History\n// ============================================================================\n\n/** Load full backup history */\nexport const loadFullBackupHistory = (...args) => getGlobal('loadFullBackupHistory')(...args);\n\n/** Save full backup history */\nexport const saveFullBackupHistory = (...args) => getGlobal('saveFullBackupHistory')(...args);\n\n/** Record a full backup history entry */\nexport const recordFullBackupHistoryEntry = (...args) => getGlobal('recordFullBackupHistoryEntry')(...args);\n\n// ============================================================================\n// Default Export (all functions)\n// ============================================================================\n\nexport default {\n    // Project management\n    loadProject,\n    loadProjectMetadata,\n    saveProject,\n    deleteProject,\n    renameProject,\n    createProjectDeletionBackup,\n    getProjectStorageRevisionKeyName,\n    loadProjectStorageRevision,\n    invalidateProjectReadCache,\n\n    // Setup management\n    loadSetups,\n    saveSetups,\n    saveSetup,\n    loadSetup,\n    deleteSetup,\n    renameSetup,\n\n    // Device management\n    loadDeviceData,\n    saveDeviceData,\n\n    // Session state\n    loadSessionState,\n    saveSessionState,\n\n    // Contacts\n    loadContacts,\n    saveContacts,\n\n    // Own gear\n    loadOwnGear,\n    saveOwnGear,\n\n    // User profile\n    loadUserProfile,\n    saveUserProfile,\n\n    // Auto gear\n    loadAutoGearRules,\n    saveAutoGearRules,\n    loadAutoGearPresets,\n    saveAutoGearPresets,\n    loadAutoGearActivePresetId,\n    saveAutoGearActivePresetId,\n    loadAutoGearBackups,\n    saveAutoGearBackups,\n\n    // Favorites\n    loadFavorites,\n    saveFavorites,\n\n    // Feedback\n    loadFeedback,\n    saveFeedback,\n\n    // Import/Export\n    exportAllData,\n    importAllData,\n    prepareBackupForExport,\n    clearAllData,\n\n    // Utilities\n    getSafeLocalStorage,\n    requestPersistentStorage,\n    decodeStoredValue,\n    ensureCriticalStorageBackups,\n\n    // Backup history\n    loadFullBackupHistory,\n    saveFullBackupHistory,\n    recordFullBackupHistoryEntry,\n};\n","/**\n * @fileoverview ES Module Shim for Translation/Localization Functions\n *\n * This module re-exports existing global translation functions and data\n * as ES module exports. It provides a bridge between the legacy global-based\n * architecture and the new ES module system.\n *\n * IMPORTANT: This is a shim layer - it does NOT modify the underlying\n * translation system. All functions access the global scope.\n */\n\n/**\n * Safely get a value from the global scope.\n * @param {string} name - Property name on the global scope\n * @returns {*} The global value or undefined\n */\nfunction getGlobal(name) {\n    const scope = typeof globalThis !== 'undefined' ? globalThis :\n        typeof window !== 'undefined' ? window :\n            typeof self !== 'undefined' ? self : {};\n    return scope[name];\n}\n\n/**\n * Safely get a global function, returning a no-op if not available.\n * @param {string} name - Function name on the global scope\n * @returns {Function} The global function or a no-op\n */\nfunction getGlobalFn(name) {\n    const fn = getGlobal(name);\n    return typeof fn === 'function' ? fn : () => {\n        console.warn(`[translations-shim] ${name} not available yet`);\n        return '';\n    };\n}\n\n// ============================================================================\n// Translation Functions\n// ============================================================================\n\n/**\n * Get a translated text string by key.\n * This is the primary translation function used throughout the app.\n * @param {string} key - The translation key\n * @param {*} [fallback] - Optional fallback value\n * @returns {string} The translated string\n */\nexport const getText = (...args) => getGlobalFn('getText')(...args);\n\n/**\n * Alias for getText - commonly used shorthand.\n */\nexport const t = getText;\n\n/**\n * Update all translatable UI elements.\n */\nexport const updateUITranslations = (...args) => getGlobalFn('updateUITranslations')(...args);\n\n/**\n * Set the current language.\n * @param {string} langCode - Language code (en, de, es, fr, it)\n */\nexport const setLanguage = (...args) => getGlobalFn('setLanguage')(...args);\n\n/**\n * Get the current language code.\n * @returns {string} Current language code\n */\nexport function getCurrentLanguage() {\n    return getGlobal('currentLang') || 'en';\n}\n\n// ============================================================================\n// Translation Data Access\n// ============================================================================\n\n/**\n * Get the texts object for the current language.\n * @returns {Object} Current language texts\n */\nexport function getTexts() {\n    const texts = getGlobal('texts');\n    const lang = getCurrentLanguage();\n    return texts && texts[lang] ? texts[lang] : (texts?.en || {});\n}\n\n/**\n * Get category name translations.\n * @returns {Object} Category names for current language\n */\nexport function getCategoryNames() {\n    const categoryNames = getGlobal('categoryNames');\n    const lang = getCurrentLanguage();\n    return categoryNames && categoryNames[lang] ? categoryNames[lang] : (categoryNames?.en || {});\n}\n\n/**\n * Get gear item translations.\n * @returns {Object} Gear item names for current language\n */\nexport function getGearItems() {\n    const gearItems = getGlobal('gearItems');\n    const lang = getCurrentLanguage();\n    return gearItems && gearItems[lang] ? gearItems[lang] : (gearItems?.en || {});\n}\n\n// ============================================================================\n// Language List\n// ============================================================================\n\n/**\n * Available language codes.\n */\nexport const AVAILABLE_LANGUAGES = ['en', 'de', 'es', 'fr', 'it'];\n\n/**\n * Language display names.\n */\nexport const LANGUAGE_NAMES = {\n    en: 'English',\n    de: 'Deutsch',\n    es: 'Español',\n    fr: 'Français',\n    it: 'Italiano',\n};\n\n// ============================================================================\n// Default Export\n// ============================================================================\n\nexport default {\n    getText,\n    t,\n    updateUITranslations,\n    setLanguage,\n    getCurrentLanguage,\n    getTexts,\n    getCategoryNames,\n    getGearItems,\n    AVAILABLE_LANGUAGES,\n    LANGUAGE_NAMES,\n};\n","\n\n\n(function () {\n    if (typeof window === 'undefined') return;\n\n    // Restore critical globals previously in app-core-new-1.js\n    // Executed immediately so subsequent scripts (app-events.js, app-session.js) find these variables defined.\n    // Even if getElementById returns null (DOM not ready), defining them as null on window prevents ReferenceErrors.\n\n    if (typeof window.ICON_FONT_KEYS === 'undefined') {\n        window.ICON_FONT_KEYS = {\n            UICONS: 'uicons',\n            ESSENTIAL: 'essential',\n            GADGET: 'gadget',\n            FILM: 'film',\n            TEXT: 'text'\n        };\n    }\n\n    if (!window.cameraSelect) window.cameraSelect = document.getElementById(\"cameraSelect\");\n    if (!window.monitorSelect) window.monitorSelect = document.getElementById(\"monitorSelect\");\n    if (!window.videoSelect) window.videoSelect = document.getElementById(\"videoSelect\");\n    if (!window.videoDistributionSelect) window.videoDistributionSelect = document.getElementById(\"videoDistribution\");\n    if (!window.cageSelect) window.cageSelect = document.getElementById(\"cageSelect\");\n\n    if (!window.motorSelects) {\n        window.motorSelects = [\n            document.getElementById(\"motor1Select\"),\n            document.getElementById(\"motor2Select\"),\n            document.getElementById(\"motor3Select\"),\n            document.getElementById(\"motor4Select\")\n        ];\n    }\n\n    if (!window.controllerSelects) {\n        window.controllerSelects = [\n            document.getElementById(\"controller1Select\"),\n            document.getElementById(\"controller2Select\"),\n            document.getElementById(\"controller3Select\"),\n            document.getElementById(\"controller4Select\")\n        ];\n    }\n\n    if (!window.distanceSelect) window.distanceSelect = document.getElementById(\"distanceSelect\");\n    if (!window.batterySelect) window.batterySelect = document.getElementById(\"batterySelect\");\n    if (!window.hotswapSelect) window.hotswapSelect = document.getElementById(\"batteryHotswapSelect\");\n    if (!window.lensSelect) window.lensSelect = document.getElementById(\"lenses\");\n\n    // Export Button (used in app-events.js)\n    if (!window.exportBtn) window.exportBtn = document.getElementById(\"exportDataBtn\");\n\n    // Other globals found in app-core-new-1.js that might be needed\n    if (!window.crewContainer) window.crewContainer = document.getElementById(\"crewContainer\");\n    if (!window.prepContainer) window.prepContainer = document.getElementById(\"prepContainer\");\n    if (!window.shootContainer) window.shootContainer = document.getElementById(\"shootContainer\");\n    if (!window.returnContainer) window.returnContainer = document.getElementById(\"returnContainer\");\n    if (!window.storageNeedsContainer) window.storageNeedsContainer = document.getElementById(\"storageNeedsContainer\");\n\n    // Dialogs\n    if (!window.projectDialogCloseBtn) window.projectDialogCloseBtn = document.getElementById(\"projectDialogClose\");\n    if (!window.setupNameInput) window.setupNameInput = document.getElementById(\"setupName\");\n\n    // Project Management UI (restored from app-core-new-1.js)\n    if (!window.setupSelect) window.setupSelect = document.getElementById(\"setupSelect\");\n    if (!window.saveSetupBtn) window.saveSetupBtn = document.getElementById(\"saveSetupBtn\");\n    if (!window.deleteSetupBtn) window.deleteSetupBtn = document.getElementById(\"deleteSetupBtn\");\n    if (!window.shareSetupBtn) window.shareSetupBtn = document.getElementById(\"shareSetupBtn\");\n\n    if (!window.sharedLinkInput) window.sharedLinkInput = document.getElementById(\"sharedLinkInput\");\n    if (!window.applySharedLinkBtn) window.applySharedLinkBtn = document.getElementById(\"applySharedLinkBtn\");\n    if (!window.shareLinkMessage) window.shareLinkMessage = document.getElementById(\"shareLinkMessage\");\n\n    // Missing Global State Variables\n    if (typeof window.showAutoBackups === \"undefined\") window.showAutoBackups = false;\n\n    // Missing UI Elements\n    if (typeof window.autoGearAddRuleBtn === \"undefined\") window.autoGearAddRuleBtn = document.getElementById(\"autoGearAddRuleBtn\");\n    if (typeof window.autoGearConditionAddButton === \"undefined\") window.autoGearConditionAddButton = document.getElementById(\"autoGearConditionAddBtn\");\n\n    if (typeof window.autoGearScenarioBaseSelect === \"undefined\") window.autoGearScenarioBaseSelect = document.getElementById(\"autoGearScenarioBaseSelect\");\n\n    // Missing UI Selects\n    if (!window.batteryPlateSelect) window.batteryPlateSelect = document.getElementById(\"batteryPlateSelect\");\n    if (!window.hotswapSelect) window.hotswapSelect = document.getElementById(\"batteryHotswapSelect\");\n\n    // Missing State Objects\n    if (!window.autoGearActiveConditions) window.autoGearActiveConditions = new Set();\n\n    // Share/Export Dialog mappings for app-setups.js\n    if (!window.shareDialog) window.shareDialog = document.getElementById(\"shareDialog\");\n    if (!window.shareForm) window.shareForm = document.getElementById(\"shareForm\");\n    if (!window.shareFilename) window.shareFilename = document.getElementById(\"shareFilename\");\n    if (!window.shareFilenameInput) window.shareFilenameInput = window.shareFilename || document.getElementById(\"shareFilename\");\n    if (!window.shareFilenameMessage) window.shareFilenameMessage = document.getElementById(\"shareFilenameMessage\");\n    if (!window.shareIncludeAutoGear) window.shareIncludeAutoGear = document.getElementById(\"shareIncludeAutoGear\");\n    if (!window.shareIncludeAutoGearCheckbox) window.shareIncludeAutoGearCheckbox = window.shareIncludeAutoGear || document.getElementById(\"shareIncludeAutoGear\");\n    if (!window.shareIncludeAutoGearLabel) window.shareIncludeAutoGearLabel = document.getElementById(\"shareIncludeAutoGearLabel\");\n    if (!window.shareIncludeAutoGearLabelElem) window.shareIncludeAutoGearLabelElem = window.shareIncludeAutoGearLabel || document.getElementById(\"shareIncludeAutoGearLabel\");\n    if (!window.shareIncludeOwnedGear) window.shareIncludeOwnedGear = document.getElementById(\"shareIncludeOwnedGear\");\n    if (!window.shareIncludeOwnedGearCheckbox) window.shareIncludeOwnedGearCheckbox = window.shareIncludeOwnedGear || document.getElementById(\"shareIncludeOwnedGear\");\n    if (!window.shareIncludeOwnedGearLabel) window.shareIncludeOwnedGearLabel = document.getElementById(\"shareIncludeOwnedGearLabel\");\n    if (!window.shareIncludeOwnedGearLabelElem) window.shareIncludeOwnedGearLabelElem = window.shareIncludeOwnedGearLabel || document.getElementById(\"shareIncludeOwnedGearLabel\");\n    if (!window.shareCancelBtn) window.shareCancelBtn = document.getElementById(\"shareCancelBtn\");\n    if (!window.shareConfirmBtn) window.shareConfirmBtn = document.getElementById(\"shareConfirmBtn\");\n\n    // Import Dialog mappings for app-setups.js\n    if (!window.sharedImportDialog) window.sharedImportDialog = document.getElementById(\"sharedImportDialog\");\n    if (!window.sharedImportForm) window.sharedImportForm = document.getElementById(\"sharedImportForm\");\n    if (!window.sharedImportModeSelect) window.sharedImportModeSelect = document.getElementById(\"sharedImportModeSelect\");\n    if (!window.sharedImportCancelBtn) window.sharedImportCancelBtn = document.getElementById(\"sharedImportCancelBtn\");\n    if (!window.sharedImportConfirmBtn) window.sharedImportConfirmBtn = document.getElementById(\"sharedImportConfirmBtn\");\n\n    // Sorting Helper (moved from app-core-new-1.js to allow early use in auto-gear modules)\n    if (!window.localeSort) {\n        let localeSortCollator = null;\n        window.localeSort = function localeSort(a, b) {\n            const stringA = typeof a === 'string' ? a : (a && typeof a.toString === 'function' ? a.toString() : '');\n            const stringB = typeof b === 'string' ? b : (b && typeof b.toString === 'function' ? b.toString() : '');\n            if (!localeSortCollator) {\n                try {\n                    localeSortCollator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\n                } catch {\n                    localeSortCollator = false;\n                }\n            }\n            if (localeSortCollator && typeof localeSortCollator.compare === 'function') {\n                return localeSortCollator.compare(stringA, stringB);\n            }\n            return stringA.localeCompare(stringB);\n        };\n    }\n\n    // Pink Mode Shims\n    if (typeof window.cineCorePinkModeSupport !== 'undefined') {\n        const pm = window.cineCorePinkModeSupport;\n        if (!window.resolvePinkModeLottieRuntime && pm.resolvePinkModeLottieRuntime) window.resolvePinkModeLottieRuntime = pm.resolvePinkModeLottieRuntime;\n        if (!window.ensurePinkModeLottieRuntime && pm.ensurePinkModeLottieRuntime) window.ensurePinkModeLottieRuntime = pm.ensurePinkModeLottieRuntime;\n\n        if (!window.setPinkModeIconSequence && pm.setPinkModeIconSequence) window.setPinkModeIconSequence = pm.setPinkModeIconSequence;\n        if (!window.loadPinkModeIconsFromFiles && pm.loadPinkModeIconsFromFiles) window.loadPinkModeIconsFromFiles = pm.loadPinkModeIconsFromFiles;\n        if (typeof window.PINK_MODE_ICON_FALLBACK_MARKUP === 'undefined' && pm.PINK_MODE_ICON_FALLBACK_MARKUP) window.PINK_MODE_ICON_FALLBACK_MARKUP = pm.PINK_MODE_ICON_FALLBACK_MARKUP;\n    }\n\n    // Restoration of legacy global variables for V2/Vite compatibility\n    (function () {\n        if (typeof window !== 'undefined' && typeof window.global === 'undefined') {\n            window.global = window;\n        }\n\n        // Safety check for window.devices structure which is critical for the V2 UI\n    })();\n\n    // Backup Shims\n    // Ensure clearBackupVault is available as a promise-returning function to prevent runtime reference errors\n    if (typeof window.clearBackupVault !== 'function') {\n        window.clearBackupVault = function () {\n            // Return true to signal \"done\" (even if nothing happened)\n            if (typeof Promise !== 'undefined') {\n                return Promise.resolve(true);\n            }\n            return {\n                then: function (cb) { cb(true); return this; },\n                catch: function () { return this; }\n            };\n        };\n    }\n\n    if (typeof window.isBackupVaultFallbackActive !== 'function') {\n        window.isBackupVaultFallbackActive = function () {\n            return false;\n        };\n    }\n\n    // Auto-Gear ReferenceError Shims\n    if (typeof window.autoGearBackups === \"undefined\") window.autoGearBackups = [];\n    if (typeof window.autoGearBackupEmptyMessage === \"undefined\") window.autoGearBackupEmptyMessage = null;\n    if (typeof window.autoGearEditorActiveItem === \"undefined\") window.autoGearEditorActiveItem = null;\n    if (typeof window.autoGearShowBackupsCheckbox === \"undefined\") window.autoGearShowBackupsCheckbox = null;\n    if (typeof window.autoGearMonitorCatalogUpdatePending === \"undefined\") window.autoGearMonitorCatalogUpdatePending = false;\n    if (typeof window.autoGearAutoPresetIdState === \"undefined\") window.autoGearAutoPresetIdState = '';\n\n    if (typeof window.actionMap === \"undefined\") window.actionMap = new Map();\n\n    if (typeof window.autoGearScenarioFilter === \"undefined\") window.autoGearScenarioFilter = 'all';\n    if (typeof window.hasSeededAutoGearDefaults !== 'function') window.hasSeededAutoGearDefaults = function () { return false; };\n\n    if (typeof window.autoGearRules === \"undefined\") window.autoGearRules = [];\n    if (typeof window.baseAutoGearRulesState === \"undefined\") window.baseAutoGearRulesState = [];\n    if (typeof window.projectScopedAutoGearRules === \"undefined\") window.projectScopedAutoGearRules = null;\n    if (typeof window.autoGearPresets === \"undefined\") window.autoGearPresets = [];\n    if (typeof window.autoGearBackupsVisible === \"undefined\") window.autoGearBackupsVisible = false;\n    if (typeof window.autoGearMonitorDefaults === \"undefined\") window.autoGearMonitorDefaults = {};\n    if (typeof window.autoGearEditorDraft === \"undefined\") window.autoGearEditorDraft = null;\n    if (typeof window.autoGearSearchQuery === \"undefined\") window.autoGearSearchQuery = '';\n    if (typeof window.autoGearSummaryFocus === \"undefined\") window.autoGearSummaryFocus = 'all';\n\n    // Additional UI Reference Shims\n    if (typeof window.autoGearSearchInput === \"undefined\") window.autoGearSearchInput = document.getElementById('autoGearSearch');\n    if (typeof window.autoGearFilterScenarioSelect === \"undefined\") window.autoGearFilterScenarioSelect = document.getElementById('autoGearFilterScenario');\n    if (typeof window.autoGearFilterClearButton === \"undefined\") window.autoGearFilterClearButton = document.getElementById('autoGearFilterClear');\n    if (typeof window.autoGearDeletePresetButton === \"undefined\") window.autoGearDeletePresetButton = document.getElementById('autoGearDeletePreset');\n    if (typeof window.autoGearDraftPendingWarnings === \"undefined\") window.autoGearDraftPendingWarnings = null;\n    if (typeof window.autoGearBackupsHiddenNotice === \"undefined\") window.autoGearBackupsHiddenNotice = document.getElementById('autoGearBackupsHiddenNotice');\n    if (typeof window.batteryCountElem === \"undefined\") window.batteryCountElem = document.getElementById('batteryCount');\n    if (typeof window.autoGearDraftImpactList === \"undefined\") window.autoGearDraftImpactList = document.getElementById('autoGearDraftImpactList');\n    if (typeof window.autoGearDraftWarningList === \"undefined\") window.autoGearDraftWarningList = document.getElementById('autoGearDraftWarningList');\n    if (typeof window.autoGearDraftWarningContainer === \"undefined\") window.autoGearDraftWarningContainer = document.getElementById('autoGearDraftWarningContainer');\n    if (typeof window.autoGearBackupsSection === \"undefined\") window.autoGearBackupsSection = document.getElementById('autoGearBackupsSection');\n    if (typeof window.autoGearBackupControls === \"undefined\") window.autoGearBackupControls = document.getElementById('autoGearBackupControls');\n    if (typeof window.autoGearBackupSelect === \"undefined\") window.autoGearBackupSelect = document.getElementById('autoGearBackupSelect');\n    if (typeof window.autoGearBackupRestoreButton === \"undefined\") window.autoGearBackupRestoreButton = document.getElementById('autoGearBackupRestore');\n    if (typeof window.autoGearRulesList === \"undefined\") window.autoGearRulesList = document.getElementById('autoGearRulesList');\n    if (typeof window.autoGearPresetSelect === \"undefined\") window.autoGearPresetSelect = document.getElementById('autoGearPresetSelect');\n    if (typeof window.autoGearSavePresetButton === \"undefined\") window.autoGearSavePresetButton = document.getElementById('autoGearSavePreset');\n    if (typeof window.autoGearEditor === \"undefined\") window.autoGearEditor = document.getElementById('autoGearEditor');\n\n    if (typeof window.applyFilterSelectionsToGearList !== 'function') window.applyFilterSelectionsToGearList = function () { };\n    if (typeof window.renderFilterDetails !== 'function') window.renderFilterDetails = function () { };\n    if (typeof window.openDialog !== 'function') window.openDialog = function () { };\n    if (typeof window.isDialogOpen !== 'function') window.isDialogOpen = function () { return false; };\n    if (typeof window.scheduleSettingsTabsOverflowUpdate !== 'function') window.scheduleSettingsTabsOverflowUpdate = function () { };\n    if (typeof window.applySessionMountVoltagePreferences !== 'function') window.applySessionMountVoltagePreferences = function () { };\n\n    // Auto-Gear DOM Elements\n    // Categorized Auto-Gear Selectors\n    var autoGearSelectors = [\n        'autoGearCameraSelect', 'autoGearOwnGearSelect', 'autoGearMonitorSelect',\n        'autoGearMotorsSelect', 'autoGearControllersSelect', 'autoGearDistanceSelect',\n        'autoGearWirelessSelect', 'autoGearVideoDistributionSelect', 'autoGearTripodHeadBrandSelect',\n        'autoGearTripodBowlSelect', 'autoGearTripodTypesSelect', 'autoGearTripodSpreaderSelect',\n        'autoGearCrewPresentSelect', 'autoGearCrewAbsentSelect', 'autoGearDeliveryResolutionSelect',\n        'autoGearMatteboxSelect', 'autoGearViewfinderExtensionSelect', 'autoGearScenariosSelect',\n        'autoGearAddOwnGearSelect', 'autoGearRemoveOwnGearSelect', 'autoGearAddCategorySelect',\n        'autoGearRemoveCategorySelect', 'autoGearScenarioModeSelect', 'autoGearCameraWeightModeSelect',\n        'autoGearCameraModeSelect', 'autoGearOwnGearModeSelect', 'autoGearMonitorModeSelect',\n        'autoGearMotorsModeSelect', 'autoGearControllersModeSelect', 'autoGearDistanceModeSelect',\n        'autoGearWirelessModeSelect', 'autoGearVideoDistributionModeSelect', 'autoGearTripodHeadBrandModeSelect',\n        'autoGearTripodBowlModeSelect', 'autoGearTripodTypesModeSelect', 'autoGearTripodSpreaderModeSelect',\n        'autoGearCrewPresentModeSelect', 'autoGearCrewAbsentModeSelect', 'autoGearDeliveryResolutionModeSelect',\n        'autoGearMatteboxModeSelect', 'autoGearViewfinderExtensionModeSelect',\n        'autoGearAddNameInput', 'autoGearAddQuantityInput', 'autoGearAddScreenSizeInput',\n        'autoGearAddNotesInput', 'autoGearRemoveNameInput', 'autoGearRemoveQuantityInput',\n        'autoGearRemoveScreenSizeInput', 'autoGearRemoveNotesInput', 'autoGearImportInput',\n        'autoGearBackupRetentionInput', 'autoGearAddItemButton', 'autoGearRemoveItemButton',\n        'autoGearSaveRuleButton', 'autoGearCancelEditButton', 'autoGearExportButton',\n        'autoGearImportButton', 'autoGearAddList', 'autoGearRemoveList',\n        'autoGearDraftImpactContainer', 'autoGearDraftImpactList',\n        'autoGearDraftWarningContainer', 'autoGearDraftWarningList',\n        'autoGearAddSelectorDefaultInput', 'autoGearRemoveSelectorDefaultInput',\n        'autoGearSummarySection', 'autoGearSummaryHeadingElem', 'autoGearSummaryDescriptionElem',\n        'autoGearSummaryCards', 'autoGearSummaryDetails', 'autoGearSummaryLast',\n        'autoGearMonitorDefaultsSection', 'autoGearCameraWeightSection',\n        'autoGearHeadingElem', 'autoGearMonitorDefaultsHeading', 'autoGearAddItemsHeading',\n        'autoGearRemoveItemsHeading', 'autoGearDraftImpactHeading', 'autoGearDraftWarningHeading',\n        'autoGearBackupsHeading', 'autoGearDescriptionElem', 'autoGearMonitorDefaultsDescription',\n        'autoGearSearchLabel', 'autoGearFilterScenarioLabel', 'autoGearPresetDescription',\n        'autoGearPresetLabel', 'autoGearConditionSelectLabel', 'autoGearAlwaysLabel',\n        'autoGearAlwaysHelp', 'autoGearDefaultFocusMonitorLabel', 'autoGearDefaultHandheldMonitorLabel',\n        'autoGearDefaultComboMonitorLabel', 'autoGearDefaultDirectorMonitorLabel',\n        'autoGearBackupsDescription', 'autoGearDraftImpactDescription',\n        'autoGearDefaultFocusMonitorSelect', 'autoGearDefaultHandheldMonitorSelect',\n        'autoGearDefaultComboMonitorSelect', 'autoGearDefaultDirectorMonitorSelect',\n        'autoGearConditionSelect', 'autoGearSavePresetButton', 'autoGearDeletePresetButton',\n        'autoGearAddRuleBtn', 'autoGearResetFactoryButton', 'autoGearConditionAddButton',\n        'autoGearMonitorDefaultControls', 'autoGearRulesList', 'autoGearConditionControls',\n        'autoGearConditionList', 'autoGearConditionAddShortcuts', 'autoGearConditionRemoveButtons',\n        'autoGearSummaryFocus'\n    ];\n\n    autoGearSelectors.forEach(function (name) {\n        if (typeof window[name] === \"undefined\") {\n            var id = name.replace('Select', '').replace('autoGear', 'autoGear'); // Fallback logic\n            // Most of these follow a pattern, but some don't. document.getElementById is safest.\n            window[name] = document.getElementById(name.replace('Select', '')) || null;\n        }\n    });\n\n    if (typeof window.getAutoGearOwnGearItems !== 'function') window.getAutoGearOwnGearItems = function () { return []; };\n    if (typeof window.findAutoGearOwnGearById !== 'function') window.findAutoGearOwnGearById = function () { return null; };\n    if (typeof window.formatOwnGearQuantityText !== 'function') window.formatOwnGearQuantityText = function (q) { return q; };\n    if (typeof window.collectAutoGearSelectedValues !== 'function') window.collectAutoGearSelectedValues = function () { return []; };\n    if (typeof window.buildFilterGearEntries !== 'function') window.buildFilterGearEntries = function () { return []; };\n    if (typeof window.collectFilterAccessories !== 'function') window.collectFilterAccessories = function () { return []; };\n    if (typeof window.buildFilterSelectHtml !== 'function') window.buildFilterSelectHtml = function () { return ''; };\n    if (typeof window.gearItemTranslations === 'undefined') window.gearItemTranslations = {};\n\n    if (typeof window.refreshAutoGearScenarioFilterOptions !== 'function') {\n        window.refreshAutoGearScenarioFilterOptions = function () { };\n    }\n    if (typeof window.updateAutoGearMonitorCatalogOptions !== 'function') {\n        window.updateAutoGearMonitorCatalogOptions = function () { };\n    }\n    if (typeof window.sortAutoGearPresets !== 'function') {\n        window.sortAutoGearPresets = function (presets) { return Array.isArray(presets) ? presets : []; };\n    }\n    if (typeof window.activateSettingsTab !== 'function') {\n        window.activateSettingsTab = function () { };\n    }\n    if (typeof window.activeSettingsTabId === 'undefined') {\n        window.activeSettingsTabId = '';\n    }\n    if (typeof window.ensureGearListActions !== 'function') {\n        window.ensureGearListActions = function () { };\n    }\n    if (typeof window.setInstallBannerOffset !== 'function') {\n        window.setInstallBannerOffset = function () { };\n    }\n    if (typeof window.parseFilterTokens !== 'function') {\n        // Fallback that will be overridden by app-session.js once it loads\n        window.parseFilterTokens = function (str) {\n            if (!str) return [];\n            return str.split(',').map(s => {\n                const parts = s.split(':').map(p => p.trim());\n                return { type: parts[0], size: parts[1] || '4x5.65', values: parts[2] ? parts[2].split('|') : [] };\n            }).filter(t => t.type);\n        };\n    }\n\n    console.log(\"Legacy globals shim executed. Global UI references and localeSort restored.\");\n\n    // Helper functions restored for app-session.js\n    if (!window.getBatteryMountType) {\n        window.getBatteryMountType = function getBatteryMountType(batteryName) {\n            if (!batteryName || batteryName === 'None') {\n                return '';\n            }\n            const info = window.devices && window.devices.batteries ? window.devices.batteries[batteryName] : null;\n            const mount = info && typeof info.mount_type === 'string' ? info.mount_type : '';\n            return mount || '';\n        };\n    }\n\n    if (!window.normalizeBatteryPlateValue) {\n        window.normalizeBatteryPlateValue = function normalizeBatteryPlateValue(plateValue, batteryName) {\n            const normalizedPlate = typeof plateValue === 'string' ? plateValue.trim() : '';\n            const derivedMount = window.getBatteryMountType(batteryName);\n            if (!derivedMount) {\n                return normalizedPlate;\n            }\n            if (!normalizedPlate || normalizedPlate !== derivedMount) {\n                return derivedMount;\n            }\n            return normalizedPlate;\n        };\n    }\n})();\n","function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    let dbp;\n    const getDB = () => {\n        if (dbp)\n            return dbp;\n        const request = indexedDB.open(dbName);\n        request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n        dbp = promisifyRequest(request);\n        dbp.then((db) => {\n            // It seems like Safari sometimes likes to just close the connection.\n            // It's supposed to fire this event when that happens. Let's hope it does!\n            db.onclose = () => (dbp = undefined);\n        }, () => { });\n        return dbp;\n    };\n    return (txMode, callback) => getDB().then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic – if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction delMany(keys, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        keys.forEach((key) => store.delete(key));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(store, callback) {\n    store.openCursor().onsuccess = function () {\n        if (!this.result)\n            return;\n        callback(this.result);\n        this.result.continue();\n    };\n    return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAllKeys) {\n            return promisifyRequest(store.getAllKeys());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);\n    });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        if (store.getAll) {\n            return promisifyRequest(store.getAll());\n        }\n        const items = [];\n        return eachCursor(store, (cursor) => items.push(cursor.value)).then(() => items);\n    });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => {\n        // Fast path for modern browsers\n        // (although, hopefully we'll get a simpler path some day)\n        if (store.getAll && store.getAllKeys) {\n            return Promise.all([\n                promisifyRequest(store.getAllKeys()),\n                promisifyRequest(store.getAll()),\n            ]).then(([keys, values]) => keys.map((key, i) => [key, values[i]]));\n        }\n        const items = [];\n        return customStore('readonly', (store) => eachCursor(store, (cursor) => items.push([cursor.key, cursor.value])).then(() => items));\n    });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.5\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n} else if( typeof angular !== 'undefined' && angular != null ) {\n  angular.module('LZString', [])\n  .factory('LZString', function () {\n    return LZString;\n  });\n}\n"],"names":["getGlobal","name","scope","loadProject","args","loadProjectMetadata","saveProject","deleteProject","renameProject","createProjectDeletionBackup","getProjectStorageRevisionKeyName","loadProjectStorageRevision","invalidateProjectReadCache","loadSetups","saveSetups","saveSetup","loadSetup","deleteSetup","renameSetup","loadDeviceData","saveDeviceData","loadSessionState","saveSessionState","loadContacts","saveContacts","loadOwnGear","saveOwnGear","loadUserProfile","saveUserProfile","loadAutoGearRules","saveAutoGearRules","loadAutoGearPresets","saveAutoGearPresets","loadAutoGearActivePresetId","saveAutoGearActivePresetId","loadAutoGearBackups","saveAutoGearBackups","loadFavorites","saveFavorites","loadFeedback","saveFeedback","exportAllData","importAllData","prepareBackupForExport","clearAllData","getSafeLocalStorage","requestPersistentStorage","decodeStoredValue","ensureCriticalStorageBackups","loadFullBackupHistory","saveFullBackupHistory","recordFullBackupHistoryEntry","storage","getGlobalFn","fn","getText","t","updateUITranslations","setLanguage","getCurrentLanguage","getTexts","texts","lang","getCategoryNames","categoryNames","getGearItems","gearItems","AVAILABLE_LANGUAGES","LANGUAGE_NAMES","translationsShim","localeSortCollator","a","b","stringA","stringB","pm","cb","autoGearSelectors","q","presets","str","s","parts","p","batteryName","info","plateValue","normalizedPlate","derivedMount","promisifyRequest","request","resolve","reject","createStore","dbName","storeName","dbp","getDB","db","txMode","callback","defaultGetStoreFunc","defaultGetStore","get","key","customStore","store","set","value","del","clear","eachCursor","keys","items","cursor","LZString","f","keyStrBase64","keyStrUriSafe","baseReverseDic","getBaseValue","alphabet","character","i","input","res","index","compressed","uncompressed","buf","TotalLen","current_value","result","c","bitsPerChar","getCharFromInt","context_dictionary","context_dictionaryToCreate","context_c","context_wc","context_w","context_enlargeIn","context_dictSize","context_numBits","context_data","context_data_val","context_data_position","ii","length","resetValue","getNextValue","dictionary","enlargeIn","dictSize","numBits","entry","w","bits","resb","maxpower","power","data","module"],"mappings":"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","x_google_ignoreList":[3,4]}