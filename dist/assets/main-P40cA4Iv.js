import{a as vo,b as Ma,i as kt,I as iR,c as lR,_ as kc,e as Ca,f as zo,r as Ko,g as Sp,h as vp,j as sR,k as cR,l as uR,m as dR,n as iE}from"./core-modules-DlPoJ4C3.js";import{V as fR}from"./v2-ui-CGKqhVaB.js";import{r as pR,d as mR,c as yR}from"./data-So-wGb1N.js";import"./vendor-BnBlqqbr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();const xD=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),gR="#001589",hR="#ffffff";let bb=!1;function kn(e,t){try{if(t&&t.localStorage)return t.localStorage.getItem(e);if(typeof window<"u"&&window.localStorage)return window.localStorage.getItem(e)}catch(o){bb||(console.warn("Unable to read localStorage preference",o),bb=!0)}return null}function bR(e,t){if(!t)return;const o=t.querySelector('meta[name="theme-color"]');o&&o.setAttribute("content",e?"#1c1c1e":"#f9f9f9")}function SR(e,t,o){if(!t)return;const r=t.classList.contains("high-contrast")||o&&o.classList.contains("high-contrast"),n=r?hR:e;t.style.setProperty("--accent-color",n),r?t.style.removeProperty("--link-color"):t.style.setProperty("--link-color",e),t.style.setProperty("--logo-background-color",n),t.style.setProperty("--logo-accent-color",n),o&&(o.style.setProperty("--accent-color",n),r?o.style.removeProperty("--link-color"):o.style.setProperty("--link-color",e),o.style.setProperty("--logo-background-color",n),o.style.setProperty("--logo-accent-color",n))}function Sb(e=window){if(typeof document>"u")return;const t=document.documentElement,o=document.body,r=kn("highContrast",e)==="true";t&&t.classList.toggle("high-contrast",r),o&&o.classList.toggle("high-contrast",r);let n=kn("reduceMotion",e);n===null&&e&&typeof e.matchMedia=="function"&&(n=e.matchMedia("(prefers-reduced-motion: reduce)").matches?"true":"false");const a=n==="true";t&&t.classList.toggle("reduce-motion",a),o&&o.classList.toggle("reduce-motion",a);const l=kn("relaxedSpacing",e)==="true";t&&t.classList.toggle("relaxed-spacing",l),o&&o.classList.toggle("relaxed-spacing",l);let s=kn("cameraPowerPlanner_pinkMode",e);(s==null||s==="")&&(s=kn("pinkMode",e));const u=s==="true";t&&t.classList.toggle("pink-mode",u),o&&o.classList.toggle("pink-mode",u);const f=kn("fontSize",e);f&&t&&(t.style.fontSize=f+"px");const y=kn("fontFamily",e);y&&t&&t.style.setProperty("--font-family",y);let R=kn("darkMode",e);R===null&&e&&typeof e.matchMedia=="function"&&(R=e.matchMedia("(prefers-color-scheme: dark)").matches?"true":"false");const _=R==="true";t&&(t.classList.toggle("dark-mode",_),t.classList.toggle("light-mode",!_)),o&&(o.classList.toggle("dark-mode",_),o.classList.toggle("light-mode",!_)),bR(_,document);const I=kn("accentColor",e)||gR;u?(t&&(t.style.removeProperty("--accent-color"),t.style.removeProperty("--link-color"),t.style.removeProperty("--logo-background-color"),t.style.removeProperty("--logo-accent-color")),o&&(o.style.removeProperty("--accent-color"),o.style.removeProperty("--link-color"),o.style.removeProperty("--logo-background-color"),o.style.removeProperty("--logo-accent-color"))):SR(I,t,o)}(function(){const e=typeof window<"u"?window:void 0;Sb(e),typeof document<"u"&&document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",()=>Sb(e))})();function xy(e){if(e===null||typeof e!="object")return e;try{return JSON.parse(JSON.stringify(e))}catch{}return e}function vR(e){if(typeof structuredClone=="function")return structuredClone;const t=e||vo();return t&&typeof t.structuredClone=="function"?t.structuredClone.bind(t):null}function lE(e){const t=vR(e);return t?function(r){if(r===null||typeof r!="object")return r;try{return t(r)}catch{}return xy(r)}:xy}function sE(e){const t=e||vo();if(t&&typeof t.__cineDeepClone=="function")return t.__cineDeepClone;const o=lE(t);return t&&typeof t=="object"&&Ma(t,"__cineDeepClone",o),o}const ER=sE(),an=vo();function vn(){return vo()}function Nf(e,t){if(!e)return;const o=vo();if(!o)return typeof t=="function"?t():t;if(typeof o[e]<"u")return o[e];const r=typeof t=="function"?t():t;return Ma(o,e,r),r}const CR=xy,AR=lE,bl=ER,wR={getCoreGlobalObject:vn,ensureCoreGlobalValue:Nf,jsonDeepClone:CR,createResilientDeepClone:AR,ensureDeepClone:sE,CORE_DEEP_CLONE:bl,CORE_GLOBAL_SCOPE:an};an&&(an.cineCoreRuntimeGlobalTools||(an.cineCoreRuntimeGlobalTools=wR),an.ensureCoreGlobalValue||(an.ensureCoreGlobalValue=Nf),an.getCoreGlobalObject||(an.getCoreGlobalObject=vn),an.CORE_DEEP_CLONE||(an.CORE_DEEP_CLONE=bl));typeof window<"u"&&(console.log("[Vite Global Patches] Applying global shims..."),window.getCoreGlobalObject=vn,window.CORE_GLOBAL_SCOPE=window,window.iconGlyph=kt,window.ICON_GLYPHS=iR,window.iconMarkup=lR,typeof window.CORE_RUNTIME_CANDIDATE_SCOPES>"u"&&(window.CORE_RUNTIME_CANDIDATE_SCOPES=null),typeof window.CORE_RUNTIME_STATE_SUPPORT>"u"&&(window.CORE_RUNTIME_STATE_SUPPORT=null),console.log("[Vite Global Patches] Shims applied."));function Si(e,t,o){if(!e.document)return;const r=e.document.getElementById(t);if(r&&r.options.length<=1)try{e.populateSelect(r,o),console.log(`[ForcePopulate] Populated ${t} with ${Object.keys(o).length} items`)}catch(n){console.error(`[ForcePopulate] Failed to populate ${t}`,n)}}function vb(e,t){if(!e||!e.devices||!e.populateSelect)return console.log("[ForcePopulate] Waiting for dependencies..."),!1;console.log("[ForcePopulate] Dependencies ready. Populating...");const o=e.devices;if(o.cameras&&Si(e,"cameraSelect",o.cameras),o.monitors&&Si(e,"monitorSelect",o.monitors),o.video&&Si(e,"videoSelect",o.video),o.batteries&&Si(e,"batterySelect",o.batteries),o.batteryHotswaps&&Si(e,"batteryHotswapSelect",o.batteryHotswaps),o.fiz&&["motor1Select","motor2Select","motor3Select","motor4Select","controller1Select","controller2Select","controller3Select","controller4Select"].forEach(r=>{Si(e,r,o.fiz)}),typeof e.processCoreBootQueue=="function")console.log("[ForcePopulate] Triggering boot queue processing..."),e.processCoreBootQueue();else if(e.CORE_BOOT_QUEUE&&e.CORE_BOOT_QUEUE.length>0){console.warn("[ForcePopulate] processCoreBootQueue not found, manually draining queue...");const r=e.CORE_BOOT_QUEUE;r.splice(0,r.length).forEach(a=>{try{a()}catch{}})}if(console.log("[ForcePopulate] Dismissing loading overlay..."),e.document){const r=e.document.getElementById("cineGlobalLoadingIndicator");r&&(r.style.display="none",r.setAttribute("aria-hidden","true")),e.document.body&&e.document.body.classList.add("app-ready")}console.log("[ForcePopulate] Initializing V2 Bootstrap...");try{t&&typeof t.init=="function"&&t.init()}catch(r){console.error("[ForcePopulate] V2 Bootstrap init failed",r)}try{e.dispatchEvent&&typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("cine-loader-complete"))}catch(r){console.error(r)}return!0}function RR(e,t,o=100){if(!(typeof e>"u")&&(console.log("[ForcePopulate] Script loaded (Module)"),!vb(e,t))){const r=setInterval(()=>{vb(e,t)&&clearInterval(r)},o);return r}}(function(){const e=typeof window<"u"?window:void 0;e&&RR(e,fR)})();const LR={texts:{appTitle:"Cine Power Planner",tagline:"Plan your film rig and calculate power consumption & battery life.",printPreview:{title:"Print & Export",closeLabel:"Close Preview",layoutModeTitle:"Layout Mode",layoutRentalLabel:"Rental Friendly",layoutRentalDescription:"Optimizes layout for rental by grouping items by category.",sectionsTitle:"Sections",sectionProject:"Production Requirements",sectionDevices:"Camera Package Devices",sectionDiagram:"Power Diagram",sectionGearList:"Kit List",sectionBattery:"Battery Comparison",exportPdfButton:"Export PDF",printButton:"Print",generatedTitle:"Overview",generatedProjectNameLabel:"Project Name:",generatedProductionLabel:"Production:",generatedDateLabel:"Date:",generatedNoProjectRequirements:"No production requirements data.",generatedDeviceSelectionTitle:"Camera Package Devices",generatedNoDevicesSelected:"No devices selected.",generatedPowerDiagramTitle:"Power Diagram",generatedPowerSummaryTitle:"Power Summary",generatedGearListTitle:"Kit List",generatedTotalLoad:"Total Load",generatedPeak:"Peak:",generatedEstRuntime:"Est. Runtime",generatedWith:"w/",generatedDailyNeeds:"Daily Needs",generatedBatts:"Batts",generatedFor12hDay:"for 12h day"},skipToContent:"Skip to content",offlineIndicator:"Offline",offlineIndicatorHelp:"Appears when the planner is offline or the service worker reports degraded connectivity. All projects, backups and device data stay stored on this device so you can keep working. Force reload and other network actions stay disabled until connectivity recovers.",offlineIndicatorDegraded:"Connectivity degraded — working from cached copy.",offlineIndicatorDegradedHelp:"The service worker served cached content after a failed probe. Continue working from the offline copy and retry once the banner clears.",offlineIndicatorReasonCacheFallback:"Service worker served the cached bundle after a network error.",offlineIndicatorReasonGetFailed:"Network request for the reload check failed.",offlineIndicatorReasonTimeout:"Connectivity probe timed out before the server responded.",offlineIndicatorReasonUnreachable:"The probe could not reach the server.",offlineIndicatorReasonReloadBlocked:"Reload is paused until a healthy connection is confirmed.",offlineIndicatorReasonUnknown:"Connectivity degraded. Keep working offline until the banner clears.",globalLoadingIndicator:"Loading data…",globalLoadingIndicatorPreparing:"Preparing planner…",globalLoadingIndicatorModules:"Loading planner interface…",globalLoadingIndicatorData:"Loading planner data…",globalLoadingIndicatorAlmostReady:"Almost ready…",installBannerText:"Install Cine Power Planner on your device for quick access.",installBannerDismiss:"Dismiss",installHelpTitleIos:"Install Cine Power Planner on iOS",installHelpTitleAndroid:"Install Cine Power Planner on Android",installHelpIntroIos:"Add the planner to your Home Screen to use it like an app.",installHelpIntroAndroid:"Add the planner to your Home Screen to use it like an app.",installHelpStepsIos:["Open Cine Power Planner in Safari.","Tap the Share button.","Choose Add to Home Screen and confirm."],installHelpStepsAndroid:["Open Cine Power Planner in Chrome.","Tap the browser menu (⋮).","Choose Add to Home Screen and confirm."],installHelpNoteIos:"Once installed, launch Cine Power Planner from your Home Screen.",installHelpNoteAndroid:"Android keeps using the same storage for the browser and the installed app, so your projects stay available.",installHelpMigrationTitle:"Move your existing data into the app",installHelpClose:"Close",iosPwaHelpTitle:"Keep your data when installing on iOS",iosPwaHelpIntro:"Safari keeps the browser tab and the installed app separate. To move your Cine Power Planner data into the app:",iosPwaHelpStep1:"Open Cine Power Planner in Safari where your projects are still visible.",iosPwaHelpStep2:"Go to Settings → Backup & Restore → Backup to download a copy of your data.",iosPwaHelpStep3:"Open Cine Power Planner from your home screen.",iosPwaHelpStep4:"Go to Settings → Backup & Restore → Restore and pick the backup file.",iosPwaHelpNote:"After restoring once, all changes stay inside the installed app. Keep the backup if you plan to reinstall or switch devices.",iosPwaHelpClose:"Got it",impressum:"Imprint",privacy:"Privacy Policy",setupManageHeading:"Project Overview",deviceSelectionHeading:"Camera Package",overviewDeviceSelectionHeading:"Camera Package Devices",resultsHeading:"Power Summary",deviceManagerHeading:"Device Library",batteryComparisonHeading:"Battery Comparison",batteryComparisonDescription:"Review every compatible battery to see runtime estimates for your current setup.",batteryComparisonDescriptionHelp:"This table lists every compatible battery and updates as you change your setup. Hover any heading to learn what the numbers represent.",batteryComparisonTableHelp:"Rows show compatible batteries. Runtime includes current draw calculations, and the colored bar compares runtime length at a glance.",setupDiagramHeading:"Power Diagram",diagramPdfNote:"The Power Diagram is not included in the PDF export. Open the print view to review the layout.",projectRequirementsNav:"Production Requirements",projectRequirementsNavHelp:"Jump to the Production Requirements output once generated.",gearListNav:"Kit List",gearListNavHelp:"View the generated kit list with all items and categories.",ownGearNav:"Own Gear",ownGearNavHelp:"Track personal gear you already have on hand and reuse it across projects.",overviewExportTitleSuffix:"Kit List and Production Requirements",openSettingsNav:"Settings",openSettingsNavHelp:"Open Settings to adjust language, themes, accessibility options and backups.",openHelpNav:"Help Center",openHelpNavHelp:"Open the in-app help guide with tutorials, troubleshooting tips and shortcuts.",setupManageHeadingHelp:"Manage saved projects: save, load, or clear configurations.",deviceSelectionHeadingHelp:"Choose cameras, monitors, and accessories for your camera package.",resultsHeadingHelp:"See power consumption, estimated runtime, and battery counts.",resultsPlainSummaryTitle:"Quick summary",resultsPlainSummaryHelp:"Explains the power summary in plain language so you can confirm runtime and battery needs without reading every table.",resultsPlainSummaryPrompt:"Add devices and choose a battery to see a plain-language summary of runtime and consumption.",resultsPlainSummaryNeedBattery:"Choose a battery to see how long the rig will run and how many packs to pack.",resultsPlainSummaryRuntime:"With {batteryName}, expect about {hours} hours of runtime. Pack {batteryCount} batteries for a 10-hour day. Your rig currently draws {totalPower} W.",resultsPlainSummaryUnlimited:"With {batteryName}, your rig draws {totalPower} W, so runtime stays unlimited. Keep a charged pack connected before recording.",resultsPlainSummaryNote:"Pins and D-Tap status updates as you add gear.",resultsPlainSummaryPinsZero:"Pins: no 12V draw yet.",resultsPlainSummaryPinsOk:"Pins: {current}A within the {max}A limit.",resultsPlainSummaryPinsNear:"Pins: {current}A is close to the {max}A limit.",resultsPlainSummaryPinsExceeded:"Pins: {current}A exceeds the {max}A limit.",resultsPlainSummaryPinsUnknown:"Pins: draw is {current}A but no limit is documented.",resultsPlainSummaryDtapZero:"D-Tap: idle.",resultsPlainSummaryDtapOk:"D-Tap: {current}A within the {max}A rating.",resultsPlainSummaryDtapNear:"D-Tap: {current}A is close to the {max}A rating.",resultsPlainSummaryDtapExceeded:"D-Tap: {current}A exceeds the {max}A rating.",resultsPlainSummaryDtapUnavailable:"D-Tap: auxiliary port disabled for this battery selection.",resultsPlainSummaryDtapUnavailableBMount:"D-Tap: B-Mount cameras disable the aux port.",resultsPlainSummaryDtapUnknown:"D-Tap: rating missing, treat {current}A with caution.",resultsPlainSummaryUnnamedBattery:"your selected battery",deviceManagerHeadingHelp:"Add, edit or remove entries from the device database, including categories, subcategories and attributes.",batteryComparisonHeadingHelp:"Compare runtimes for all compatible batteries.",batteryTableBatteryHelp:"Battery name and mount that can power your current build.",batteryTableRuntimeHelp:"Estimated runtime in hours plus which outputs supply enough current.",batteryTableGraphLabel:"Runtime comparison bar",batteryTableGraphHelp:"Bar length compares runtime across batteries. Green covers pins and D-Tap, orange means only main pins, and blue marks infinite runtime estimates.",setupDiagramHeadingHelp:"View the Power Diagram showing how power, video, and control connect across the rig.",setupDiagramPlaceholder:"Select devices to visualize the project.",diagramLegendPower:"Power",diagramLegendVideo:"Video",diagramLegendFIZ:"FIZ",downloadDiagramBtn:"Download Power Diagram",gridSnapToggle:"Snap to Grid",existingDevicesHeading:"Existing Devices",deviceLibrarySearchLabel:"Search entire library",deviceLibrarySearchPlaceholder:"Search all device categories…",deviceLibrarySearchHelp:"Filter across every category at once. Press Enter to jump to the closest match.",deviceLibrarySearchStatusDefault:"Showing all {total} devices.",deviceLibrarySearchResultOne:"Showing {visible} of {total} devices.",deviceLibrarySearchResultOther:"Showing {visible} of {total} devices.",deviceLibrarySearchNoResults:"No devices match “{query}”.",darkModeLabel:"Toggle dark mode",existingDevicesSubtitle:"Browse and manage devices in your library",existingDevicesTitle:"Existing Devices",addDeviceSubtitle:"Create a custom device entry for your database",addNewDeviceTitle:"Add New Device",tabBrowseLibrary:"Browse Library",tabAddDevice:"Add Device",deviceLibrarySubtitle:"Add, edit, and manage devices in your local database",deviceLibraryTitle:"Device Library",v2ui:{revision:"REV.02"},pinkModeLabel:"Toggle pink mode",menuToggleLabel:"Menu",menuToggleHelp:"Open the sidebar to jump between planner sections or reveal controls on smaller screens. Click again to close it.",sideMenuTitle:"Planner sections",sideMenuTitleHelp:"Swipe up to explore planner sections and mobile controls. Your project keeps saving automatically while you browse.",sideMenuClose:"Close navigation",sideMenuCloseHelp:"Close the navigation drawer and return to the planner. Your data stays saved and ready to restore if needed.",sideMenuHelp:"Sidebar navigation listing planner sections. Select a section to scroll there and the menu closes automatically.",contacts:{heading:"Contacts",description:"Save crew members once, keep them stored offline and reuse them for every project.",addContactButton:"Add contact",importButton:"Import vCard",importHint:"Import .vcf files to add contacts instantly. Existing details are preserved automatically.",emptyState:"No contacts saved yet. Add your crew to reuse them later.",close:"Close",selectLabel:"Saved contacts",selectPlaceholder:"Select contact",saveContact:"Save to contacts",openManager:"Open contacts",linkedBadge:"Linked to contact",linkedProfileBadge:"Linked to user profile",contactMissingDetails:"Enter a name, email, phone number or website before saving this contact.",websiteLabel:"Website",websitePlaceholder:"https://example.com",avatarOptionsTitle:"Photo options",avatarOptionsDescription:"Preview this photo, choose how to update it, or click outside the window to save and close.",avatarOptionsClose:"Close",avatarDelete:"Delete photo",avatarEditAction:"Edit framing",avatarChange:"Change photo",avatarCleared:"Profile photo removed.",avatarTooLarge:"Choose an image under 300 KB.",avatarReadError:"Could not read the selected image.",avatarUpdated:"Profile photo updated.",avatarEditInstructions:"Drag the photo to adjust the framing.",avatarEditZoomLabel:"Zoom",avatarEditCancel:"Cancel",avatarEditApply:"Apply framing",avatarMissingImage:"Add a photo before editing.",avatarEditUnavailable:"Photo editor unavailable.",avatarEditFailed:"Could not update the photo framing.",userProfileHeading:"Your profile",userProfileDescription:"Add your name, role, phone and email so your gear shows as “User”.",userProfileNameLabel:"Display name",userProfileNamePlaceholder:"Your name",userProfileRoleLabel:"Role or title",userProfileRolePlaceholder:"Select role",userProfilePhoneLabel:"Phone number",userProfilePhonePlaceholder:"Your phone number",userProfileEmailLabel:"Email address",userProfileEmailPlaceholder:"name@example.com",userProfileHint:"Used to show your first name and last initial for the “User” option in the provided by dropdown. Phone and email appear on exports and backups so crews can reach you offline.",userProfileAvatarButton:"Change photo",userProfileAvatarRemove:"Remove photo",userProfileSaved:"Profile saved.",contactDetached:"Crew row disconnected from saved contact.",contactApplied:"Crew row updated from contact.",contactDeleted:"Contact removed. Project rows keep their details.",contactSaved:"Contact saved for future projects.",contactUpdated:"Contact updated.",contactDraftCreated:"New contact ready. Fill in the details.",contactFallbackName:"Crew contact",useInProject:"Add to project crew",contactAddedToProject:"Contact added to the current project.",deleteContact:"Delete contact",deleteConfirm:"Remove this contact? Project rows will keep their details.",importSummary:"{added} added, {updated} updated.",importNone:"No new contacts found in the file.",importError:"Could not import the selected file.",rolePlaceholder:"Select role"},featureSearchPlaceholder:"Search features, devices, actions, or help...",featureSearchLabel:"Search features, devices, actions, and help",featureSearchHelp:`Type to jump to features, devices, quick actions like Save or Backup, or help topics. Suggestions prioritize direct feature and device matches before help topics so navigation lands on controls first. Each entry shows whether it opens a Feature, Action, Device or Help topic so you know what happens before pressing Enter. Exact matches and items you've used recently jump to the top automatically, so your go-to controls stay first. Every suggestion also includes a short description so you can confirm what it will do at a glance. Search also reads the same tooltip and help text shown around controls, so words like "JSON" or "autosave" still land on the right button even if the label differs. Small typos are forgiven too, so "bakcup" still finds Backup or Save. Connector and media abbreviations like "USB-C", "Micro-HDMI", "SDXC", "CFexpress", "V-Mount" or "D-Tap" automatically match their full names, so type whichever version you remember. Exposure and color vocabulary is linked the same way—ISO, EI, ASA, exposure index, ND or neutral density, and WB, white balance or color temperature terms all resolve together so any phrasing points to the right controls. Press Enter to navigate, / or Ctrl+K (Cmd+K on Mac) to focus the search from anywhere, use Escape or × to clear the query, and notice how clearing the field floats your most recently used matches to the top for faster repeats. Prefix your query with "feature", "action", "device" or "help" (or your localized equivalents) (for example, "help: battery") to filter suggestions to that type. Start with "recent" or "history" (or your localized equivalents) (for example, "recent iso") to search only items you've used lately before scanning the full catalog. Wrap any phrase in double quotes to force an exact match, so typing "battery health" with quotes jumps ahead of broader matches. Common filler words are ignored automatically, so conversational questions like "how do I back up" still surface the important keywords.`,featureSearchFilterAliases:{feature:["feature","features","setting","settings"],action:["action","actions","command","commands"],device:["device","devices","gear","equipment"],help:["help","doc","docs","guide","guides","support"],recent:["recent","recents","recently","history","histories","frequent","frequently"]},featureSearchStopWords:["how","do","does","did","done","doing","can","cant","cannot","should","could","would","please","need","needs","needing","want","wants","wanting","i","im","ive","ill","id","we","were","weve","well","you","youre","youve","youll","they","theyre","theyve","them","us","me","my","mine","our","ours","your","yours","their","theirs","the","and","for","with","about","what","where","when","why","which","who","whom","whose","this","that","these","those","also","still","really","very","just","maybe","perhaps","again"],featureSearchClear:"Clear search",featureSearchClearHelp:"Clear the search box and show all results again. Press Escape to clear quickly.",featureSearchTypeFeature:"Feature",featureSearchTypeAction:"Action",featureSearchTypeDevice:"Device",featureSearchTypeHelp:"Help topic",darkModeHelp:"Switch between light and dark themes for comfortable viewing. Press D to toggle. The preference is saved.",pinkModeHelp:"Add a playful pink accent theme. The unicorn icon cycles every 30 seconds with a gentle pop animation while pink mode is on, and the setting works with light or dark mode and is remembered for next time.",settingsButton:"Settings",settingsButtonHelp:"Open Settings to personalize language, colors, fonts, accessibility options and backups.",settingsHeading:"Settings",settingsHeadingHelp:"Adjust language, themes, typography, accessibility preferences and backups in one place.",settingsSectionsLabel:"Settings sections",settingsTabGeneral:"General",settingsTabGeneralHelp:"Adjust language, theme, typography and branding preferences.",generalSectionLanguageHeading:"Language & units",generalSectionAppearanceHeading:"Appearance",generalSectionCameraColorsHeading:"Camera designations",generalSectionTypographyHeading:"Typography",generalSectionBrandingHeading:"Branding",documentationTrackerHeading:"Documentation update tracker",documentationTrackerDescription:"Use this log to mark translation, help and print guide refreshes before distributing offline bundles.",documentationTrackerAddRelease:"New release log",documentationTrackerEmpty:"No releases tracked yet. Add the upcoming release to start logging updates.",documentationTrackerSummaryIntro:"Create release log entries to track translations, help topics, READMEs and print guides until every item is verified.",documentationTrackerLocalesHeading:"Localized README coverage",documentationTrackerLocaleEnglish:"English README",documentationTrackerLocaleGerman:"German README",documentationTrackerLocaleSpanish:"Spanish README",documentationTrackerLocaleFrench:"French README",documentationTrackerLocaleItalian:"Italian README",documentationTrackerHelpHeading:"Help center topics",helpGroupEssentials:"Essentials",helpGroupGuides:"Guides",helpGroupReference:"Topic Reference",helpServiceUnavailable:"Help service unavailable.",helpSearchNoResultsTitle:"No results found",helpSearchNoResultsHint:"Try adjusting your search terms.",helpSearchClearLabel:"Clear search",helpV2WelcomeTitle:"Welcome to V2",helpV2WelcomeKeywords:"v2 new interface update overview navigation sidebar",helpV2WelcomeContent:`<p>Welcome to the new Cine Power Planner V2 interface! We've redesigned the experience to be faster, more intuitive, and fully responsive.</p>
<h4>Key Improvements</h4>
<ul>
<li><strong>New Sidebar Navigation:</strong> Quickly access Projects, Tools, and Settings from the dedicated sidebar. Mobile users can access this via the menu button in the header.</li>
<li><strong>Enhanced Visuals:</strong> A modern, clean look with improved Dark Mode and Pink Mode support.</li>
<li><strong>Better Performance:</strong> Faster loading times and smoother transitions between views.</li>
</ul>
<h4>Getting Around</h4>
<p>The sidebar is your main control center:</p>
<ul>
<li><strong>Projects:</strong> View and manage all your power plans. Filter by Active or Archive.</li>
<li><strong>Tools:</strong> Access the Device Library, Contacts, and Auto Gear Rules.</li>
<li><strong>Settings:</strong> Configure app preferences, backup data, and manage storage.</li>
</ul>`,helpV2ProjectsTitle:"Managing Projects",helpV2ProjectsKeywords:"projects create new delete archive filter active dashboard",helpV2ProjectsContent:`<p>The Projects Dashboard is where your work begins.</p>
<h4>Creating a Project</h4>
<p>Click the <strong>+ New Project</strong> button in the top right to start a fresh plan. You'll be prompted to enter a name and optional details.</p>
<h4>Project Status & Filtering</h4>
<p>Use the sidebar to filter your projects:</p>
<ul>
<li><strong>All Projects:</strong> Everything you've created.</li>
<li><strong>Active Projects:</strong> Projects you are currently working on.</li>
<li><strong>Archive:</strong> Completed or on-hold projects. You can archive a project from its context menu.</li>
</ul>
<h4>Project Actions</h4>
<p>Right-click (or long-press on touch devices) on any project tile to access the context menu:</p>
<ul>
<li><strong>Rename:</strong> Change the project details.</li>
<li><strong>Duplicate:</strong> Create an exact copy of a project.</li>
<li><strong>Archive/Unarchive:</strong> Move the project to or from the archive.</li>
<li><strong>Delete:</strong> Permanently remove the project.</li>
</ul>`,helpV2SidebarSearchTitle:"Sidebar Search",helpV2SidebarSearchKeywords:"search sidebar features devices actions help keyboard offline",helpV2SidebarSearchContent:`<p>The sidebar search now runs fully offline and blends features, devices, actions, and help topics into one fast list.</p>
<h4>What It Covers</h4>
<ul>
<li><strong>Features:</strong> Jump straight to inputs, sections, and dialogs.</li>
<li><strong>Devices:</strong> Search the local device catalog and open the matching entry.</li>
<li><strong>Actions:</strong> Trigger quick commands like Save, Export, or Settings.</li>
<li><strong>Help:</strong> Open the most relevant help topic without leaving the planner.</li>
</ul>
<h4>Keyboard Navigation</h4>
<ul>
<li><strong>Arrow keys:</strong> Move through suggestions.</li>
<li><strong>Enter:</strong> Activate the highlighted result.</li>
<li><strong>Esc:</strong> Clear the query and close the list.</li>
</ul>`,helpV2DeviceLibraryTitle:"Device Library",helpV2DeviceLibraryKeywords:"devices library equipment custom gear add edit database",helpV2DeviceLibraryContent:`<p>The Device Library allows you to manage the equipment available for your power plans.</p>
<h4>Browsing Devices</h4>
<p>Devices are organized by category (Cameras, Monitors, etc.). Use the tabs or dropdowns to switch between categories. You can also use the search bar to find specific gear instantly.</p>
<h4>Adding Custom Gear</h4>
<p>Can't find your equipment? Click <strong>Add Device</strong> to create a custom entry. You'll need to specify:</p>
<ul>
<li><strong>Name:</strong> The model name.</li>
<li><strong>Power Draw:</strong> Typical power consumption in Watts (W).</li>
<li><strong>Voltage:</strong> Operating voltage range (optional but recommended).</li>
</ul>
<p>Once added, custom devices are available for all your projects.</p>`,helpV2ContactsTitle:"Contacts",helpV2ContactsKeywords:"contacts people crew rental houses list",helpV2ContactsContent:`<p>Keep track of rental houses, crew members, and clients directly in the app.</p>
<h4>Managing Contacts</h4>
<ul>
<li><strong>Add Contact:</strong> Click the <strong>New Contact</strong> button to add details like Name, Role, Phone, and Email.</li>
<li><strong>Edit/Delete:</strong> Use the action buttons on each contact card to update or remove information.</li>
</ul>
<p>Contacts can be assigned to projects for quick reference (coming soon to project details).</p>`,helpV2SettingsTitle:"Settings & Data",helpV2SettingsKeywords:"settings preferences backup restore data storage theme language",helpV2SettingsContent:`<p>Customize your experience and keep your data safe.</p>
<h4>Data Management</h4>
<ul>
<li><strong>Backup:</strong> Download a full backup of all your projects and custom devices. We recommend doing this regularly.</li>
<li><strong>Restore:</strong> Load a previously saved backup file. <em>Note: This replaces current data.</em></li>
<li><strong>Auto-Backups:</strong> Enable automatic snapshots to protect against accidental data loss.</li>
</ul>
<h4>Preferences</h4>
<ul>
<li><strong>Units:</strong> Toggle between Metric and Imperial measurements (if applicable).</li>
<li><strong>Theme:</strong> Force Dark Mode, Light Mode, or the special Pink Mode.</li>
</ul>`,helpV2SaveShareBackupTitle:"Save, Share & Restore Safety",helpV2SaveShareBackupKeywords:"save manual autosave auto backup share export import json restore rehearsal offline safety snapshot",helpV2SaveShareBackupContent:`<p>Every save, export, and backup stays on this device so your data remains private and fully offline.</p>
<h4>Save Layers</h4>
<ul>
<li><strong>Manual Save:</strong> Use <strong>Save</strong> in the project header (or <kbd>Ctrl</kbd>/<kbd>⌘</kbd>+<kbd>S</kbd>) to commit a named snapshot to your local project library.</li>
<li><strong>Autosave:</strong> While you edit, the autosave status in the header updates in the background so the latest changes are always recoverable.</li>
<li><strong>Auto Backups:</strong> Each manual save queues a timestamped snapshot. Enable <strong>Show auto backups in project list</strong> in <em>Settings → Backup & Restore</em> to surface them, and note that a safety snapshot is captured before destructive actions.</li>
</ul>
<h4>Export & Import (JSON)</h4>
<ul>
<li><strong>Export Project:</strong> In a project, choose <strong>Export Project</strong> to download a JSON share file for offline sharing.</li>
<li><strong>Import Project:</strong> From the Projects dashboard, click <strong>Import Project</strong> and select the JSON file. The project opens in the editor; nothing replaces your saved data until you press <strong>Save</strong>.</li>
<li><strong>Conflict handling:</strong> If shared Auto Gear rules differ, the import dialog asks whether to apply them just for this project or globally. If a project name already exists, rename before saving to avoid overwriting.</li>
</ul>
<h4>Full Backup & Restore</h4>
<ul>
<li><strong>Download Backup:</strong> <em>Settings → Backup & Restore → Download Backup</em> captures projects, devices, rules, and preferences.</li>
<li><strong>Download Full Backup:</strong> <em>Settings → Data & Storage → Download Full Backup</em> creates an archival copy for rotation.</li>
<li><strong>Restore:</strong> <em>Settings → Backup & Restore → Restore</em> loads a backup file and creates a safety snapshot first so you can roll back.</li>
<li><strong>Restore Rehearsal:</strong> Use <strong>Restore Rehearsal</strong> to rehearse a restore in a safe sandbox before committing.</li>
</ul>
<h4>Offline Integrity Guarantees</h4>
<ul>
<li><strong>Offline-first:</strong> Saves, exports, backups, and imports never leave this device.</li>
<li><strong>Safe-save:</strong> Writes are protected so partial saves never replace good data.</li>
<li><strong>Backup-before-delete:</strong> Deleting or resetting data captures a safety snapshot first.</li>
</ul>`,helpV2AutoGearTitle:"Auto Gear Rules",helpV2AutoGearKeywords:"auto gear rules automation kit list scenarios production requirements",helpV2AutoGearContent:`<p>Automate your kit list generation with smart rules based on production scenarios.</p>
<h4>How it Works</h4>
<p>Auto Gear Rules monitor your project's <strong>Production Requirements</strong> (e.g., "Handheld", "Studio", "Car Rig") and automatically add or remove specific items from your kit list.</p>
<h4>Creating Rules</h4>
<p>Go to the <strong>Auto Gear Rules</strong> tool and click <strong>Add Rule</strong>. You can define:</p>
<ul>
<li><strong>Conditions:</strong> Triggers based on scenarios, camera models, or other gear selections.</li>
<li><strong>Actions:</strong> Items to <strong>Add</strong> (e.g., "Shoulder Pad" for "Handheld") or <strong>Remove</strong>.</li>
</ul>
<h4>Presets</h4>
<p>Save your favorite rule sets as <strong>Presets</strong> to quickly switch between different production styles (e.g., "Narrative Feature" vs "Commercial").</p>`,helpV2PrintExportTitle:"Printing & Exporting",helpV2PrintExportKeywords:"print pdf export share report kit list diagram",helpV2PrintExportContent:`<p>Share your power plans with your team or rental house.</p>
<h4>Project Overview</h4>
<p>From the Project Detail view, use the <strong>Print / Export PDF</strong> button to generate a clean summary of your project, including power totals and battery estimates.</p>
<h4>Kit List</h4>
<p>Generate a dedicated equipment list for quotes and prep. You can filter by department and customize columns before printing.</p>
<h4>Power Diagram</h4>
<p>Need a visual aid? Export the <strong>Connection Diagram</strong> as an image (PNG/JPG) or SVG to include in your tech pack.</p>
<h4>PDF Tips</h4>
<p>To save as a PDF, click "Print" and select <strong>"Save as PDF"</strong> as your destination in the print dialog.</p>`,helpV2QuickStartTitle:"Quick Start Checklist",helpV2QuickStartKeywords:"quickstart onboarding tutorial first steps workflow basics getting started new project guide",helpV2QuickStartContent:`<p>Welcome to Cine Power Planner! Follow these steps to get your first project ready.</p>
<ol>
<li>
<strong>Start Guided Tutorial:</strong>
<button type="button" class="button-link help-onboarding-secondary" data-onboarding-tour-trigger="secondary">Start guided tutorial</button>
to walk through every workflow with offline progress tracking.
</li>
<li>
<strong>Name Your Project:</strong>
Enter a name in the <em>Project Name</em> field and click <strong>Save</strong> (or press <kbd>Enter</kbd>/<kbd>Ctrl</kbd>+<kbd>S</kbd>) to capture the current rig.
</li>
<li>
<strong>Configure Devices:</strong>
Walk through <em>Configure Devices</em>, check the <em>Power Summary</em>, and review the <em>Connection Diagram</em>.
</li>
<li>
<strong>Secure Your Data:</strong>
Download an <strong>Export Project</strong> JSON and a full-app <strong>Backup</strong> so you have two offline recovery copies.
</li>
<li>
<strong>Check Offline Status:</strong>
Confirm the offline indicator (in the header) glows before disconnecting.
</li>
<li>
<strong>Rehearse Restore:</strong>
Open <strong>Restore rehearsal</strong> in Settings to verify your backup in a sandbox environment.
</li>
</ol>
<p class="help-callout-note">
Tip: Keep backups on separate drives when travelling—<strong>Restore</strong> always creates a fresh safety copy so nothing is lost when you undo a change.
</p>`,helpV2DataSafetyTitle:"Data Safety Essentials",helpV2DataSafetyKeywords:"backup restore protect save autosave export share import rehearsal offline integrity",helpV2DataSafetyContent:`<p>Protect every project with this offline-first safety checklist.</p>
<h4>Manual Save, Autosave & Auto-Backups</h4>
<ul>
<li><strong>Manual Save:</strong> Click <strong>Save</strong> (or press <kbd>Ctrl</kbd>/<kbd>⌘</kbd>+<kbd>S</kbd>) to capture an immediate project snapshot.</li>
<li><strong>Autosave:</strong> Runs quietly in the background while you edit, keeping rolling snapshots for quick recovery.</li>
<li><strong>Auto-backups list:</strong> Enable <strong>Show auto-backups in project list</strong> and adjust <strong>Backup Retention (copies per project)</strong> to control how many snapshots stay visible.</li>
</ul>
<h4>Project Export / Share (JSON) & Import</h4>
<ul>
<li><strong>Export Project:</strong> Download a share-ready JSON bundle from the project detail view for offline handoff.</li>
<li><strong>Import Project:</strong> Use <strong>Import Project</strong> on the dashboard, choose the JSON, and review the metadata + automatic gear rule options before applying.</li>
<li><strong>Conflict handling:</strong> Imports never overwrite your live project until you confirm Save. If a name already exists (or is missing), the planner saves a new “-imported” project instead.</li>
</ul>
<h4>Full Backup, Restore & Restore Rehearsal</h4>
<ul>
<li><strong>Download Backup:</strong> Create a manual full-app snapshot from <strong>Settings → Backup &amp; Restore</strong>.</li>
<li><strong>Download Full Backup:</strong> Grab an extra full storage export from <strong>Settings → Data &amp; Storage</strong> when you want redundant media.</li>
<li><strong>Restore:</strong> Load a backup file; the planner captures a safety snapshot first. Use <strong>Compare Versions</strong> to review differences.</li>
<li><strong>Restore Rehearsal:</strong> Launch a sandbox that compares counts, clears itself automatically, and keeps live data untouched until you choose to restore.</li>
</ul>
<h4>Offline & Data Integrity Guarantees</h4>
<ul>
<li><strong>Offline-first:</strong> Saves, exports, imports, and backups all run without a network connection.</li>
<li><strong>Safety snapshots:</strong> Restores and <strong>Factory reset</strong> capture a backup before any destructive change.</li>
<li><strong>Copy, not delete:</strong> Exports and backups always duplicate data—keep at least two offline copies before removing anything.</li>
</ul>
<p class="help-callout-note">Tip: Run <strong>Restore Rehearsal</strong> after major milestones so you can verify the backup while staying fully offline.</p>`,helpV2ShortcutsTitle:"Essential Shortcuts",helpV2ShortcutsKeywords:"keyboard shortcuts hotkeys fast navigation",helpV2ShortcutsContent:`<ul>
<li><kbd>?</kbd>, <kbd>H</kbd>, <kbd>F1</kbd>: Open Help</li>
<li><kbd>Ctrl</kbd>+<kbd>/</kbd> (<kbd>⌘</kbd>+<kbd>/</kbd>): Toggle Help</li>
<li><kbd>/</kbd> or <kbd>Ctrl</kbd>+<kbd>F</kbd> (<kbd>⌘</kbd>+<kbd>F</kbd>): Help Search</li>
<li><kbd>Ctrl</kbd>+<kbd>K</kbd> (<kbd>⌘</kbd>+<kbd>K</kbd>): Global Feature Search</li>
<li><kbd>Ctrl</kbd>+<kbd>,</kbd> (<kbd>⌘</kbd>+<kbd>,</kbd>): Open Settings</li>
<li><kbd>Ctrl</kbd>+<kbd>S</kbd> (<kbd>⌘</kbd>+<kbd>S</kbd>): Save Project</li>
<li><kbd>D</kbd>: Toggle Dark Mode</li>
<li><kbd>P</kbd>: Toggle Pink Mode</li>
</ul>`,helpV2FeaturesTitle:"Features at a Glance",helpV2FeaturesKeywords:"overview capabilities highlights offline favorites search",helpV2FeaturesContent:`<ul>
<li><strong>Rig Planning:</strong> Configure cameras, monitors, and accessories in <em>Configure Devices</em>.</li>
<li><strong>Power Analysis:</strong> Review draw and runtime in <em>Power Summary</em>.</li>
<li><strong>Visual Diagram:</strong> Map connections with the interactive <em>Connection Diagram</em>.</li>
<li><strong>Battery Comparison:</strong> Compare runtimes and output limits.</li>
<li><strong>Device Library:</strong> Customize the database with your own gear.</li>
<li><strong>Contacts & Own Gear:</strong> Manage crew info and personal kits.</li>
<li><strong>Print & Export:</strong> Generate clean PDF summaries and kit lists.</li>
<li><strong>Offline Capable:</strong> Works fully without an internet connection.</li>
<li><strong>Customizable:</strong> Adjust themes (Dark, Light, Pink), fonts, and accent colors.</li>
</ul>`,helpTopics:{projectManagement:{title:"Project Management",content:"Name projects and press **Save** to capture snapshots in Saved Projects. Saving won’t overwrite other projects until you confirm the name. Autosave and auto-backups protect drafts, and Delete removes entries only after a safety snapshot is created."},saveShareBackup:{title:"Save, Share & Backup",content:"Use **Export Project** to download a JSON bundle (optionally include automatic gear rules and owned-gear markers). Use **Share Project** to create a share bundle for offline import; recipients open it with **Import Project** and nothing overwrites their current setup until they confirm Save. Use **Backup & Restore** for full-app backups, restore rehearsals, version comparisons, and the local backup vault when automatic downloads are blocked."},deviceConfiguration:{title:"Camera Package",content:"Build your camera package by selecting devices. Start with a **Camera**, then add **Monitors**, **Wireless Transmitters**, and **FIZ** systems. Use the Device Library to import or export custom gear so offline edits stay with your projects."},powerCalculation:{title:"Power Calculation",content:"The **Power Summary** shows the total power consumption of your rig and estimated runtime based on the selected battery and mount voltages. Watch for **Pin** and **D-Tap** warnings, and use the quick summary to explain results offline."},connectionDiagram:{title:"Power Diagram",content:"The **Power Diagram** shows how power, video, and control gear connect. Drag to arrange nodes, zoom and pan to inspect details, and download SVG or JPG snapshots for sharing."},gearList:{title:"Kit List",content:"Generate a detailed **Kit List** from camera package devices and production requirements. Edit quantities, providers, temporary extras and owned-gear badges, then print or export it for rental or crew."},contacts:{title:"Contacts",content:"Save crew members in **Contacts** or import vCards. Entries reuse across projects and flow into providers, backups and exports."},ownGear:{title:"Own Gear",content:"Track your personal inventory in **Own Gear**. Mark items you own so kit list rows can be flagged and exported with those annotations."},settings:{title:"Settings",content:"Customize the planner in **Settings**. Adjust **Language**, themes, typography, branding and **Backup & Restore** safeguards, plus automatic gear rules and documentation tracking."},offlineUse:{title:"Offline Use",content:"Cine Power Planner works fully **Offline** with locally stored icons, fonts and help content. Verify the offline indicator. Export at least one project and create a full backup before disconnecting. Run a restore rehearsal (or at minimum confirm the latest autosave timestamp in Settings → Data & Storage)."},troubleshooting:{title:"Troubleshooting",content:`If things aren't working as expected:

- **Force reload**: Open the toolbar help/status menu and choose **Force reload** to refresh the app without touching your data.
- **Export + Backup**: Before clearing browser cache or site data, **Export Project** and run **Backup & Restore** to capture your project and a full local backup.
- **Browser cache/site data**: Only if issues persist, clear your browser cache or site data. **Warning:** clearing site data can delete locally stored projects.`},shortcuts:{title:"Keyboard Shortcuts",content:`Navigate faster with these keys:

- **?**, **H**, **F1**: Open Help
- **/**: Focus Search
- **Esc**: Close dialogs or menus
- **D**: Toggle Dark Mode`},pinkMode:{title:"Pink Mode",content:"Activate **Pink Mode** in Settings or the top bar to add playful accents and animated icons. The unicorn icon cycles every 30 seconds, and floating stickers drift across the screen. Click any floating sticker **3 times** to trigger a celebratory rain effect."}},documentationTrackerHelpStart:"Start Here & navigation",documentationTrackerHelpSave:"Saving, sharing & exports",documentationTrackerHelpBackup:"Backup & restore drills",documentationTrackerHelpOwnGear:"Own gear & imports",documentationTrackerHelpOffline:"Offline readiness & service worker",documentationTrackerHelpPinkMode:"Pink mode & animations",documentationTrackerPrintHeading:"Printable guides",documentationTrackerPrintChecklist:"Documentation update checklist",documentationTrackerPrintMaintenance:"Documentation maintenance guide",documentationTrackerPrintSaveShare:"Save, share, import, backup & restore reference",documentationTrackerPrintOffline:"Offline readiness drill",documentationTrackerReleaseNameLabel:"Release name",documentationTrackerReleaseDateLabel:"Target release date",documentationTrackerNotesLabel:"Verification notes",documentationTrackerNotesPlaceholder:"Record what changed, who reviewed it and where the artifacts were stored.",documentationTrackerMarkAllComplete:"Mark all complete",documentationTrackerArchiveRelease:"Archive release",documentationTrackerRestoreRelease:"Reopen release",documentationTrackerArchivedBadge:"Archived",documentationTrackerArchiveConfirm:'Archive "{name}"? Completed checkmarks stay logged for audits.',documentationTrackerSummaryPending:'{remaining} of {total} documentation tasks remain for "{name}".',documentationTrackerSummaryComplete:'All {total} documentation tasks for "{name}" are complete.',documentationTrackerFallbackReleaseName:"Documentation release",documentationTrackerProgress:"{completed}/{total} complete",documentationTrackerSectionProgress:"{completed}/{total}",documentationTrackerUpdatedAt:"Updated {time}",documentationTrackerTargetSummary:"Target {date}",documentationTrackerDefaultReleaseName:"Release {date}",settingsTabBackup:"Backup & Restore",settingsTabData:"Data & Storage",settingsTabAbout:"About & Support",generalSectionInterfaceHeading:"Interface & Accessibility",generalSectionInterfaceHelp:"Manage font sizes, high contrast mode and animation preferences.",settingsBackupAutomatedHeading:"Automated Backups",settingsBackupManualHeading:"Manual Actions",settingsBackupDangerHeading:"Danger Zone",settingsDataStorageStatusHeading:"Storage Status",settingsDataPersistenceHeading:"Persistence & Backup",settingsDataLoggingHeading:"Logging",settingsAboutHeading:"About & Support",rulesViewTitle:"Auto Gear Rules",rulesViewSubtitle:"Manage automatic gear additions based on your equipment selection.",buttonAddRule:"Add Rule",rulesEmptyTitle:"No rules defined",rulesEmptyText:"Create your first rule to automate your gear list.",ruleBadgeAlways:"Always",ruleTagConditions:"Conditions",ruleTagItemsAdded:"Items Added",confirmDeleteRule:"Are you sure you want to delete this rule?",modalTitleCreateRule:"Create Rule",modalTitleEditRule:"Edit Rule",tabGeneral:"General",tabContext:"Context",tabCamera:"Camera",tabMonitoring:"Monitoring",tabSupport:"Support",tabCrew:"Crew",tabActions:"Actions",labelRuleName:"Rule Name",labelRuleEnabled:"Rule Enabled",labelRuleAlways:"Always Apply",helpRuleAlways:"Overrides all other conditions.",placeholderRuleName:"e.g. Add Batteries for Monitor",sectionScenarios:"Scenarios",sectionCameraModels:"Camera Models",sectionMatteboxes:"Matteboxes",sectionViewfinders:"Viewfinders / Top Handles (Extensions)",sectionMonitors:"Monitors",sectionWireless:"Wireless",sectionTripodHeads:"Tripod Heads",sectionBowlSize:"Bowl Size",sectionLegTypes:"Leg Types",sectionSpreaders:"Spreaders",sectionCrewPresent:"Crew Present",sectionCrewAbsent:"Crew Absent",sectionItemsToAdd:"Items to Add",sectionItemsToRemove:"Items to Remove",buttonAddItem:"+ Add Item",labelItemName:"Item Name",placeholderItemSearch:"Search...",labelCategory:"Category",labelQty:"Qty",buttonAdd:"Add",textNoOptions:"No options available.",textNoItems:"No items defined.",buttonSaveRule:"Save Rule",buttonCancel:"Cancel",buttonEdit:"Edit",buttonDelete:"Delete",alertEnterRuleName:"Please enter a rule name.",contactsViewTitle:"Contacts",contactsViewSubtitle:"Manage your crew and vendor contacts.",buttonAddContact:"Add Contact",buttonAddFirstContact:"+ Add First Contact",contactsEmptyTitle:"No contacts found",contactsEmptyText:"Add people and companies to your contact list to quickly assign them to projects.",linkWebsite:"Website",contactUnnamed:"Unnamed Contact",contactNoRole:"No Role",modalTitleDeleteContact:"Delete Contact",confirmDeleteContact:"Are you sure you want to delete this contact? This action cannot be undone.",buttonDeleteRed:"Delete",modalTitleNewContact:"New Contact",modalTitleEditContact:"Edit Contact",buttonUploadPhoto:"Upload Photo",buttonRemovePhoto:"Remove",labelName:"Name",labelRole:"Role",labelPhone:"Phone",labelEmail:"Email",labelWebsite:"Website / Link",labelNotes:"Notes",placeholderFullName:"Full Name",placeholderRole:"e.g. 1st AC",placeholderPhone:"+1 234 567 890",placeholderEmail:"email@example.com",placeholderWebsite:"https://...",placeholderNotes:"Additional details...",buttonSaveContact:"Save Contact",alertEnterName:"Please enter a name.",ownGearViewTitle:"Owned Gear",ownGearViewSubtitle:"Manage your personal equipment inventory.",buttonAddGearItem:"Add Item",buttonAddFirstGearItem:"+ Add First Item",ownGearEmptyTitle:"No gear found",ownGearEmptyText:"Add items to your personal inventory to quickly add them to projects.",labelQtyPrefix:"Qty: ",labelSourcePrefix:"Source: ",confirmDeleteGearItem:"Are you sure you want to delete this item?",modalTitleNewGearItem:"New Gear Item",modalTitleEditGearItem:"Edit Gear Item",placeholderGearName:"e.g. Arri Alexa Mini",placeholderGearQty:"1",placeholderGearNotes:"Condition, serial number, etc...",buttonSaveGearItem:"Save Item",alertInvalidItemData:"Invalid item data.",alertSaveItemFailed:"Failed to save item.",labelQuantity:"Quantity",buttonDownloadBackup:"Download Backup",buttonDownloadFullBackup:"Download Full Backup",buttonRestore:"Restore",buttonRestoreRehearsal:"Restore Rehearsal",buttonFactoryReset:"Factory Reset",buttonCompareVersions:"Compare Versions",buttonReset:"Reset",buttonUploadSvg:"Upload SVG",buttonClose:"Close",buttonExportLog:"Export Log",buttonChooseFile:"Choose File",buttonSupport:"Support",buttonReportBug:"Report Bug",buttonSuggestFeature:"Suggest Feature",buttonRequestPersistence:"Request Persistent Storage",labelBackupRetention:"Backup Retention (copies per project)",labelBaselineVersion:"Baseline Version",labelComparisonVersion:"Comparison Version",labelIncidentNotes:"Incident Notes",labelSelectFile:"Select File",labelNoFileSelected:"No file selected",labelLatestProjectSave:"Latest Project Save",labelLatestAutoBackup:"Latest Auto Backup",labelLatestFullBackup:"Latest Full Backup",tableHeaderData:"Data",tableHeaderDifference:"Difference",labelLogLevel:"Log Level",labelHistoryLimit:"History Limit",labelNamespaceFilter:"Namespace Filter",placeholderIncidentNotes:"Context for this comparison...",checkboxAutoBackupList:"Show auto-backups in project list",checkboxHighContrast:"High Contrast Elements",checkboxReduceMotion:"Reduce Motion",checkboxRelaxedSpacing:"Relaxed Spacing",checkboxMirrorConsole:"Mirror to Console",checkboxCaptureConsole:"Capture Console Output",checkboxCaptureGlobalErrors:"Capture Global Errors",checkboxPersistSession:"Persist Session Between Reloads",brandingNoLogo:"No custom logo set",documentationTrackerEmptyShort:"No releases tracked.",settingsFactoryResetHelp:"Reset the application to its initial state. All data will be deleted.",backupDiffModalTitle:"Version Comparison",backupDiffModalSubtitle:"Pick two manual saves or automatic backups to inspect changes.",backupDiffEmptyState:"Select versions to see differences.",rehearsalModalSubtitle:"Load a backup into a disposable workspace to verify it before running a full restore.",rehearsalModalSourceLabel:"Choose a rehearsal source",rehearsalModalSourceBackup:"Full app backup (.json)",rehearsalModalSourceProject:"Project bundle (.json)",textManageLocalData:"Manage your local data.",textRequestPersistence:"Request persistent storage verification to prevent browser eviction.",statusCheckingPersistence:"Checking storage protection...",textNoLogEntries:"No log entries.",optionLogLevelAll:"All levels",optionLogLevelInfo:"Info and above",optionLogLevelWarn:"Warnings and errors",optionLogLevelError:"Errors only",appCreator:"Created by Luca Zanner",languageSetting:"Language",settingsLanguageHelp:"Choose the interface language. Changes apply immediately and are remembered for next time.",darkModeSetting:"Dark mode",settingsDarkModeHelp:"Switch between light and dark themes from any control. The onboarding selector, top-bar toggle and Settings checkbox stay synchronized instantly.",pinkModeSetting:"Pink mode",settingsPinkModeHelp:"Enable the playful pink accent theme from Settings.",accentColorSetting:"Accent color",accentColorHelp:"Pick the accent color used for buttons, highlights and diagrams. The choice is saved with your settings.",cameraColorSettingDescription:"Assign a highlight color to each camera letter so linked gear stays coordinated across your lists.",cameraColorInputHelp:"Choose the highlight color for camera %s.",cameraColorALabel:"Camera A color",cameraColorBLabel:"Camera B color",cameraColorCLabel:"Camera C color",cameraColorDLabel:"Camera D color",cameraColorELabel:"Camera E color",accentColorReset:"Reset to default",accentColorResetHelp:"Revert the accent color to the original theme color while keeping other preferences intact.",temperatureUnitSetting:"Temperature unit",temperatureUnitSettingHelp:"Choose whether temperatures are shown in Celsius or Fahrenheit throughout the app.",focusScaleSetting:"Focus scale",focusScaleSettingHelp:"Choose the measurement markings displayed for focus scales in lens notes and overviews.",focusScaleMetric:"Metric",focusScaleImperial:"Imperial",mountVoltageSettingsHeading:"Battery mount voltages",mountVoltageSettingsHelp:"Adjust the voltages used for current draw calculations across B-Mount, V-Mount and Gold Mount setups.",mountVoltageDescription:"Set the default high and low voltages for each battery mount so the planner matches your hardware.",mountVoltageReset:"Restore defaults",mountVoltageResetHelp:"Reset all mount voltages to their factory defaults.",mountVoltageHighLabel:"High-voltage output",mountVoltageLowLabel:"Low-voltage output",mountVoltageHighHelp:"Used to calculate total current at the battery's main output such as the high-voltage pins.",mountVoltageLowHelp:"Used to calculate total current at auxiliary outputs such as D-Tap ports or B-Mount low-voltage pins.",mountVoltageNote:"These voltages update the totals in the power summary, runtime estimates and pin warnings.",mountVoltageCardLabelV:"V-Mount",mountVoltageCardLabelGold:"Gold Mount",mountVoltageCardLabelB:"B-Mount",totalCurrentHighLabelTemplate:"Total Current (at {voltage}V):",totalCurrentLowLabelTemplate:"Total Current (at {voltage}V):",totalCurrentHighHelpTemplate:"Current draw at the battery's main output ({voltage}V).",totalCurrentLowHelpTemplate:"Current draw at auxiliary outputs ({voltage}V).",temperatureUnitCelsius:"Celsius (°C)",temperatureUnitFahrenheit:"Fahrenheit (°F)",temperatureUnitSymbolCelsius:"°C",temperatureUnitSymbolFahrenheit:"°F",fontSizeSetting:"Font size",fontSizeSettingHelp:"Set the base interface font size to improve readability or fit more information on screen.",fontFamilySetting:"Font",fontFamilySettingHelp:"Select the typeface used throughout the planner. Added local fonts appear in this menu.",bundledFontsGroup:"Bundled fonts",localFontsGroup:"Local fonts",localFontsButton:"Add local font…",localFontsButtonHelp:"Allow the planner to use installable fonts from this device when your browser supports it.",localFontsUnsupported:"Local fonts aren't supported in this browser.",localFontsFileFallback:"Your browser can't list installed fonts automatically. Upload font files instead.",localFontsAdded:"Added: %s",localFontsAlreadyAdded:"Already added: %s",localFontsNoFonts:"No fonts were selected.",localFontsError:"Could not access local fonts.",localFontsPermissionNeeded:"Access to installed fonts was denied. Upload font files instead.",localFontsUnsupportedFiles:"Some files weren't recognized as fonts: %s.",localFontsSaveError:"Font added for this session but couldn't be saved for offline use.",logoSetting:"Logo (SVG)",logoSettingHelp:"Upload an SVG logo to brand printable overviews and include it in backups.",logoFormatError:"Unsupported logo format. Please choose an SVG file.",autoGearHeading:"Automatic Gear Rules",autoGearHeadingHelp:"Adjust which Production Requirements scenarios automatically add or remove kit items.",autoGearDescription:"Create scenario-based rules that tweak the generated kit list. Rules apply after the default planner suggestions.",autoGearPresetDescription:"Save and reuse complete sets of automatic gear rules.",autoGearPresetLabel:"Preset",autoGearPresetPlaceholder:"Custom rules",autoGearAutoPresetLabel:"Autosaved rules",autoGearSavePresetButton:"Save preset",autoGearDeletePresetButton:"Delete preset",autoGearPresetNamePrompt:"Name this preset",autoGearPresetNameRequired:"Enter a preset name to continue.",autoGearPresetOverwriteConfirm:"Replace the existing preset “%s”?",autoGearPresetApplyConfirm:"Replace your automatic gear rules with the preset “%s”?",autoGearPresetSaved:"Automatic gear preset saved.",autoGearPresetDeleted:"Automatic gear preset deleted.",autoGearPresetApplied:"Preset applied.",autoGearPresetExportSuccess:"Automatic gear presets downloaded.",autoGearPresetExportError:"Automatic gear preset export failed.",autoGearAddRule:"Add rule",autoGearNoRules:"No custom rules yet.",autoGearNoMatches:"No rules match your filters.",autoGearNoFocusMatches:"No rules match the selected dashboard filter.",autoGearSummaryHeading:"Rule coverage overview",autoGearSummaryDescription:"Review automatic gear rules for duplicate triggers, conflicts, stacked scenarios and uncovered coverage.",autoGearSummaryEmpty:"Add a rule to unlock coverage insights.",autoGearSummaryTotalLabel:"Rules tracked",autoGearSummaryTotalDescription:"Rules currently saved in this setup.",autoGearSummaryCoverageLabel:"Scenario coverage",autoGearSummaryCoverageDescription:"{covered} of {total} scenarios covered",autoGearSummaryCoverageEmpty:"Add scenarios to measure coverage.",autoGearSummaryNetLabel:"Net change",autoGearSummaryNetDescription:"Adds {adds} · Removes {removes}",autoGearSummaryDuplicatesLabel:"Duplicated triggers",autoGearSummaryDuplicatesSome:"{rules} across {groups} groups",autoGearSummaryDuplicatesNone:"No duplicate triggers.",autoGearSummaryConflictsLabel:"Potential conflicts",autoGearSummaryConflictsSome:"{rules} affected across {items} items",autoGearSummaryConflictsNone:"No conflicting adds/removes.",autoGearSummaryOverlapsLabel:"Stacked scenarios",autoGearSummaryOverlapsSome:"{count} scenarios touched by multiple rules",autoGearSummaryOverlapsNone:"No scenarios currently stack multiple rules.",autoGearSummaryUncoveredLabel:"Uncovered scenarios",autoGearSummaryUncoveredSome:"Review {count} scenario gaps",autoGearSummaryUncoveredNone:"All required scenarios covered.",autoGearSummaryDetailsIntro:"Focus cards to inspect coverage percentages, stacked scenarios, duplicates and conflicts before exporting or printing.",autoGearSummaryDetailsDuplicatesHeading:"Duplicated triggers",autoGearSummaryDuplicateGroupTitle:"Matching triggers",autoGearSummaryDetailsConflictsHeading:"Potential conflicts",autoGearSummaryConflictAddsLabel:"Adds",autoGearSummaryConflictRemovesLabel:"Removes",autoGearSummaryDetailsOverlapsHeading:"Scenarios with stacked rules",autoGearSummaryDetailsOverlapsNone:"No scenarios currently stack multiple rules.",autoGearSummaryDetailsUncoveredHeading:"Uncovered scenarios",autoGearSummaryResetFocus:"Clear dashboard filter",autoGearSummaryDetailsFocusEmpty:"No coverage details match the current focus.",autoGearSummaryJumpToRule:"Jump to rule",autoGearSummarySetScenarioFilter:"Filter to scenario {scenario}",autoGearSummaryRuleReference:"Rule {position}: {label}",autoGearSummaryRuleReferenceUntitled:"Rule {position}",autoGearSummaryFilteredDescription:"Showing {visible} of {total} rules after filters.",autoGearSearchLabel:"Search rules",autoGearSearchHelp:"Filter automatic gear rules by name, scenario or items. Results update instantly as you type.",autoGearSearchPlaceholder:"Search by name, scenario or item",autoGearFilterScenarioLabel:"Filter by scenario",autoGearFilterScenarioHelp:"Show only rules that require a specific scenario.",autoGearFilterScenarioAny:"All scenarios",autoGearFilterClear:"Clear filters",autoGearRuleNameLabel:"Rule name",autoGearRuleNameHelp:"Optional label displayed in the rules list.",autoGearConditionSelectLabel:"Add a condition",autoGearConditionSelectHelp:"Reveal the selectors you want to use as rule conditions.",autoGearAddCondition:"Add condition",autoGearConditionPlaceholder:"Choose a condition",autoGearConditionAddShortcut:"Add another condition",autoGearConditionRemove:"Remove this condition",autoGearConditionLogicLabel:"Match behavior",autoGearConditionLogicHelp:"Choose how the selected values interact before the rule activates.",autoGearConditionLogicAll:"Require every selected value",autoGearConditionLogicAny:"Match any selected value",autoGearConditionLogicOr:"Start a new OR group (matches any selected value)",autoGearConditionLogicNone:"Require none of the selected values",autoGearConditionLogicMultiplier:"Multiply by matched values",autoGearConditionRepeatHint:"Condition already added. Existing inputs for {condition} are highlighted so you can add more selections.",autoGearAlwaysLabel:"Always include",autoGearAlwaysHelp:"Apply this rule to every kit list.",autoGearAlwaysMeta:"Always active",autoGearScenariosLabel:"Required scenarios",autoGearScenariosHelp:"Pick every scenario that must be selected for this rule to apply. Hold Ctrl (Cmd on Mac) to choose multiple.",autoGearScenarioPlaceholder:"Select scenarios",autoGearScenarioModeLabel:"Scenario matching",autoGearScenarioModeHelp:"Choose how the selected scenarios interact before the rule activates.",autoGearScenarioModeAll:"Require every selected scenario",autoGearScenarioModeAny:"Match any selected scenario",autoGearScenarioModeMultiplier:"Multiply when combined",autoGearScenarioBaseLabel:"Base scenario",autoGearScenarioBaseHelp:"Items always add when this scenario is active.",autoGearScenarioBasePlaceholder:"Select a base scenario",autoGearScenarioFactorLabel:"Multiplier factor",autoGearScenarioFactorHelp:"Scale item quantities when every additional scenario is active.",autoGearShootingDaysLabel:"Shooting days condition",autoGearShootingDaysHelp:"Activate this rule when the shooting schedule meets your chosen minimum or maximum, or repeat the gear for each block of days.",autoGearShootingDaysModeMinimum:"Minimum",autoGearShootingDaysModeMaximum:"Maximum",autoGearShootingDaysModeEvery:"Every",autoGearShootingDaysValueLabel:"Shooting days value",autoGearMatteboxLabel:"Mattebox options",autoGearMatteboxHelp:"Apply this rule when these mattebox choices are selected. Clamp-on rules automatically add the matching backing sizes for the selected lens fronts.",autoGearMatteboxPlaceholder:"Select mattebox options",autoGearCameraHandleLabel:"Camera handles",autoGearCameraHandleHelp:"Apply this rule when these camera handle options are selected.",autoGearCameraHandlePlaceholder:"Select camera handles",autoGearViewfinderExtensionLabel:"Viewfinder extension",autoGearViewfinderExtensionHelp:"Apply this rule when these viewfinder extension choices are selected.",autoGearViewfinderExtensionPlaceholder:"Select viewfinder extension options",autoGearDeliveryResolutionLabel:"Delivery resolution",autoGearDeliveryResolutionHelp:"Apply this rule when these delivery resolutions are selected.",autoGearDeliveryResolutionPlaceholder:"Select delivery resolutions",autoGearVideoDistributionLabel:"Video distribution",autoGearVideoDistributionHelp:"Apply this rule when these video distribution preferences are selected.",autoGearVideoDistributionPlaceholder:"Select video distribution options",autoGearTripodHeadBrandLabel:"Tripod head brand",autoGearTripodHeadBrandHelp:"Apply this rule when the tripod head preferences include these brands.",autoGearTripodHeadBrandPlaceholder:"Select tripod head brands",autoGearTripodBowlLabel:"Tripod bowl size",autoGearTripodBowlHelp:"Apply this rule when the tripod head preferences include these bowl sizes.",autoGearTripodBowlPlaceholder:"Select tripod bowl sizes",autoGearTripodTypesLabel:"Tripod types",autoGearTripodTypesHelp:"Apply this rule when the tripod preferences include these tripod types.",autoGearTripodTypesPlaceholder:"Select tripod types",autoGearTripodSpreaderLabel:"Tripod spreader",autoGearTripodSpreaderHelp:"Apply this rule when the tripod preferences include these spreader options.",autoGearTripodSpreaderPlaceholder:"Select tripod spreaders",autoGearVideoDistributionNone:"No video distribution selected",autoGearCameraLabel:"Camera selection",autoGearCameraHelp:"Apply this rule when these camera bodies are selected.",autoGearCameraWeightLabel:"Camera weight",autoGearCameraWeightHelp:"Compare the selected camera's weight to the threshold before triggering this rule.",autoGearCameraWeightOperatorLabel:"Weight comparison",autoGearCameraWeightOperatorGreater:"Heavier than",autoGearCameraWeightOperatorLess:"Lighter than",autoGearCameraWeightOperatorEqual:"Exactly",autoGearCameraWeightValueLabel:"Weight threshold (grams)",autoGearCameraWeightValueRequired:"Enter a camera weight threshold before saving.",autoGearMonitorLabel:"Onboard monitors",autoGearMonitorDefaultsHeading:"Monitor defaults",autoGearMonitorDefaultsDescription:"Choose which monitors should be preselected for new kit lists.",autoGearDefaultFocusMonitorLabel:"Focus monitor",autoGearDefaultHandheldMonitorLabel:'7" handheld monitor',autoGearDefaultComboMonitorLabel:'Combo monitor 15-21"',autoGearDefaultDirectorMonitorLabel:'Director monitor 15-21"',autoGearMonitorDefaultPlaceholder:"Use recommended automatically",autoGearMonitorHelp:"Apply this rule when these onboard monitors are selected.",autoGearCrewPresentLabel:"Crew present",autoGearCrewPresentHelp:"Apply this rule when these crew roles are listed on the project.",autoGearCrewAbsentLabel:"Crew absent",autoGearCrewAbsentHelp:"Apply this rule when these crew roles are not listed on the project.",autoGearWirelessLabel:"Wireless transmitters",autoGearWirelessHelp:"Apply this rule when these wireless transmitters are selected.",autoGearMotorsLabel:"FIZ motors",autoGearMotorsAny:"Any motor selected",autoGearMotorsHelp:"Apply this rule when these FIZ motors are selected.",autoGearControllersLabel:"FIZ controllers",autoGearControllersHelp:"Apply this rule when these FIZ controllers are selected.",autoGearDistanceLabel:"FIZ distance devices",autoGearDistanceHelp:"Apply this rule when these distance devices are selected.",autoGearRuleConditionRequired:"Select at least one scenario, camera, monitor, wireless transmitter, motor, controller, distance device, mattebox option, camera handle, viewfinder extension or video distribution before saving.",autoGearAddItemsHeading:"Add these items",autoGearOwnGearLabel:"Own gear item",autoGearOwnGearHelp:"Select an item you own to link this rule to your inventory.",autoGearConditionOwnGearLabel:"Own gear",autoGearConditionOwnGearHelp:"Apply this rule when these items are saved in your own gear list.",autoGearOwnGearMissing:"Removed own gear",autoGearOwnGearPlaceholder:"Manual entry",autoGearOwnGearBadge:"Own gear",autoGearAddItemLabel:"Item",autoGearAddCategoryLabel:"Category",autoGearAddQuantityLabel:"Qty",autoGearAddItemButton:"Add item",autoGearUpdateItemButton:"Save item",autoGearAddMultipleHint:"Separate multiple items with semicolons.",autoGearRemoveItemsHeading:"Remove these items",autoGearRemoveItemLabel:"Item",autoGearRemoveCategoryLabel:"Category",autoGearRemoveQuantityLabel:"Qty",autoGearRemoveItemButton:"Add removal",autoGearRemoveMultipleHint:"Separate multiple items with semicolons.",autoGearSaveRule:"Save rule",autoGearRuleSaved:"Automatic gear rule saved.",autoGearCancelEdit:"Cancel",autoGearResetFactoryButton:"Reset to factory additions",autoGearResetFactoryHelp:"Restore the automatic gear rules generated from the planner's default scenarios. Your current presets download before anything changes.",autoGearResetFactoryConfirm:"Replace your automatic gear rules with the default additions?",autoGearResetFactoryDone:"Automatic gear rules restored to factory additions.",autoGearResetFactoryEmpty:"Factory additions unavailable. Automatic gear rules cleared.",autoGearResetFactoryError:"Reset failed. Please try again.",autoGearResetFactoryExportFailed:"Automatic gear preset export failed. Reset cancelled.",autoGearExportButton:"Export rules",autoGearExportHelp:"Download your automatic gear rules as a JSON file.",autoGearExportSuccess:"Automatic gear rules downloaded.",autoGearExportError:"Automatic gear rules export failed.",autoGearImportButton:"Import rules",autoGearImportHelp:"Replace your automatic gear rules with a file you previously exported.",autoGearImportConfirm:"Replace your automatic gear rules with the imported file?",autoGearImportSuccess:"Automatic gear rules imported.",autoGearImportError:"Import failed. Please choose a valid automatic gear rules file.",autoGearImportSchemaError:"Import failed. The file does not match the automatic gear rules export format.",autoGearImportMetadataLabelType:"type marker",autoGearImportMetadataLabelVersion:"version",autoGearImportMetadataLabelTimestamp:"marca temporale",autoGearImportMissingMetadataWarning:"Imported rules are missing required metadata: {fields}. Confirm the file comes from a trusted export before saving.",autoGearImportInvalidMetadataWarning:"Imported rules include invalid metadata: {fields}. Confirm the file comes from a trusted export before saving.",autoGearImportNewerVersionWarning:"Imported rules were created with version {importVersion}, which is newer than this build ({appVersion}). Double-check compatibility before relying on them.",autoGearImportOlderVersionWarning:"Imported rules were created with version {importVersion}, which is older than this build ({appVersion}). Review them to confirm they still match your workflow.",autoGearImportInvalidVersionWarning:'Imported rules report version "{value}", which is not a valid semantic version string.',autoGearImportInvalidTimestampWarning:'The import timestamp "{value}" could not be verified. Confirm the file has not been modified.',autoGearBackupsHeading:"Automatic backups",autoGearBackupsDescription:"Backups save your rules every 10 minutes when changes occur and keep up to 50 tracked changes between full snapshots. Restore a snapshot if something goes wrong.",autoGearShowBackupsLabel:"Show automatic backups",autoGearShowBackupsHelp:"Reveal the snapshots captured in the background.",autoGearBackupsHidden:"Automatic backups stay hidden until you turn them on.",autoGearBackupSelectLabel:"Choose a backup",autoGearBackupSelectPlaceholder:"Select a backup to restore",autoGearBackupEmpty:"No automatic backups yet.",autoGearBackupRestore:"Restore",autoGearBackupRestoreConfirm:"Replace your automatic gear rules with this backup?",autoGearBackupRestoreSuccess:"Automatic gear backup restored.",autoGearBackupRestoreError:"Automatic gear backup restore failed.",autoGearBackupSaved:"Automatic gear backup saved.",autoGearBackupFailed:"Automatic gear backup failed.",autoGearBackupRetentionLabel:"Automatic backup retention",autoGearBackupRetentionHelp:"Choose how many automatic gear backups stay on this device.",autoGearBackupRetentionSummary:"Keeping the latest {limit}. Currently {stored} stored.",autoGearBackupRetentionWarning:"Lowering to {limit} will remove {trimmed}. A safety snapshot will be saved first.",autoGearBackupRetentionConfirm:"Save a safety snapshot and trim older backups now?",autoGearBackupRetentionSafetyNote:"Retention lowered to {limit}.",autoGearBackupRetentionSafetyNoteTrimmed:"Retention lowered to {limit}. Removed {trimmed} in this change.",autoGearBackupRetentionSafetySaved:"Safety snapshot captured before trimming backups.",autoGearBackupRetentionSafetyFailed:"Safety snapshot failed. Retention was not changed.",autoGearBackupRetentionUpdated:"Retention updated to {limit}. Removed {trimmed}.",autoGearBackupRetentionUpdatedNoTrim:"Retention updated to {limit}. No backups were removed.",autoGearBackupRetentionExpanded:"Retention updated to {limit}.",autoGearBackupRetentionUpdateFailed:"Could not apply the new retention limit. Try again.",autoGearRulesCountOne:"%s rule",autoGearRulesCountOther:"%s rules",autoGearRuleToggleEnable:"Enable rule",autoGearRuleToggleDisable:"Disable rule",autoGearRuleEnabledLabel:"Enabled",autoGearRuleDisabledLabel:"Disabled",autoGearSummaryAllDisabled:"All automatic gear rules are disabled.",autoGearSummaryDisabledSuffix:"{count} disabled rules are ignored in coverage.",autoGearSummaryDisabledNote:"Disabled rules are visible below but ignored until re-enabled.",autoGearBackupClearsRules:"Clears all rules",autoGearBackupMeta:"%s · %s",autoGearAddsCountOne:"%s addition",autoGearAddsCountOther:"%s additions",autoGearAddsListLabel:"Adds",autoGearItemSummaryWithCategory:"%s × %s (%s)",autoGearItemSummary:"%s × %s",autoGearRemovalsCountOne:"%s removal",autoGearRemovalsCountOther:"%s removals",autoGearDuplicateRule:"Duplicate",autoGearDuplicateSuffix:"Copy",autoGearDeleteRule:"Delete",autoGearDeleteConfirm:"Delete this rule?",autoGearItemNameRequired:"Enter an item name first.",autoGearEditSingleItemWarning:"Edit one item at a time.",autoGearRuleScenarioRequired:"Select a scenario before saving.",autoGearRuleNeedsItems:"Add at least one item to add or remove before saving.",autoGearListRemove:"Remove",autoGearListEdit:"Edit",autoGearEmptyList:"No items yet.",autoGearDraftImpactHeading:"Draft impact preview",autoGearDraftImpactDescription:"Simulated totals showing how this draft would change shared gear outputs.",autoGearDraftImpactEmpty:"No changes detected yet. Add or adjust items to preview the impact.",autoGearDraftImpactUnavailable:"Preview becomes available after this rule includes at least one item.",autoGearDraftImpactTotals:"Current total: %s → After save: %s",autoGearDraftImpactChange:"Change: %s",autoGearDraftImpactStackedOne:"Stacked across %s rule.",autoGearDraftImpactStackedOther:"Stacked across %s rules.",autoGearDraftImpactConflictOne:"Removals also active in %s rule.",autoGearDraftImpactConflictOther:"Removals also active in %s rules.",autoGearDraftWarningHeading:"Warnings",autoGearDraftWarningCritical:"%s would drop out of the kit list.",autoGearDraftWarningConflict:"%s has conflicting add and remove instructions.",autoGearDraftWarningRedundant:"%s is added by multiple rules without increasing totals.",autoGearDraftWarningConfirm:"Save anyway? Review the impact warnings below before confirming.",autoGearCustomCategory:"Custom Additions",autoGearAddScreenSizeLabel:"Screen size",autoGearAddSelectorTypeLabel:"Selector",autoGearAddSelectorDefaultLabel:"Default item",autoGearAddSelectorIncludeLabel:"Include selector",autoGearAddNotesLabel:"Notes",autoGearRemoveScreenSizeLabel:"Screen size",autoGearRemoveSelectorTypeLabel:"Selector",autoGearRemoveSelectorDefaultLabel:"Default item",autoGearRemoveSelectorIncludeLabel:"Include selector",autoGearRemoveNotesLabel:"Notes",autoGearSelectorDefaultPlaceholder:"Choose a default device",autoGearSelectorNoneOption:"No selector",autoGearSelectorMonitorOption:"Monitor selector",autoGearSelectorDirectorOption:"Director monitor selector",autoGearSelectorTripodHeadOption:"Tripod head selector",autoGearSelectorTripodBowlOption:"Tripod bowl selector",autoGearSelectorTripodTypesOption:"Tripod type selector",autoGearSelectorTripodSpreaderOption:"Tripod spreader selector",autoGearSelectorFizHandUnitOption:"FIZ hand unit selector",autoGearSelectorScrollHint:"Scroll to see more devices.",autoGearSelectorSummaryWithDefault:"%s selector (default: %s)",autoGearSelectorSummary:"%s selector",autoGearSelectorSummaryNoSelector:"%s default: %s",autoGearRuleTooltipNamed:"Added by automatic gear rule “%s”.",autoGearRuleTooltipUnnamed:"Added by an automatic gear rule.",autoGearRuleBadgeNamed:"Rule: %s",autoGearRuleBadgeUnnamed:"Automatic rule",accessibilityHeading:"Accessibility",accessibilityHeadingHelp:"Adjust contrast and other options that improve legibility.",highContrastSetting:"High contrast",highContrastSettingHelp:"Increase contrast for text and outlines to boost readability in any theme.",reduceMotionSetting:"Reduce motion",reduceMotionSettingHelp:"Limit color and interface animations so transitions feel steady for motion-sensitive users.",relaxedSpacingSetting:"Relaxed spacing",relaxedSpacingSettingHelp:"Increase line spacing and control padding to make text easier to scan and tap.",backupHeading:"Backup & Restore",backupHeadingHelp:"Manage full backups of settings, saved projects, custom devices, queued vault entries, and runtime feedback.",backupVaultHeading:"Data Vault (Backups)",backupVaultLoading:"Loading backups…",backupVaultEmptyTitle:"No backups found in the vault.",backupVaultEmptySubtitle:"Backups are created automatically when you save projects.",backupVaultLoadError:"Failed to load backups: {message}",backupVaultLoadErrorFallback:"Unable to load backups.",backupVaultRestoreAriaLabel:"Restore {name}",backupVaultDeleteAriaLabel:"Delete {name}",backupVaultRestoreConfirm:"Restore {name}? This will overwrite current data.",backupVaultUnknownFormat:"Unknown backup format.",backupVaultRestoreSuccess:"Project restored successfully!",backupVaultRestoreLocked:"This project is locked by another session.",backupVaultRestoreUnknownError:"Unknown error.",backupVaultRestoreFailed:"Restore failed. {reason}",backupVaultRestoreError:"Failed to restore: {message}",backupVaultDeleteConfirm:"Delete {name}?",backupVaultDeleteError:"Failed to delete backup: {message}",backupVaultDeleteErrorFallback:"Failed to delete backup.",projectBackupsHeading:"Project Backups",projectBackupsDescription:"Manage automatic snapshots and compare saved versions before restoring changes.",showAutoBackupsSetting:"Show auto backups in project list",showAutoBackupsHelp:"Temporarily list automatic backup snapshots in Saved Projects so you can restore them manually.",versionCompareButton:"Compare versions",versionCompareButtonHelp:"Review differences between saves, add notes, and export a comparison log.",versionCompareHeading:"Version comparison",versionCompareIntro:"Pick two manual saves or automatic backups to inspect changes before archiving a log.",versionComparePrimaryLabel:"Baseline version",versionCompareSecondaryLabel:"Comparison version",versionCompareSelectPlaceholder:"Select a version",versionCompareEmpty:"Save a project or wait for auto-backups to start comparing versions.",versionCompareNoSelection:"Choose two versions to generate a diff.",versionCompareSameSelection:"Select two different versions to compare.",versionCompareDifferencesCountOne:"%s difference noted.",versionCompareDifferencesCountOther:"%s differences noted.",versionCompareIdentical:"Versions match—no changes detected.",versionCompareManualLabel:"Manual save",versionCompareAutoLabel:"Auto backup",versionCompareAutoDeleteLabel:"Auto backup before delete",versionCompareNotesLabel:"Incident notes",versionCompareNotesPlaceholder:"Record context, on-set observations, or required follow-up.",versionCompareExport:"Export log",versionCompareExportHelp:"Download a JSON copy of this comparison and your notes.",versionCompareClose:"Close",versionCompareExportSuccess:"Comparison log exported.",versionCompareExportFailure:"Comparison export failed.",versionCompareMissingSelection:"Select two versions before exporting a log.",versionCompareChangeAdded:"Added",versionCompareChangeRemoved:"Removed",versionCompareChangeUpdated:"Updated",versionCompareMissingValue:"Not present",versionCompareRootPath:"Entire setup",versionCompareListItemLabel:"Item %s",versionCompareSummaryAdded:"Added: %s",versionCompareSummaryRemoved:"Removed: %s",versionCompareSummaryChanged:"Updated: %s",backupSettings:"Backup",backupSettingsHelp:"Download a full JSON backup containing every project, device edit, preference, auto-gear rule, queued backup vault entry, and runtime log stored on this device. Keep multiple copies in your offline archive.",restoreSettings:"Restore",restoreSettingsHelp:"Restore a full JSON backup. The planner captures a fresh safety copy first, then replaces stored preferences and session data with the selected file so you can roll back immediately if anything looks wrong.",restoreRehearsalButton:"Restore rehearsal",restoreRehearsalButtonHelp:"Test a backup or project bundle in a disposable sandbox before you restore your live data.",restoreRehearsalHeading:"Restore rehearsal",restoreRehearsalIntro:"Load a backup or project bundle into a disposable workspace. We compare key counts with your live profile and clear the sandbox automatically.",restoreRehearsalModeLabel:"Choose a rehearsal source",restoreRehearsalModeBackup:"Full app backup (.json)",restoreRehearsalModeProject:"Project bundle (.json)",restoreRehearsalFileLabel:"Select file",restoreRehearsalFileButton:"Choose file",restoreRehearsalNoFile:"No file selected yet.",restoreRehearsalReady:"Sandbox ready. Pick a JSON file to inspect.",restoreRehearsalProcessing:"Loading file in an isolated sandbox…",restoreRehearsalMatch:"All counts match. The sandbox was cleared automatically.",restoreRehearsalMismatch:"Differences detected: %s. The sandbox was cleared automatically.",restoreRehearsalError:"Restore rehearsal failed. Check the file and try again.",restoreRehearsalBackupMismatch:"File doesn't look like a full app backup. Double-check the source and try again.",restoreRehearsalProjectMismatch:"File doesn't look like a project bundle. Double-check the source and try again.",restoreRehearsalRuleHeading:"Automatic gear rule changes",restoreRehearsalRuleIntro:"Compare every automatic gear rule before loading the sandbox. Live rules stay untouched.",restoreRehearsalRuleEmpty:"No automatic gear rule differences found.",restoreRehearsalRuleAddsLabel:"Automatic additions",restoreRehearsalRuleRemovesLabel:"Automatic removals",restoreRehearsalRuleScenariosLabel:"Scenario scope",restoreRehearsalRuleNone:"None",restoreRehearsalRuleLogicLabel:"Scenario logic",restoreRehearsalRuleBaseLabel:"Base scenario",restoreRehearsalRuleMultiplierLabel:"Multiplier",restoreRehearsalRuleRequiredLabel:"Required scenarios",restoreRehearsalRuleAlwaysLabel:"Always active",restoreRehearsalRuleFallback:"Automatic rule change",restoreRehearsalProceed:"Resume restore rehearsal",restoreRehearsalProceedHelp:"Stage the sandbox snapshot to continue the rehearsal.",restoreRehearsalProceedMessage:"Sandbox snapshot staged. Live data remains untouched until you perform a full restore.",restoreRehearsalAbort:"Abort rehearsal",restoreRehearsalAbortHelp:"Discard the sandbox snapshot and keep live data unchanged.",restoreRehearsalAbortMessage:"Rehearsal sandbox cleared. Live data remains untouched.",restoreRehearsalTableCaption:"Backup rehearsal comparison",restoreRehearsalMetricColumn:"Data type",restoreRehearsalLiveColumn:"Live profile",restoreRehearsalSandboxColumn:"Sandbox import",restoreRehearsalDifferenceColumn:"Difference",restoreRehearsalClose:"Close rehearsal",restoreRehearsalMetricProjects:"Projects",restoreRehearsalMetricProjectDetails:"Project details",restoreRehearsalMetricCrew:"Crew entries",restoreRehearsalMetricSchedule:"Schedule entries",restoreRehearsalMetricRules:"Automatic gear rules",restoreRehearsalMetricFavorites:"Favorites",restoreRehearsalMetricDeviceLibrary:"Device library entries",restoreRehearsalMetricSession:"Stored session snapshot",restoreRehearsalMetricFeedback:"Feedback drafts",restoreRehearsalMetricAutoPresets:"Automatic gear presets",restoreRehearsalMetricAutoBackups:"Automatic gear backups",restoreRehearsalMetricBackupHistory:"Backup history entries",restoreRehearsalMetricCustomFonts:"Custom fonts",restoreRehearsalMetricCustomLogo:"Custom logo saved",restoreRehearsalMetricPreferences:"Stored preferences",restoreRehearsalMetricSchemaCache:"Device schema cache",restoreRehearsalMatchLabel:"Match",restoreRehearsalDifferenceListJoin:", ",restoreRehearsalIncreaseLabel:"Sandbox includes %d more %s.",restoreRehearsalDecreaseLabel:"Sandbox includes %d fewer %s.",factoryResetButton:"Factory reset",factoryResetButtonHelp:"Create a backup and wipe all planner data after confirmation.",confirmFactoryReset:"Create a backup and wipe all planner data?",confirmFactoryResetAgain:"Last warning: all projects, devices, settings and feedback will be deleted. Continue?",factoryResetBackupFailed:"Backup failed. Data was not deleted.",factoryResetAwaitDownload:"Allow downloads to save your backup. The factory reset will continue after you accept the download.",factoryResetDownloadBlocked:"The backup download was blocked. Data was not deleted.",factoryResetSuccess:"Backup downloaded. All planner data cleared. Reloading…",factoryResetError:"Factory reset failed. Please try again.",preDeleteBackupSuccess:"Automatic safety copy stored before deletion. Find the matching auto-backup entry under Saved Projects and rename it if you plan to keep it permanently.",preDeleteBackupFailed:"Automatic backup failed. The action was cancelled.",restoreBackupFailed:"Backup failed. Restore cancelled.",restoreBackupQueuedConfirm:"The safety backup is waiting in the local vault. Continue with the restore now?",manualDownloadFallback:"The download didn't start automatically. A new tab opened with the file contents so you can copy or save them manually.",manualDownloadCopyHint:"Select all the text below and copy it to keep the file safe.",dataHeading:"Data & Storage",dataHeadingHelp:"Review what the planner stores locally and how much space backups take.",storageSummaryIntro:"Everything below stays in this browser unless you export or clear it.",storageSummaryFootnote:"Backups download human-readable JSON with each entry—Quick safeguards keep fresh copies one click away.",storageSummaryEmpty:"No planner data is currently stored.",storagePersistenceHeading:"Storage reliability",storagePersistenceHeadingHelp:"Ask the browser to keep Cine Power Planner's data safe from automatic cleanups.",storagePersistenceIntro:"Request persistent storage so the browser keeps planner data even when space runs low.",storagePersistenceRequest:"Protect storage on this device",storagePersistenceRequestHelp:"Tell the browser to mark Cine Power Planner's data as persistent.",storagePersistenceStatusIdle:"Request persistent storage to reduce the risk of automatic cleanup.",storagePersistenceStatusChecking:"Checking storage protection…",storagePersistenceStatusRequesting:"Requesting persistent storage from the browser…",storagePersistenceStatusGranted:"Persistent storage granted. Planner data is protected from automatic cleanup.",storagePersistenceStatusDenied:"The browser could not grant persistent storage. Keep exporting backups regularly.",storagePersistenceStatusSafariIncompatible:"Safari currently blocks persistent storage requests. Treat this as a browser limitation.",storagePersistenceStatusError:"Persistent storage request failed. Try again after freeing space or review browser settings.",storagePersistenceStatusUnsupported:"This browser cannot grant persistent storage automatically. Continue keeping external backups.",storagePersistenceUsage:"Approximate usage: {used} of {quota}.",storagePersistenceUsageUnknown:"Approximate usage: {used}.",storageActionsHeading:"Quick safeguards",storageActionsHeadingHelp:"Download full backups or jump straight to restore tools from here.",storageActionsIntro:"Capture a fresh full backup or open restore utilities without leaving this tab.",storageBackupNow:"Download full backup",storageBackupNowHelp:"Exports the entire planner snapshot, including projects, auto backups and preferences.",storageOpenBackupTab:"Open Backup & Restore",storageOpenBackupTabHelp:"Switch to the Backup & Restore tab for rehearsal, restore and factory reset tools.",storageStatusHeading:"Latest activity",storageStatusHeadingHelp:"Review the most recent saves and backups at a glance.",storageStatusLastProjectLabel:"Latest project save",storageStatusLastAutoBackupLabel:"Latest auto backup",autoBackupInProgressNotice:"Auto backup running. Performance may pause briefly.",storageStatusLastFullBackupLabel:"Latest full app backup",loggingSectionHelp:"Review runtime diagnostics without leaving Settings. Service worker entries stream in automatically so offline cache and activation events stay visible.",loggingHeading:"Diagnostics log",loggingHeadingHelp:"Review runtime diagnostics without leaving Settings.",loggingIntro:"The log updates live while Settings stay open. Console capture runs by default so transcripts stay local; adjust the toggles below if you need to change diagnostics behavior. Nothing leaves this device.",loggingLevelFilterLabel:"Show entries from",loggingLevelFilterHelp:"Choose the minimum level to display.",loggingLevelFilterAll:"All levels",loggingLevelFilterInfo:"Info and above",loggingLevelFilterWarn:"Warnings and errors",loggingLevelFilterError:"Errors only",loggingNamespaceFilterLabel:"Namespace filter",loggingNamespaceFilterPlaceholder:"Filter namespaces (for example, backup)",loggingNamespaceFilterHelp:"Type a namespace such as “backup”, “autosave” or “logging”.",loggingHistoryLimitLabel:"History size",loggingHistoryLimitHelp:"Maximum entries stored on this device.",loggingHistoryLimitStatus:"Storing up to {count} entries locally.",loggingHistoryLimitAria:"Set how many log entries stay available offline",loggingConsoleOutputLabel:"Mirror to console",loggingConsoleOutputHelp:"Keep the browser console in sync with these entries.",loggingCaptureConsoleLabel:"Capture console output",loggingCaptureConsoleHelp:"Record console messages for diagnostics. Leave this enabled unless you need to reduce logging overhead.",loggingCaptureErrorsLabel:"Capture global errors",loggingCaptureErrorsHelp:"Record uncaught errors and unhandled promise rejections.",loggingPersistSessionLabel:"Keep log between reloads",loggingPersistSessionHelp:"Store entries in session storage so diagnostics survive refreshes.",loggingExportButton:"Export log",loggingExportHelp:"Download the full diagnostics log as a JSON file.",loggingExportSuccess:"Diagnostics log exported.",loggingExportError:"Log export failed. Try again after reloading Settings.",loggingExportUnavailable:"Logging unavailable. Try again after reloading Settings.",loggingStatusIdle:"Live log ready.",loggingStatusUpdating:"Updating log…",loggingStatusExporting:"Preparing log export…",loggingStatusExported:"Diagnostics log ready for download.",loggingStatusExportFailed:"Log export failed.",loggingStorageEstimateUpdated:"Storage estimate refreshed.",loggingStorageQuotaOnly:"Available storage: {quota}.",loggingStatusError:"Logging unavailable. Diagnostics remain in the browser console.",loggingEmptyState:"No log entries captured yet.",loggingEmptyFiltered:"No log entries match the current filters.",loggingUnavailable:"Logging module unavailable. Console output continues as a fallback.",loggingLevelDebug:"Debug",loggingLevelInfo:"Info",loggingLevelWarn:"Warning",loggingLevelError:"Error",loggingEntryTimestampLabel:"Time",loggingEntryNamespaceLabel:"Namespace",loggingEntryMetaLabel:"Meta",loggingEntryDetailLabel:"Details",loggingTimestampCombined:"{local} ({iso})",storageStatusNever:"Not captured yet.",storageStatusStoredWithoutTimestamp:"Stored (timestamp not recorded).",storageStatusTimestamp:"Captured {relative} ({absolute}).",storageStatusTimestampAbsolute:"Captured {absolute}.",storageStatusWithName:"{name} — {time}",storageStatusReminderUpToDate:"Backups look fresh. Keep autosave running and capture a full backup after major changes.",storageStatusReminderSaveProject:"Save a named project so your latest work stays protected offline.",storageStatusReminderRefreshProject:"Save your project again soon (last save {time}).",storageStatusReminderAutoBackupFirst:"Keep Cine Power Planner open until it captures an automatic backup.",storageStatusReminderAutoBackup:"Let an automatic backup run again soon (last snapshot {time}).",storageStatusReminderFullBackupFirst:"Download a full backup to archive every dataset before going offline.",storageStatusReminderFullBackup:"Download another full backup when possible (last archive {time}).",storageStatusReminderConnectivity:"Connectivity degraded — {reason} Keep working from the offline copy and avoid clearing caches until the banner clears.",storageKeyProjects:"Saved projects",storageKeyProjectsDesc:"Configurations saved from Manage Project.",storageProjectsCountOne:"%s project",storageProjectsCountOther:"%s projects",storageKeyAutoBackups:"Auto backups",storageKeyAutoBackupsDesc:"Timestamped safety copies saved every 10 minutes or after 50 tracked changes. Switching projects, importing, exporting or preparing to reload triggers an immediate snapshot even if that cadence hasn't elapsed.",storageAutoBackupsCountOne:"%s auto backup",storageAutoBackupsCountOther:"%s auto backups",storageKeyGearLists:"Kit list snapshots",storageKeyGearListsDesc:"Printable overviews and production requirements.",storageGearListsCountOne:"%s entry",storageGearListsCountOther:"%s entries",storageKeyDevices:"Custom or modified devices",storageKeyDevicesDesc:"Differences from the built-in device library.",storageDevicesCountOne:"%s device",storageDevicesCountOther:"%s devices",storageDeviceCategories:"Affected categories: %s",storageKeyFavorites:"Pinned favorites",storageKeyFavoritesDesc:"Dropdown entries marked with a star.",storageFavoritesCountOne:"%s favorite",storageFavoritesCountOther:"%s favorites",storageKeyFeedback:"Runtime feedback",storageKeyFeedbackDesc:"User-submitted runtime reports.",storageFeedbackCountOne:"%s entry",storageFeedbackCountOther:"%s entries",storageKeySession:"Unsaved session",storageKeySessionDesc:"Restores the working project after a reload.",storageKeyFullBackups:"Full app backups",storageKeyFullBackupsDesc:"Downloads created from Backup & Restore or hourly safety copies, including queued vault entries.",storageFullBackupsCountOne:"%s backup",storageFullBackupsCountOther:"%s backups",queuedBackupDownloadDeferred:"Automatic downloads were blocked. We saved {fileName} in the local vault so the next tap can export it safely.",queuedBackupVaultEmpty:"No queued backups are waiting in the local vault.",queuedBackupVaultTitle:"Local backup vault",queuedBackupVaultIntro:"Automatic downloads were blocked. Review the backups below and download them manually while you have the browser ready offline.",queuedBackupVaultPopupBlocked:"Enable pop-ups to review queued backups stored in the local vault.",queuedBackupBannerMessageOne:"1 backup saved in the local vault.",queuedBackupBannerMessageOther:"{count} backups saved in the local vault.",queuedBackupBannerGesture:"Interact with the planner to export them safely.",queuedBackupBannerAction:"Open local backup vault",queuedBackupFallbackHint:"Emergency fallback storage active. Export queued backups immediately.",storageSessionStored:"Stored",storageSessionNotStored:"Not stored",storageKeyTotalSize:"Approximate backup size",storageKeyTotalSizeDesc:"Based on the current backup export.",storageKeyIntegrityGuard:"Backup guardian",storageKeyIntegrityGuardDesc:"Mirrors every critical storage key into a backup slot before any edits.",storageIntegrityGuardStatus:"Active",storageIntegrityGuardStatusCreated:"Mirrored {count} key(s) this session",storageIntegrityGuardStatusIssue:"{count} issue(s) — check console",storageIntegrityGuardStatusMissing:"Waiting for first save",storageTotalSizeValue:"~%s KB",aboutHeading:"About & Support",aboutHeadingHelp:"Review version details and reach support resources.",versionLabel:"Version",supportLink:"Support",supportLinkHelp:"Open the GitHub repository in a new tab.",reportBugLink:"Report a bug",reportBugLinkHelp:"Open the GitHub issues tracker to report a bug.",suggestFeatureLink:"Suggest a feature",suggestFeatureLinkHelp:"Open the GitHub issues tracker to share feature ideas.",restoreSuccess:"Settings restored. Reload to apply all changes.",restoreVerificationMatch:"Restore verification passed. Live data matches the backup snapshot.",restoreVerificationMismatch:"Restore verification found differences. Review the counts before continuing:",restoreVerificationDifference:"{label}: backup {expected}, live {actual}",restoreVerificationFailed:"Restore verification could not confirm the imported data. Review the backup manually.",restoreVerificationUnknownMetric:"Metric",restoreFailed:"Restore failed. Check the backup file and try again.",restoreVersionWarning:"Backup created with a different version. Some features might not transfer.",restoreVersionSummaryTitle:"Older backup detected",restoreVersionSummaryHeading:"This backup was created with {oldVersion} and you are running {newVersion}.",restoreVersionCoreMissing:"Not included in this backup:",restoreVersionStorageMissing:"Stored preferences not included:",restoreVersionOptionalMissing:"Optional items you may need to recreate:",restoreVersionNoIssues:"All modern data sections were found in this backup.",restoreVersionTip:"We saved a safety backup of your current data before importing.",restoreVersionFooter:"You can continue and manually recreate the missing items afterward.",restoreVersionUnknownVersion:"unknown version",restoreVersionBackupLabel:"Safety backup saved before restore: {fileName}",restoreSectionDevices:"Device library",restoreSectionSetups:"Saved setups",restoreSectionProjects:"Projects",restoreSectionFavorites:"Favorites",restoreSectionAutoGearRules:"Automatic gear rules",restoreSectionAutoGearPresets:"Automatic gear presets",restoreSectionAutoGearBackups:"Automatic gear backups",restoreSectionAutoGearActivePreset:"Selected automatic gear preset",restoreSectionAutoGearAutoPreset:"Automatic assignment preset",restoreSectionAutoGearVisibility:"Automatic backup visibility",restoreSectionAutoGearBackupRetention:"Automatic backup retention",restoreSectionAutoGearSeeded:"Automatic gear onboarding status",restoreSectionAutoGearMonitorDefaults:"Monitor defaults",restoreSectionSession:"Current planner session",restoreSectionFeedback:"Feedback drafts",restoreSectionPreferences:"App preferences",restoreSectionCustomLogo:"Custom logo",restoreSectionCustomFonts:"Custom fonts",restoreSectionSchemaCache:"Device schema cache",restoreSectionFullBackupHistory:"Backup history",restoreSectionStoredSettings:"Stored settings snapshot",restoreSectionStoredSession:"Stored session snapshot",saveSettings:"Save",saveSettingsHelp:"Apply personalization changes and close Settings.",cancelSettings:"Cancel",cancelSettingsHelp:"Close Settings without saving; previous colors and logo are restored.",reloadAppLabel:"Force reload",reloadAppHelp:"Clear cached files, unregister outdated service workers and reload without removing saved data. The app now verifies connectivity before cleanup, broadcasts fallback status to the offline banner, and preloads the fresh bundle so the new version appears faster.",reloadAppOfflineNotice:"Offline or degraded — force reload pings the server first, so reconnect and try again.",favoriteToggleLabel:"Toggle favorite",favoriteToggleHelp:"Mark the current selection as a favorite to pin it to the top of the list.",savedSetupsLabel:"Saved Projects:",newSetupOption:"-- New Project --",setupNameLabel:"Project Name:",generatedOnLabel:"Generated on",deleteSetupBtn:"Delete",saveSetupBtn:"Save",updateSetupBtn:"Update",clearFilter:"Clear filter",shareSetupBtn:"Export Project",shareSetupPrompt:"Project file ready to export. Crew contacts are included.",shareLinkCopied:"Project file downloaded.",shareExportFailed:"Project export failed.",shareLinkTooLong:"Project data is too large to export.",shareFilenamePrompt:"Enter a name for the exported project file (default: {defaultName}).",shareFilenameInvalid:"Please enter a valid file name to continue.",shareIncludeAutoGearConfirm:"Include automatic gear rules in the exported file? Select OK to include them or Cancel to skip.",shareIncludeAutoGearLabel:"Include automatic gear rules",shareIncludeAutoGearHelp:"Add your automatic gear rules to the exported project file.",shareIncludeOwnedGearLabel:"Mark owned gear in export",shareIncludeOwnedGearHelp:"Add ownership badges for gear you marked as yours when exporting.",shareDialogTitle:"Export Project",shareFilenameLabel:"Export file name",shareDialogConfirm:"Download",shareDialogCancel:"Cancel",sharedLinkLabel:"Project file",loadSharedLinkBtn:"Import Project",invalidSharedLink:"Invalid project file.",sharedImportAutoGearLabel:"Automatic gear rules",sharedImportAutoGearNone:"Do not import automatic gear rules",sharedImportAutoGearNoneHelp:"Load the project without applying the shared automatic rules.",sharedImportAutoGearProject:"Use shared rules for this project only",sharedImportAutoGearProjectHelp:"Save the shared automatic gear rules as a preset, apply it here, and restore your previous preset for other projects.",sharedImportAutoGearGlobal:"Use shared rules for all projects",sharedImportAutoGearGlobalHelp:"Save the shared automatic gear rules as a preset, activate it, and keep it selected for every project.",sharedImportAutoGearPresetName:"Shared rules – %s",sharedImportAutoGearPresetFallback:"Shared automatic gear rules",sharedImportDialogTitle:"Automatic gear rules",sharedImportDialogMessage:"Choose how to apply the shared automatic gear rules from this project.",sharedImportMetadataTimestamp:"Exported {timestamp}",sharedImportMetadataVersion:"Planner version {version}",sharedImportMetadataVersionMismatch:"Planner version {importVersion} (current build {appVersion})",sharedImportMetadataIncludesAutoGear:"Includes automatic gear rules",sharedImportMetadataIncludesOwnedGear:"Marks owned gear items",sharedImportMetadataUnavailable:"Export details unavailable.",sharedImportDialogConfirm:"Apply",sharedImportDialogCancel:"Cancel",cameraLabel:"Camera:",monitorLabel:"Monitor:",videoLabel:"Wireless Transmitter:",cageLabel:"Camera Cage:",distanceLabel:"Distance Sensor:",batteryLabel:"Battery:",batteryBMountLabel:"B-Mount Battery:",batteryPlateLabel:"Battery Plate:",batteryHotswapLabel:"Battery Hotswap:",lensesLabel:"Lenses:",fizLegend:"FIZ (Follow Focus) Systems",fizMotorsLabel:"FIZ Motors:",fizControllersLabel:"FIZ Controllers:",fizLegendHelp:"Add motors, controllers or distance units for focus/iris/zoom control.",fizMotorsHelp:"Select focus, iris or zoom motors.",fizControllersHelp:"Choose hand units or controllers for your FIZ system.",breakdownListHelp:"Power consumption per device category.",totalPowerLabel:"Total Consumption:",totalPowerHelp:"Combined power draw of all selected devices.",availablePowerLabel:"Available Power:",totalCurrent144Label:"Total Current (at 14.4V):",totalCurrent144Help:"Current draw at the battery's high-voltage output (e.g., 14.4V pins).",totalCurrent12Label:"Total Current (at 12V):",totalCurrent12Help:"Current draw from a 12V output such as D-Tap.",totalCurrent336Label:"Total Current (at 33.6V):",totalCurrent336Help:"Current draw at the battery's high-voltage output (e.g., 33.6V pins).",totalCurrent216Label:"Total Current (at 21.6V):",totalCurrent216Help:"Current draw from a 21.6V output such as B-Mount low-voltage.",batteryLifeLabel:"Runtime (estimated):",batteryLifeHelp:"Estimated runtime based on total draw and chosen battery capacity.",batteryCountLabel:"Batteries for 10h shoot:",batteryCountHelp:"Batteries needed for a 10-hour shoot.",runtimeFeedbackBtn:"Submit User Runtime Feedback",selectedGearHeading:"Selected Gear",recommendationsHeading:"Recommended Accessories",recommendationsHeadingHelp:"Accessories suggested based on selected devices.",weightingHeading:"Runtime Weighting Breakdown",pinWarningHelp:"Alerts if current exceeds what the battery pins can supply.",dtapWarningHelp:"Alerts if current exceeds what the D-Tap port can supply.",hotswapWarningHelp:"Alerts if the selected hotswap restricts available current.",methodPinsOnly:"pins only!",methodPinsAndDTap:"both pins and D-Tap",methodInfinite:"infinite",pinOk:"Battery pins can supply up to {max}A – current draw is within limits.",dtapOk:"D-Tap can supply up to {max}A – current draw is within limits.",warnPinExceededLevel:"warning",warnPinNearLevel:"note",warnDTapExceededLevel:"warning",warnDTapNearLevel:"note",warnPinExceeded:"WARNING: current draw ({current}A at ~12V) exceeds the battery's main output rating ({max}A)!",warnPinNear:"Note: current draw is close to the main output limit ({current}A of {max}A).",warnDTapExceeded:"WARNING: current draw ({current}A) exceeds the battery's D-Tap output ({max}A)!",warnDTapNear:"Note: current draw uses over 80% of the D-Tap capacity ({current}A of {max}A).",warnHotswapLower:"WARNING: hotswap current limit ({max}A) is lower than battery ({batt}A).",powerWarningTitle:"Battery cannot power this load",powerWarningLimitsHeading:"Output limits",powerWarningMessage:"“{battery}” must deliver {current}A, which exceeds every available output.",powerWarningPinsDetail:"Pins limit: {max}A",powerWarningPinsUnavailable:"Pins limit unavailable.",powerWarningDtapDetail:"D-Tap limit: {max}A",powerWarningDtapUnavailable:"No D-Tap output is available.",powerWarningDtapBlocked:"D-Tap cannot be used with the current configuration.",powerWarningAdvice:"Choose another battery, reduce the draw, or adjust your power distribution.",powerWarningClose:"Understood",incompatibleFIZWarning:"WARNING: incompatible FIZ brands selected.",missingFIZControllerWarning:"ERROR: FIZ motors require a controller with LBUS/CAM connection.",arriUMC4Warning:"WARNING: UMC-4 only works with LCS (LEMO 7-pin) to LBUS cable with LBUS devices.",arriRIA1Warning:"WARNING: RIA-1 or cforce RF controllers are not compatible with CLM-3/4/5.",arriCLMNoUMC4Warning:"WARNING: No FIZ controller present. Select a UMC-4 for a complete project. CLM-3/4/5 are not compatible with RIA-1, cforce RF or Master Grips.",distanceControllerWarning:"WARNING: Distance units require UMC-4, RIA-1 or cforce RF.",masterGripWirelessWarning:"WARNING: Master Grip has no wireless capability. Use RIA-1, UMC-4 or cforce RF for wireless control.",amiraCforceRemoteWarning:"ERROR: AMIRA with cforce Mini/Plus requires RIA-1, cforce RF, or UMC-4 for remote focus. Master Grips only allow local operator focus.",category_cameras:"Cameras",category_lenses:"Lenses",category_viewfinders:"Viewfinders",category_monitors:"Monitors",category_video:"Wireless Transmitter",category_wirelessReceivers:"Wireless Receiver",category_cages:"Cages",category_fiz_motors:"FIZ Motors",category_fiz_controllers:"FIZ Controllers",category_fiz_distance:"FIZ Distance",category_batteries:"Batteries",category_batteryHotswaps:"Battery Hotswap",category_accessory_batteries:"Accessory Batteries",category_cables:"Cables",category_camera_support:"Camera Support",category_chargers:"Chargers",category_cardReaders:"Card Reader",lensSpecBrandLabel:"Brand",lensSpecTypeLabel:"Lens Type",lensSpecMountLabel:"Mount",lensSpecFrontDiameterLabel:"Front Diameter",lensSpecTStopLabel:"T-stop",lensSpecImageCircleLabel:"Image Circle",lensSpecLengthLabel:"Length",lensSpecMinFocusLabel:"Minimum Focus",lensSpecWeightLabel:"Weight",lensSpecRodStandardLabel:"Rod Standard",lensSpecRodLengthLabel:"Rod Length",lensSpecClampOnLabel:"Clamp-on",lensSpecSupportLabel:"Lens Support",lensSpecCategoryGeneralLabel:"General",lensSpecCategoryOpticsLabel:"Optics",lensSpecCategoryPhysicalLabel:"Physical",lensSpecCategorySupportLabel:"Support",lensSpecCategoryNotesLabel:"Notes",lensSpecNotesLabel:"Notes",lensSpecFocusScaleLabel:"Focus Scale",lensSpecYes:"Yes",lensSpecNo:"No",lensSpecSupportRequired:"Required",lensSpecSupportNotRequired:"Not required",lensSpecUnknownValue:"Unknown",addDeviceHeading:"Add New Device",categoryLabel:"Category:",subcategoryLabel:"Subcategory:",deviceNameLabel:"Name:",consumptionLabel:"Consumption (W):",capacityLabel:"Capacity (Wh):",pinLabel:"Max Pin A:",dtapLabel:"Max D-Tap A:",cameraWattLabel:"Power Draw (W):",cameraVoltageLabel:"Voltage Range:",cameraPortTypeLabel:"Port Type:",cameraPlatesLabel:"Battery Plates:",cameraMediaLabel:"Recording Media:",cameraLensMountLabel:"Lens Mount:",lensDeviceMountHeading:"Lens Mount Options",lensDeviceMountLabel:"Mount options:",lensDeviceMountHelp:'Add every mount this lens supports. Choose "native" when no adapter is required.',lensFocusScaleLabel:"Focus scale unit:",lensFocusScaleHelp:"Choose the measurement markings shown for this lens. Leave the global default to follow project settings.",lensFocusScaleDefault:"Use global focus scale",powerInputsHeading:"Power Inputs",powerDistributionHeading:"Power Distribution",videoOutputsHeading:"Video Outputs",fizConnectorHeading:"FIZ Connector",mediaHeading:"Media",viewfinderHeading:"Viewfinder",lensMountHeading:"Lens Mount",timecodeHeading:"Timecode",powerDistributionLabel:"Outputs:",videoOutputsLabel:"Outputs:",fizConnectorLabel:"Connectors:",viewfinderLabel:"Viewfinders:",timecodeLabel:"Timecode:",monitorScreenSizeLabel:"Screen Size (in):",monitorBrightnessLabel:"Brightness (nits):",monitorWattLabel:"Power Draw (W):",monitorVoltageLabel:"Voltage Range:",monitorPortTypeLabel:"Port Type:",monitorVideoInputsHeading:"Video Inputs",monitorVideoInputsLabel:"Inputs:",monitorVideoOutputsHeading:"Video Outputs",monitorVideoOutputsLabel:"Outputs:",monitorWirelessTxLabel:"Wireless TX:",monitorLatencyLabel:"Latency:",monitorLatencyHelp:"Latency is saved even if Wireless TX is off. Clear this field to remove the stored value.",monitorAudioOutputLabel:"Audio Output:",viewfinderDetailsHeading:"Viewfinder Details",viewfinderScreenSizeLabel:"Screen Size (in):",viewfinderBrightnessLabel:"Brightness (nits):",viewfinderPowerHeading:"Power Input",viewfinderWattLabel:"Power Draw (W):",viewfinderVoltageLabel:"Voltage Range:",viewfinderPortTypeLabel:"Port Type:",viewfinderVideoInputsHeading:"Video Inputs",viewfinderVideoInputsLabel:"Inputs:",viewfinderVideoOutputsHeading:"Video Outputs",viewfinderVideoOutputsLabel:"Outputs:",viewfinderWirelessTxLabel:"Wireless TX:",viewfinderLatencyLabel:"Latency:",viewfinderLatencyHelp:"Latency is saved even if Wireless TX is off. Clear this field to remove the stored value.",videoPowerInputsHeading:"Power Inputs",videoVideoInputsHeading:"Video Inputs",videoVideoInputsLabel:"Inputs:",videoVideoOutputsHeading:"Video Outputs",videoVideoOutputsLabel:"Outputs:",videoPowerInputLabel:"Connectors:",videoPowerInputHelp:"Add every supported power connector, including battery plates. Use notes for mount adapters or other details.",videoPowerTypeLabel:"Connector",videoPowerVoltageLabel:"Voltage range",videoPowerNotesLabel:"Notes",videoPowerVoltagePlaceholder:"Voltage range (e.g. 6-28V)",videoPowerNotesPlaceholder:"Notes (mount, adapter, etc.)",videoFrequencyLabel:"Frequency:",videoLatencyLabel:"Latency:",motorConnectorLabel:"Connector:",motorInternalLabel:"Internal Controller:",motorTorqueLabel:"Torque (Nm):",motorGearLabel:"Gear Types:",controllerConnectorLabel:"Connector:",controllerPowerLabel:"Power Source:",controllerBatteryLabel:"Battery Type:",controllerConnectivityLabel:"Connectivity:",distanceConnectionLabel:"Connection:",distanceMethodLabel:"Method:",distanceRangeLabel:"Range:",distanceAccuracyLabel:"Accuracy:",distanceOutputLabel:"Display:",notesLabel:"Notes:",monitorDetailsHeading:"Monitor Details",monitorPowerHeading:"Power Input",addDeviceBtn:"Add",addDeviceBtnHelp:"Add the new device to the database.",updateDeviceBtn:"Update",updateDeviceBtnHelp:"Save changes to the current device.",editBtn:"Edit",editBtnHelp:"Modify this device's details.",deleteDeviceBtn:"Delete",deleteDeviceBtnHelp:"Remove this device from the database.",cancelEditBtn:"Cancel",cancelEditBtnHelp:"Cancel editing and clear the form.",exportDataBtn:"Export Database",exportDataBtnHelp:"Download the current device database as a JSON file.",importDataBtn:"Import Database",importDataBtnHelp:"Load a device database from a JSON file.",alertImportSuccess:"Database imported successfully! {num_devices} devices loaded.",alertImportError:"Failed to import database. Invalid file or data format.",confirmExportAndRevert:"Are you sure you want to export the current database AND then revert to the default database? This will overwrite your current saved data with the original defaults.",alertExportAndRevertSuccess:"Database exported and reverted to defaults successfully.",alertStorageError:"Storage error: Unable to access local data. Changes may not be saved.",alertSessionFallback:"Warning: Local storage is unavailable. Data will only persist for this browser tab.",placeholder_deviceName:"Device name",placeholder_watt:"e.g. 12.5",placeholder_capacity:"e.g. 98",placeholder_pin:"e.g. 10",placeholder_dtap:"e.g. 5",placeholder_voltage:"11V-34V DC",placeholder_port:"Bat LEMO 8-pin",placeholder_plates:'[{"type":"V-Mount","mount":"native"}]',placeholder_media:'[{"type":"CFast 2.0"}]',placeholder_lensmount:"ARRI PL",placeholder_powerdist:"[{}]",placeholder_videooutputs:"[{}]",placeholder_fizconnector:"[{}]",placeholder_timecode:"[{}]",placeholder_filter:"Filter {item}...",toggleDeviceManager:"Edit Device Data…",hideDeviceManager:"Hide Device Data",showDetails:"Show Details",hideDetails:"Hide Details",batteryTableLabel:"Battery",batteryLifeHeading:"Runtime comparison",runtimeLabel:"Estimated Runtime (h)",batteryLifeUnit:"hrs",runtimeAverageNote:"Note: runtime estimate uses a weighted average of user-submitted runtimes adjusted for resolution, codec, frame rate, brightness and temperature.",runtimeUserCountNote:"Based on {count} user reports for this project.",temperatureNoteHeading:"Temperature impact on runtime:",temperatureNoteHelp:"Shows how different temperatures affect battery runtime.",temperatureLabel:"Temperature",batteryCountTempLabel:"Batteries needed",noBatterySupports:"No battery can supply this load.",alertSetupName:"Please enter a name for the project.",alertSetupNeedsDevice:"You can save a project even if no devices are selected yet.",alertSetupSaved:'Project "{name}" saved in this browser. It stays available after closing or reopening tabs unless you clear the browser cache.',alertSetupSavedNoDevices:`Project "{name}" saved in this browser with no devices yet. Add gear and requirements whenever you're ready—we'll keep everything protected.`,alertSetupRenameSaveFailed:"We couldn’t finish saving the renamed project. Your original project is still available—please try saving again to keep everything in sync.",alertNoSetupSelected:"Please select a saved project to delete.",alertNoSetupSelectedTitle:"No Project Selected",alertSetupDeleted:'Project "{name}" deleted.',confirmDeleteSetup:'Really delete project "{name}"?',confirmDeleteSetupAgain:"This will permanently delete the project. Are you sure?",confirmDeleteDevice:'Really delete device "{name}"?',alertDeviceExists:"A device with this name already exists in this category.",alertDeviceAdded:'Device "{name}" added to category "{category}".',alertDeviceUpdated:'Device "{name}" updated in category "{category}".',alertDeviceFields:"Please provide valid values for capacity, Pin A and D-Tap A.",alertDeviceWatt:"Please enter a valid watt value.",alertDeviceName:"Device name cannot be empty.",alertInvalidCameraJSON:"Invalid JSON for camera details",generateOverviewBtn:"Generate Overview",generateGearListBtn:"Generate Kit List and Production Requirements",addExtraGearBtn:"Add temporary extra gear",editProjectBtn:"Edit Project requirements",projectForm:{heading:"Production Requirements",projectName:"Project Name:",productionCompany:"Production Company:",productionCompanyAddress:"Production Company Address (optional):",productionCompanyStreet:"Street address",productionCompanyStreetPlaceholder:"123 Production Way",productionCompanyStreet2:"Address line 2 (optional)",productionCompanyStreet2Placeholder:"Suite, building, etc.",productionCompanyCity:"City",productionCompanyCityPlaceholder:"Los Angeles",productionCompanyRegion:"State / Province / Region",productionCompanyRegionPlaceholder:"California",productionCompanyPostalCode:"Postal code",productionCompanyPostalCodePlaceholder:"90001",productionCompanyCountry:"Country",productionCompanyCountryPlaceholder:"United States",rentalHouse:"Rental:",crewHeading:"Crew",prepLabel:"Prep Days:",shootLabel:"Shooting Days:",returnLabel:"Return Day(s):",deliveryResolution:"Delivery Resolution:",recordingResolution:"Recording Resolution:",sensorMode:"Sensor Mode:",aspectRatio:"Aspect Ratio:",codec:"Codec:",baseFrameRate:"Base Frame Rate:",recordingFrameRate:"Recording Frame Rate:",recordingFrameRateRangeHint:"Enter a recording frame rate from 1 to {max} fps.",recordingFrameRateDefaultHint:"Enter the recording frame rate in frames per second.",slowMotionHeading:"Slow Motion Frame Rate",slowMotionRecordingResolution:"Slow Motion Recording Resolution:",slowMotionSensorMode:"Slow Motion Sensor Mode:",slowMotionAspectRatio:"Slow Motion Aspect Ratio:",slowMotionBaseFrameRate:"Slow Motion Base Frame Rate:",slowMotionRecordingFrameRate:"Slow Motion Recording Frame Rate:",slowMotionRecordingFrameRateRangeHint:"Enter a slow motion recording frame rate from 1 to {max} fps.",slowMotionRecordingFrameRateDefaultHint:"Enter the slow motion recording frame rate in frames per second.",lensesHeading:"Lenses",lensManufacturerStep:"Step 1: Select manufacturer",lensManufacturerPlaceholder:"Choose a manufacturer",lensSeriesStep:"Step 2: Select series",lensSeriesPlaceholder:"Choose a series",lensSeriesEmpty:"No series available for this manufacturer.",lensesLabel:"Step 3: Choose lenses",lensOptionsEmpty:"No lenses available for this series.",lensSelectionsLabel:"Selected lenses",lensSelectionsHint:"Selections update as you add or remove lenses.",lensRemoveLabel:"Remove {lens}",lensMountLabel:"Mount",riggingHeading:"Rigging & Mounting",requiredScenarios:"Shooting Scenarios & Environments",cameraHandle:"Camera Handle:",viewfinderExtension:"Viewfinder Extension:",viewfinderExtensionNone:"No",viewfinderExtensionYes:"Yes",matteboxFilterHeading:"Mattebox and Filter",mattebox:"Mattebox:",filter:"Filter:",storageHeading:"Storage & Media",storageNeedsLabel:"Recording media needs:",storageQuantityLabel:"Quantity",storageTypeLabel:"Media type:",storageVariantLabel:"Brand & capacity:",storageNotesLabel:"Notes:",storageTypePlaceholder:"Select media type",storageVariantPlaceholder:"Select brand & size",storageNotesPlaceholder:"Add notes (brand, capacity, recorder...)",storageDuplicateEntry:"Duplicate media row",storageSummaryFallback:"Media",monitoringHeading:"Monitoring",monitoringConfiguration:"Camera Monitoring Configuration:",viewfinderSettings:"Viewfinder Settings:",frameGuides:"Frameguides:",aspectMaskOpacity:"Aspect Mask Opacity:",videoDistribution:"Video distribution:",monitorUserButtons:"Onboard Monitor User Buttons:",cameraUserButtons:"Camera User Buttons:",viewfinderUserButtons:"Viewfinder User Buttons:",userButtonFunctions:{user1:"User 1",user2:"User 2",user3:"User 3",user4:"User 4",toggleLut:"Toggle LUT",falseColor:"False Color",peaking:"Peaking",anamorphicDesqueeze:"Anamorphic Desqueeze",surroundView:"Surround View",oneToOneZoom:"1:1 Zoom",waveform:"Waveform",histogram:"Histogram",vectorscope:"Vectorscope",zebra:"Zebra",playback:"Playback",record:"Record",zoom:"Zoom",frameLines:"Frame Lines",frameGrab:"Frame Grab",wb:"WB",iso:"ISO",nd:"ND",fps:"FPS",shutter:"Shutter"},tripodPreferencesHeading:"Tripod Preferences",tripodHeadBrand:"Head Brand:",tripodBowl:"Bowl type:",tripodTypes:"Tripod types:",tripodSpreader:"Spreader Preference:",cancel:"Cancel",addEntry:"Add",removeEntry:"Remove",submit:"OK",crewNamePlaceholder:"Name",crewPhonePlaceholder:"Phone",crewEmailPlaceholder:"Email",crewWebsitePlaceholder:"Website",crewRoleLabel:"Crew role",crewNameLabel:"Crew member name",crewPhoneLabel:"Crew member phone",crewEmailLabel:"Crew member email",crewWebsiteLabel:"Crew member website"},projectFields:{productionCompany:"Production Company",productionCompanyAddress:"Production Company Address",productionCompanyStreet:"Street address",productionCompanyStreetPlaceholder:"123 Production Way",productionCompanyStreet2:"Address line 2 (optional)",productionCompanyStreet2Placeholder:"Suite, building, etc.",productionCompanyCity:"City",productionCompanyCityPlaceholder:"Los Angeles",productionCompanyRegion:"State / Province / Region",productionCompanyRegionPlaceholder:"California",productionCompanyPostalCode:"Postal code",productionCompanyPostalCodePlaceholder:"90001",productionCompanyCountry:"Country",productionCompanyCountryPlaceholder:"United States",rentalHouse:"Rental",rentalHouseContact:"Rental contact",rentalHouseAddress:"Rental address",crew:"Crew",prepDays:"Prep Days",shootingDays:"Shooting Days",returnDays:"Return Days",deliveryResolution:"Delivery Resolution",recordingResolution:"Recording Resolution",aspectRatio:"Aspect Ratio",codec:"Codec",baseFrameRate:"Base Frame Rate",recordingFrameRate:"Recording Frame Rate",slowMotionRecordingResolution:"Slow Motion Recording Resolution",slowMotionSensorMode:"Slow Motion Sensor Mode",slowMotionAspectRatio:"Slow Motion Aspect Ratio",slowMotionBaseFrameRate:"Slow Motion Base Frame Rate",slowMotionRecordingFrameRate:"Slow Motion Recording Frame Rate",sensorMode:"Sensor Mode",lenses:"Lenses",requiredScenarios:"Required Scenarios",cameraHandle:"Camera Handle",viewfinderExtension:"Viewfinder Extension",viewfinderEyeLeatherColor:"Viewfinder Eye Leather Color",mattebox:"Mattebox",gimbal:"Gimbal",videoDistribution:"Video Distribution",monitoringSupport:"Monitoring support",monitoringConfiguration:"Monitoring configuration",focusMonitor:"Focus Monitor",monitorUserButtons:"Onboard Monitor User Buttons",cameraUserButtons:"Camera User Buttons",viewfinderUserButtons:"Viewfinder User Buttons",tripodHeadBrand:"Tripod Head Brand",tripodBowl:"Tripod Bowl",tripodTypes:"Tripod Types",tripodSpreader:"Tripod Spreader",sliderBowl:"Slider Bowl",easyrig:"Further Stabilisation",storageRequirements:"Storage & Media"},crewRoles:{Producer:"Producer","Production Manager":"Production Manager",Director:"Director","Assistant Director":"1st AD","Production Assistant":"Production Assistant",DoP:"DoP","Camera Operator":"Camera Operator","B-Camera Operator":"B-Camera Operator","Steadicam Operator":"Steadicam Operator","Drone Operator":"Drone Operator","1st AC":"1st AC","2nd AC":"2nd AC",DIT:"DIT","Video Operator":"Video Operator","Key Gaffer":"Gaffer",Gaffer:"Electric","Best Boy Electric":"Best Boy Electric",Electrician:"Electrician","Rigging Gaffer":"Rigging Gaffer","Key Grip":"Key Grip","Best Boy Grip":"Best Boy Grip",Grip:"Grip","Dolly Grip":"Dolly Grip","Rigging Grip":"Rigging Grip"},scenarios:{Indoor:"Indoor",Outdoor:"Outdoor",Studio:"Studio",Tripod:"Tripod",Handheld:"Handheld",Easyrig:"Easyrig","Cine Saddle":"Cine Saddle",Steadybag:"Steadybag",Dolly:"Dolly",Slider:"Slider",Steadicam:"Steadicam",Gimbal:"Gimbal",Trinity:"Trinity",Rollcage:"Rollcage","Car Mount":"Car Mount",Jib:"Jib","Undersling mode":"Undersling Mode",Crane:"Crane","Remote Head":"Remote Head","Extreme cold (snow)":"Extreme Cold (Snow)","Extreme rain":"Extreme Rain","Extreme heat":"Extreme Heat","Rain Machine":"Rain Machine","Slow Motion":"Slow Motion","Battery Belt":"Battery Belt"},gearListNoteLabel:"Note:",gearListAutosaveNote:"Autosaved after each rig tweak so the offline gear manifest mirrors your latest camera build.",gearListAddCustomItem:"Add custom item",gearListAddCustomItemToCategory:"Add custom item to {category}",gearListRemoveCustomItem:"Remove",gearListRemoveCustomItemFromCategory:"Remove custom item from {category}",gearListCustomItemQuantityLabel:"Quantity",gearListCustomItemQuantityAria:"Quantity for custom item in {category}",gearListCustomItemNameLabel:"Item name",gearListCustomItemNameAria:"Item name for custom item in {category}",gearListCustomItemNamePlaceholder:"Custom item",gearListCustomItemPreviewFallback:"Custom item",gearListCartSelectorLabel:"Camera cart",gearListCartConfigurationLabel:"Cart configuration",gearListCartAccessoriesLabel:"Cart accessories",gearListExcludeRentalToggle:"Exclude for rental",gearListIncludeRentalToggle:"Include for rental",gearListRentalNote:"Rental handles this item",gearListEditProviderLabel:"Provided by",gearListEditProviderHelp:"Select who provides this item. Rental stays the default unless the item is in your own gear list.",gearListProviderRental:"Rental",gearListProviderUser:"User",gearListProviderCrewHeading:"Crew",gearListProviderUnknown:"Custom provider",gearListEditOwnedLabel:"Owned",gearListEditOwnedHelp:"Add or remove this line from your Own Gear list to keep your inventory in sync.",gearListOwnedExportLabel:"Owned by %s",gearListEditCameraLinkLabel:"Camera link",gearListEditCameraAssignmentLabel:"Camera designation",gearListEditCameraAssignmentHelp:"Pick the letter for this camera body. Linked accessories will share its color.",gearListEditCameraLinkHelp:"Highlight items that should follow a specific camera letter so crews know which kit moves together.",gearListEditCameraLinkNoneOption:"No camera link",gearListEditCameraLinkCameraOption:"Camera %s — %s",gearListEditCameraLinkUnavailableOption:"Camera %s (unassigned)",gearListEditCameraLinkDefaultLabel:"Camera %s",gearListCameraLinkBadgeLabel:"Linked to camera",gearListEditDialogTitle:"Edit gear item",gearListEditQuantityLabel:"Quantity",gearListEditNameLabel:"Item name",gearListEditAttributesLabel:"Attributes",gearListEditNoteLabel:"Note",gearListEditExtraLabel:"Temporary extra gear",gearListEditExtraHelp:"Flag this item as a short-term addition. Set the period so everyone schedules it correctly.",gearListEditExtraStartLabel:"Needed from",gearListEditExtraEndLabel:"Needed until",gearListEditExtraPeriodHelp:"Leave the dates blank when the schedule is still tentative.",gearListExtraCategoryLabel:"Temporary Extras",gearListExtraIndicatorRange:"Temporary extra: %s – %s",gearListExtraIndicatorOpen:"Temporary extra from %s",gearListExtraIndicatorEnd:"Temporary extra until %s",gearListExtraIndicatorNoPeriod:"Temporary extra",gearListEditRentalLabel:"Exclude from rental",gearListEditSave:"Save",gearListEditCancel:"Cancel",gearListEditButton:"Edit gear item",gearListEditCustomItem:"Edit custom item",gearListEditReset:"Reset name",gearListEditDeviceHeading:"Device attributes",gearListEditDeviceEdit:"Edit device attributes",gearListEditDeviceEmpty:"No device attributes recorded yet. Update the device to add details.",gearListEditDeviceCategory:"Device library: %s",gearListLensCoverageWarning:"This lens may not cover the full sensor of this camera!",autoGearHighlightToggle:"Highlight automatic gear",autoGearHighlightToggleHelp:"Toggle a temporary color overlay for gear added by automatic rules. Useful while debugging gear rule behavior.",autoGearHighlightToggleStateOn:"On",autoGearHighlightToggleStateOff:"Off",deleteGearListBtn:"Delete Kit List",deleteGearListBtnHelp:"Remove the saved kit list from this project and hide the table.",deleteGearListDialogTitle:"Delete Gear List",deleteGearListConfirmLabel:"Delete",confirmDeleteGearList:"Delete kit list?",deleteGearListConfirmAgainTitle:"Are you sure?",deleteGearListConfirmAgainLabel:"Confirm Delete",confirmDeleteGearListAgain:"This will permanently delete the kit list. Are you sure?",ownGearDialogTitle:"Own gear",ownGearDialogDescription:"Capture the equipment you personally own so you can plan around what's already in your kit.",ownGearAddHeading:"Add gear",ownGearAddHelp:"Start typing to search our catalog for suggestions or describe custom items you own. Entries save immediately.",ownGearNameLabel:"Item",ownGearNamePlaceholder:"Lens, monitor, adapter…",ownGearNameHelp:"Required. Use the exact model name so suggestions and exports stay clear.",ownGearQuantityLabel:"Quantity",ownGearQuantityPlaceholder:"1",ownGearQuantityHelp:"Enter how many of this item you own. Leave blank when it varies.",ownGearNotesLabel:"Notes",ownGearNotesPlaceholder:"Condition, accessories, case number…",ownGearNotesHelp:"Optional notes about accessories, serial numbers or case locations.",ownGearSaveButton:"Save item",ownGearUpdateButton:"Update item",ownGearResetButton:"Reset form",ownGearCloseButton:"Close",ownGearListHeading:"Your gear",ownGearListEmpty:"No gear saved yet. Add the equipment you own to reuse it across projects.",ownGearListSummaryOne:"%s item tracked",ownGearListSummaryOther:"%s items tracked",ownGearEditButton:"Edit",ownGearEditButtonAria:"Edit “%s”",ownGearDeleteButton:"Remove",ownGearDeleteButtonAria:"Remove “%s” from your own gear list",ownGearDeleteConfirm:"Remove “%s” from your own gear list? This only removes it from your inventory.",ownGearQuantityInvalid:"Enter a non-negative quantity or leave the field blank.",ownGearNameRequired:"Enter the item name to save it.",alertSelectSetupForOverview:"Please select a saved project to generate an overview.",overviewTitle:"Project Overview",backToAppBtn:"Back to App",printBtn:"Print",exportPdfBtn:"Export PDF / Print",exportRentalPdfBtn:"Export PDF for Rental",rentalPrintDialogTitle:"Export PDF / Print",rentalPrintDialogDescription:"Choose what to include before exporting or printing.",rentalPrintDialogSectionsLabel:"Sections to include",rentalPrintDialogConfirm:"Export PDF",rentalPrintDialogCancel:"Cancel",rentalPrintDialogSelectAll:"Select all",printOptionsLayoutLabel:"Layout",printOptionsLayoutStandard:"Standard layout",printOptionsLayoutRental:"Rental-friendly layout",rentalPrintSectionProject:"Production Requirements",rentalPrintSectionDevices:"Camera Package Devices",rentalPrintSectionPower:"Power Summary",rentalPrintSectionDiagram:"Power Diagram",rentalPrintSectionGearList:"Kit List",rentalPrintSectionBattery:"Battery Comparison",pdfWarningsHeading:"Warnings",exportAndRevertBtn:"Export and revert to default database",exportAndRevertBtnHelp:"Export your database and restore default entries.",helpButtonLabel:"Help",helpButtonTitle:"Help (press ?, H, F1 or Ctrl+/)",helpButtonHelp:"Open the help dialog for step-by-step guidance. Keyboard shortcuts: F1, Ctrl + /, Cmd + /, ? or H.",helpButtonShortcuts:"F1; Ctrl + /; Cmd + /; ?; H",helpButtonAriaShortcuts:"F1 Control+Slash Meta+Slash Shift+Slash KeyH",helpClose:"Close (Esc)",helpCloseHelp:"Close the help dialog and return to the planner (press Esc).",helpTitle:"How to use",helpSearchPlaceholder:"Search help topics...",helpSearchLabel:"Search help topics",helpResultsSummaryAll:"All %s help topics are shown.",helpResultsSummaryFiltered:"Showing %1$s of %2$s help topics for “%3$s”.",helpResultsAssist:"Tip: Press Tab to move into the quick links, or press Enter to open the top visible topic.",helpNoResults:"No help topics match your search. Try shorter keywords, synonyms, or clear the field to browse everything.",helpNoResultsSuggestionsHeading:"Need a different result?",helpNoResultsSuggestionsIntro:"Try these steps to get back on track while keeping your data safe and confirming offline safeguards:",helpNoResultsSuggestionClear:"Use %s to browse every article again.",helpNoResultsSuggestionSynonyms:"Search for equipment nicknames, battery part numbers, or shorter keywords.",helpNoResultsSuggestionQuickStart:"Jump to the %s for a guided refresher on saving, sharing, and backups.",helpNoResultsSuggestionBackup:"Open %1$s, start a %2$s to confirm your offline exports, and review Settings → Data & Storage for the latest autosave timestamp before you continue.",helpOnboardingTutorialCopy:"to follow every workflow with offline progress tracking—including the Power Summary checkpoint and the offline safety net drill—before configuring your first project. Use the step navigator and progress meter to review completed sections offline.",onboardingTour:{startLabel:"Start guided tutorial",restartLabel:"Replay guided tutorial",resumeLabel:"Resume guided tutorial",skipLabel:"Skip tutorial",backLabel:"Back",nextLabel:"Next",introStartLabel:"Start onboarding tour",doneLabel:"Finish tutorial",stepIndicator:"Step {current} of {total}",completionIndicator:"First project secured offline",prefaceIndicator:"Welcome",stepListAriaLabel:"Tutorial steps",stepStatusCurrent:"Current step",stepStatusComplete:"Completed",stepStatusUpcoming:"Up next",resumeHint:"Picking up right where you paused. Use the step navigator to revisit earlier workflows without clearing offline progress.",resumeHintDetailed:"Resuming at step {current} of {total}. {completed} steps are already complete and locked into your offline saves.",userProfileInteractionIntro:"Enter your crew details once. Each update syncs to Contacts instantly, stays cached offline and flows into exports so crews always know who owns the setup.",userProfileInteractionSkipHint:"Press Next when you are ready—Contacts in the sidebar always shows these saved details without resetting tutorial progress.",userProfileAvatarAction:"Add profile photo",userProfileAvatarEditAction:"Edit photo",projectRequirementsMiniIntro:"Fill these proxy fields while the Production Requirements dialog stays open.",projectRequirementsMiniOfflineHint:"Every edit saves offline instantly—use Back/Next here without risking data loss.",unitsPreferencesLanguageLabel:"Language",unitsPreferencesThemeLabel:"Theme",unitsPreferencesThemeLight:"Light",unitsPreferencesThemeDark:"Dark",unitsPreferencesPinkLabel:"Pink mode accents",unitsPreferencesPinkOff:"Disabled",unitsPreferencesPinkOn:"Enabled",unitsPreferencesUnitsLabel:"Temperature units",unitsPreferencesPersistenceHint:"Request persistent storage so the browser keeps planner data even when space runs low.",unitsPreferencesPersistenceAction:"Protect storage on this device",progressMeterLabel:"Tutorial progress",progressValueLabel:"Completed {completed} of {total} steps",resumeLabelWithProgress:"Resume guided tutorial ({completed}/{total} complete)",helpStatusNotStarted:"Guided tutorial progress saves offline as you advance. Up next: {next}.",helpStatusInProgress:"Offline progress saved: {completed} steps completed out of {total}. Next workflow: {next}.",helpStatusResume:"Paused on {current}. {completed} of {total} steps already secured offline.",helpStatusSkipped:"Tutorial skipped. Restart whenever you're ready—saved progress stays available offline.",helpStatusCompleted:"Tutorial completed. Replay any step anytime for a refresher.",helpStatusLastCompleted:"Last completed: {step} ({timeAgo}).",helpStatusLastUpdated:"Last update: {timeAgo}.",helpStatusTimeJustNow:"just now",helpStatusTimeMinute:"1 minute ago",helpStatusTimeMinutes:"{count} minutes ago",helpStatusTimeHour:"1 hour ago",helpStatusTimeHours:"{count} hours ago",helpStatusTimeDay:"1 day ago",helpStatusTimeDays:"{count} days ago",skipConfirmationTitle:"Skip the guided tutorial?",skipConfirmationBody:"You can reopen the tutorial from Help or use the step navigator to replay any section later.",skipConfirmationAccept:"Skip tutorial",skipConfirmationCancel:"Continue tutorial",steps:{intro:{hero:{heading:"Welcome to Cine Power Planner!",subheading:"Safeguard every camera setup with power checks, AutoGear kits, and rental-ready handoffs—kept fully offline.",summary:"Plan safe camera setups, verify power limits, auto-build kit lists from production requirements, and export rental-ready PDFs—every save stays local before call time.",badgeIcon:"",badgeLabel:"Crew-first · Offline forever",badgeDescription:"No servers, no accounts, no subscriptions. Every save, autosave, backup, restore, share, and import lives on this device.",highlights:[{icon:"",title:"Lock in power, safety, and backups",body:"Model draw, runtime, changeovers, and redundant pack coverage so battery safety margins are confirmed before rolling."},{icon:"",title:"AutoGear builds reusable kits",body:"Generate full kit lists from shooting scenarios with AutoGear rules, adjust those rules for the day, and reuse the presets."},{icon:"",title:"Project requirements ready to hand off",body:"Track requirements, crew coverage, and rental notes, then export PDF packets the crew, rental, and production rely on."},{icon:"",title:"Offline-first, subscription-free PWA",body:"Run the planner entirely offline, install it as a mobile PWA, and keep workflows available without subscriptions or servers."},{icon:"",title:"Data is sacred",body:"Autosave, backup/restore, share, and import safeguards protect every project snapshot. Restore rehearsals prove nothing is lost."}],languageLabel:"Language",languageHint:"Choose the interface language so this tour, the help center, and exports translate instantly across offline saves.",offlineSummary:"Cine Power Planner is built for field reliability: offline by default, installable on mobile, and always storing redundant saves locally so crews retain control of their data."}},userProfile:{title:"Complete your crew profile",body:"Set your display name, role, phone, email and photo. Each update syncs to Contacts immediately, stays in offline saves and appears on exports."},unitsPreferences:{title:"Tune theme and units",body:"Open Settings → General to choose the theme, optional pink highlights, focus scale and temperature units. Request persistent storage so the browser keeps preferences and safeguards saves during cleanups."},nameProject:{title:"Name your first project",body:"Give the project a descriptive name to anchor autosave, history, exports and backups. Every workflow references it so your offline library stays organized and easy to restore."},saveProject:{title:"Capture an immediate save",body:"Select Save (or press Ctrl+S/⌘S/Enter) to capture a complete offline snapshot—devices, power math, requirements, notes and diagnostics. The next workflow unlocks once the save finishes."},addCamera:{title:"Select the primary camera",body:"Choose the camera body you are planning. Offline search works inside the menu. That selection unlocks matching accessories, power draws and diagrams."},addMonitoring:{title:"Add monitors, wireless video and FIZ",body:"Pick onboard monitors, wireless transmitters and FIZ motors or controllers. Each selection feeds runtime math, diagrams and automatic gear rules so the generated kit reflects the full build."},selectBattery:{title:"Choose batteries",body:"Select the battery system that powers the rig. Runtime projections update immediately and the selection is stored with your offline project snapshots and backups."},resultsTotalDraw:{title:"Power Summary: Total draw",body:"Start your Power Summary review by confirming the Total Draw card and peak load so the demand math stays accurate before moving on to deeper checks."},resultsBatteryPacks:{title:"Power Summary: Battery runtimes",body:"Review each battery pack's projected runtime, all framed around a worst-case draw so most kits run longer—helping you know how many packs to bring, feel confident the rig won't demand constant swaps, and automatically pair the right batteries with each camera."},resultsChangeover:{title:"Power Summary: Changeovers",body:"Use the changeover card to review the category-by-category draw chart, see exactly which devices contribute the most load, and confirm every swap sequence keeps enough headroom. The breakdown ties each accessory to its watt draw so the next charged pack is staged for the hungriest circuit and the saved snapshot captures the latest handoff plan."},resultsWarnings:{title:"Power Summary: Warnings and backups",body:"Check the connector warning boxes: green shows the pin or D-Tap battery feed is safe, yellow means the feed is near its limit, and red means the rig is pulling more than that line can supply. Change out batteries and devices to get both boxes to appear green again. Rest assured the warnings keep you from pushing higher loads than a battery can safely handle."},batteryComparison:{title:"Battery Comparison",body:"Battery Comparison evaluates alternate packs side by side so you can lock in the safest runtime margin. The table shows which batteries can power the rig—green pins and D-Tap feeds are safe, orange pins-only outputs cover the rig without D-Tap support—and how long each pack runs."},runtimeFeedback:{title:"Submit runtime feedback",body:"Use the runtime feedback button to log real-world results. Entries sync with the current project, strengthen future estimates and remain available offline for audits."},connectionDiagram:{title:"Inspect the power diagram",body:"The interactive Power Diagram shows how power, video and control gear connect. Drag nodes to plan rig layout, double-click devices to open hover details, then save so the arrangement and annotations persist across exports and restores."},connectionDiagramDetails:{title:"Open device hover details",body:"Double-click any device node in the diagram to reveal its hover detail popup. Review draw notes, connector callouts and saved annotations, then close it to keep arranging the layout before saving."},editDeviceDataAdd:{title:"Add a device to the library",body:"Open Device Library, choose the correct category, enter the draw and connector details, then press Add. This stores the gear in the offline catalog so autosave, backups and shares all capture the new entry."},editDeviceDataReview:{title:"Review the device details",body:"Locate the device you just saved under Existing Devices and expand its details panel. Confirm the draw, outputs and compatibility information look right before relying on the data for runtime math or exports."},editDeviceDataEdit:{title:"Update and resave the device",body:"Use the Edit button on that entry, adjust specs or notes, and save again. This verifies the autosave timeline, backups and exports are refreshed with the latest numbers without risking any user data."},ownGearAccess:{title:"Open the Own Gear dialog",body:"Press the Own Gear button in the sidebar to launch your inventory dialog, then review the summary banner and your own gear list so you know where saved items, edit buttons and counts live. Finish by exploring the Add gear form—item search, quantity, notes, plus the Save and Reset controls—so you can add equipment instantly once the tour ends."},ownGearAddDevice:{title:"Add your first owned device",body:"Enter the item name, optional quantity and notes, then save. Owned gear is stored offline, included in backups and marked inside exports so teams instantly see what is available without duplicating requests."},projectRequirementsBrief:{title:"Capture the project brief",body:"Open the Production Requirements dialog from Generate Kit List and Production Requirements, then document production company, address, rental preferences, deliverables and schedule notes. These entries auto-fill rental-ready PDFs, stay cached offline and prepare the next sections."},projectRequirementsCrew:{title:"Map crew coverage and contacts",body:"Populate Crew, Prep, Shooting and Return rows with names, roles and coverage notes. Link saved Contacts, add emergency details and duplicate rows when multiple days share assignments so exports show who is on set and when."},projectRequirementsLogistics:{title:"Log lenses, rigging and monitoring plans",body:"Work through camera specs, the lens workflow, rigging scenarios, storage/media counts, matte box preferences and monitoring layouts. These entries feed automatic gear rules and storage math so the generated checklist reflects the full shoot plan."},generateGearAndRequirements:{title:"Save and rebuild the outputs",body:"Press OK inside the Production Requirements dialog to store every entry, regenerate the requirements summary and rebuild the categorized kit list. The planner snapshots the result with the active project so exports, backups and shares stay current."},autoGearRulesAccess:{title:"Open Automatic Gear Rules",body:"Go to Settings → Automatic Gear Rules to review automation controls. Opening the tab shows the presets, stock rules (including smart tripod logic that references your head/legs preference) and safety backups stored with your offline saves."},autoGearRulesEdit:{title:"Edit stock automatic gear rules",body:"Use the rules list to inspect factory additions. Select a stock rule to open it in the editor, adjust items or conditions, then save so the updated automation stays cached with backups and share bundles."},autoGearRulesCreate:{title:"Add a new automatic gear rule",body:"Press Add rule to create a custom automation. Name it, add conditions and required gear, then save. The planner runs new rules offline each time you regenerate the kit and includes them in exports, shares and backups."},projectRequirements:{title:"Refine production requirements boxes",body:"Review the regenerated Production Requirements summary beside the kit list. Confirm the brief, crew coverage and logistics boxes mirror the data you just saved, then rerun exports or backups so downstream teams get the updated context with every share."},gearList:{title:"Audit the generated kit list",body:"Check the categorized kit list for duplicates, counts and auto-added accessories. Edits save instantly, are included in share bundles and appear in printouts and PDFs."},exportImport:{title:"Export and import projects",body:"Use Export Project to download a JSON safety copy and Import Project to rehearse restores. Store exports on redundant media so no workstation loses data if a browser profile resets. Always keep the original export untouched so you can re-import even if a working copy gets edited."},overviewAndPrint:{title:"Generate overview, PDF and printouts",body:"Generate the project overview to access PDF, print and share-ready summaries. The dialog uses saved data only, so you can print or export even while fully offline."},help:{title:"Open the Help center",body:"The Help dialog includes searchable documentation, translation notes and onboarding references. Keep it pinned while working—articles stay cached offline and update when new features arrive."},settingsGeneral:{title:"Revisit Settings → General",body:"Adjust language, typography, theme, pink mode, focus scale and other presentation options anytime. Preferences save locally, sync across projects and are bundled with backups."},settingsData:{title:"Monitor Data & Storage",body:"Use the Data & Storage tab to request persistent storage, watch save timestamps and launch quick safeguards. These controls verify that every project snapshot remains available offline."},settingsBackup:{title:"Maintain Backup & Restore",body:"The Backup & Restore tab manages full-app exports, restore rehearsals and diagnostics. Run backups before major changes, archive the files on external media and verify restores regularly."},completion:{title:"Tutorial complete",body:"You now know every safeguard. Keep saving often, export redundant backups and revisit any step from Help whenever you want a refresher. Cine Power Planner will keep protecting your data offline."}}},helpQuickStartChecklistTitle:"Quick start checklist",helpDataSafetyTitle:"Protect your work",helpRestoreDrillTitle:"Restore rehearsal drill",helpDataAuditTitle:"Monthly data health check",helpDataAuditStep1:"Open %1$s, switch to %2$s, then use %3$s under %4$s to capture a fresh full-app snapshot before auditing downloads.",helpDataAuditStep2:"Export each active project with %1$s, confirm each download opens without errors, and store the files in two separate locations.",helpDataAuditStep3:"While offline, reload using %1$s and confirm the %2$s stays visible while projects and help articles load from local storage. Test %3$s with one of the new exports to ensure share bundles restore without reconnecting.",helpDataAuditStep4:"Run %1$s with your latest backup, verify every project, device, and rule, then record the runtime guard output from %2$s in your verification log before closing the rehearsal without publishing changes.",helpDataAuditNote:"Log the results, capture a screenshot of Settings → Data & Storage with the latest autosave timestamp, and archive the console guard output with your backup rotation checklist so you always know which copies were verified offline.",helpRestoreDrillNote:"Log filenames, timestamps and verification results in your backup rotation checklist so every rehearsal documents a restorable copy.",helpSearchClear:"Clear search",helpSearchHelp:"Type keywords or alternate spellings to instantly filter help topics. Quick links update as you type and highlight the matching article when you press Enter. Press '/' or Ctrl+F (Cmd+F on Mac) to focus the search box when the help dialog is open (instead of the browser find), then press Tab to step through filtered quick links without leaving your project.",helpSearchClearHelp:"Clear the search box and show all help topics again.",helpSearchStatusAll:"Showing {count} help topics.",helpSearchStatusWithQuery:"Showing {count} results for “{query}”.",helpQuickLinksHeading:"Jump to a topic",helpQuickLinksAriaLabel:"Help topics quick navigation",helpQuickLinksHelp:"Jump directly to any section of the help dialog. Buttons only show topics that match the current search.",helpQuickLinkButtonHelp:"Scroll to the “%s” section in the help dialog.",hoverHelpButtonLabel:"Hover for help",hoverHelpButtonHelp:"Activate hover help so moving the cursor over buttons, fields, dropdowns or headers reveals brief explanations. You can open Settings while hover help is active to explore preferences without leaving this mode. Hovered controls are outlined and the tooltip shows their title alongside any available details. Longer descriptions are automatically broken into readable steps or bullet lists when available. Keyboard shortcuts are displayed whenever they exist so you can learn faster ways to use each control. When a control doesn't have custom guidance, the planner fills in contextual descriptions automatically so every interface element explains itself.",hoverHelpExitHint:"Press Esc or click anywhere to exit hover help.",hoverHelpShortcutsHeading:"Shortcuts",hoverHelpFallbackGeneric:"Interactive control.",hoverHelpFallbackButton:"Button. Activate to perform this action.",hoverHelpFallbackToggleButton:"Toggle button. Activate to switch between on and off states.",hoverHelpFallbackMenuButton:"Menu button. Opens a menu with related options.",hoverHelpFallbackLink:"Link. Opens the referenced section without leaving the app.",hoverHelpFallbackSelect:"Dropdown list. Open to choose one of the available options.",hoverHelpFallbackTextInput:"Text field. Type to enter information and press Enter to confirm when needed.",hoverHelpFallbackNumberInput:"Number field. Type a value or use arrow keys to adjust the number.",hoverHelpFallbackTextarea:"Multiline text field. Type paragraphs or paste notes.",hoverHelpFallbackCheckbox:"Checkbox. Select to enable, deselect to disable.",hoverHelpFallbackRadio:"Radio option. Select exactly one choice from this group.",hoverHelpFallbackSwitch:"Switch control. Toggle between on and off.",hoverHelpFallbackSlider:"Slider. Drag or use arrow keys to set the value.",hoverHelpFallbackFileInput:"File picker. Browse your device for files to add.",hoverHelpFallbackColorInput:"Color picker. Choose a color value.",hoverHelpFallbackDetails:"Expandable details section. Activate to show or hide the extra content.",hoverHelpFallbackDialog:"Dialog. Remains on top until you close it. Complete or cancel before returning to the main planner.",hoverHelpFallbackTablist:"Tab list. Use arrow keys to move between tabs.",hoverHelpFallbackTab:"Tab. Activate to display its panel of settings.",hoverHelpFallbackMenu:"Menu. Use arrow keys to move through options and Enter to select.",hoverHelpFallbackProgress:"Progress indicator showing current completion.",hoverHelpFallbackStatus:"Status message that updates automatically.",hoverHelpFallbackAlert:"Important alert that may require your attention.",setupSelectHelp:"Pick a previously saved configuration or select '-- New Project --' to start from scratch.",setupNameHelp:"Enter a descriptive name for the current project so you can recognize it later.",deleteSetupHelp:"Remove the highlighted saved project permanently from your browser.",saveSetupHelp:"Capture a full snapshot of the current project—devices, requirements, notes, runtime logs and diagram layout—and store it in your local library. The autosave status dot beside Project Name pulses while the write finishes, and the background auto-backup queue schedules the matching timestamped snapshot right after the save so redundancy stays current. Press Enter or Ctrl+S (⌘S on Mac) for the same result; the Save button stays disabled until you enter a project name. Saving never overwrites other projects until you confirm the name, so your prior data remains protected.",generateOverviewHelp:"Rebuilds the print-ready summary for the selected saved project and opens the overview dialog so you can review power and connection details before printing when ready. Lens selections render with brand, mount, diameter, focus, weight, rod support and notes so exports cover spec-sensitive checkouts.",generateGearListHelp:"Build a categorized kit list that combines selected gear with production requirements. The list refreshes on every change, merges duplicate items with counts and auto-adds required cables, rigging, lens supports, matte box parts, battery counts with hotswap hardware, default monitors for each role and scenario-specific accessories. Entries are sorted alphabetically and include hover descriptions.",shareSetupHelp:"Download a JSON safety bundle of the current project—covering custom gear, favorites, runtime feedback and devices—ready to archive or share offline. Store the file with your redundant crew backups before closing the planner so every workstation can restore it without network access. The export leaves your current project unchanged, so nothing is lost while you create the share bundle.",applySharedLinkHelp:"Load the configuration from a JSON backup exported via Save & Share or Backup & Restore. Review the preview diff before applying—nothing overwrites your current project until you confirm Save, and the planner schedules a fresh auto-backup beforehand so you can roll back instantly. Unnamed imports are saved automatically under an “-imported” title so the data lands even when the bundle omitted a project name. The imported project remains local and offline-ready immediately after you save.",sharedLinkHelp:"Choose a project JSON exported from Save & Share or Backup & Restore. Keep the original file in your backups after import—the planner only reads a copy and logs the attempt in diagnostics for your records so you can audit every restore.",cameraSelectHelp:"Choose the camera body that anchors your rig.",monitorSelectHelp:"Choose an on-board or wireless monitor to include.",videoSelectHelp:"Choose a transmitter/receiver pair or other wireless video link.",cageSelectHelp:"Choose a camera cage for mounting accessories.",distanceSelectHelp:"Choose an optional distance or range-finder sensor.",batterySelectHelp:"Choose the battery model that will power the entire rig.",batteryPlateSelectHelp:"Choose the battery plate or adapter that connects the battery to the camera.",batteryHotswapSelectHelp:"Select the hot-swap buffer that keeps power during battery changes.",runtimeFeedbackBtnHelp:"Open a form where you can submit real-world runtime data for this configuration.",zoomOutHelp:"Zoom out of the project diagram to view more of the layout.",zoomInHelp:"Zoom in on the project diagram for a closer look at connections.",downloadDiagramHelp:"Download the Power Diagram as an SVG or JPG image.",gridSnapToggleHelp:"Turn grid snapping on or off to help align items in the diagram.",resetViewBtn:"Reset View",resetViewHelp:"Reset zoom and pan to their defaults.",toggleDeviceManagerHelp:"Open the editor where you can add, modify, export or import device data.",hideDeviceManagerHelp:"Close the device database editor and return to normal mode.",zoomInLabel:"Zoom in",zoomOutLabel:"Zoom out",diagramHoverNotice:"Double click for details",diagramDetailBackLabel:"Back",diagramDetailDefaultHeading:"Diagram details",diagramMoveHint:"Drag nodes to rearrange; drag empty space to pan.",v2:{dashboard:{header:{title:"Projects"},actions:{newProject:"New Project",importProject:"Import Project"},projects:"Projects",newProject:"New Project",projectLocked:"The project '{projectName}' is already open in another tab.",emptyState:{title:"No Projects Yet",subtitle:"Create your first power plan to get started.",help:"Need help getting started?",archiveTitle:"No Archived Projects",archiveSubtitle:"Projects you archive will appear here."},search:{noResults:{title:"No Results",subtitle:'No projects match "{query}"'},clear:"Clear search"},projectTile:{prep:"Prep:",shoot:"Shoot:",return:"Return:",openProject:"Open Project",renameAndEdit:"Rename & Edit",moreOptions:"More options",actionsFor:"Actions for {project}"},contextMenu:{open:"Open Project",rename:"Rename & Edit",duplicate:"Duplicate",archive:"Archive",unarchive:"Restore",delete:"Delete",print:"Print",pdf:"Export PDF"},status:{draft:"Draft",planning:"Planning",waitingForApproval:"Waiting for Approval",approved:"Approved",shooting:"Shooting",completed:"Completed",archived:"Archived"}},sidebar:{nav:{allProjects:"All Projects",activeProjects:"Active Projects",archive:"Archive",autoBackups:"Auto Backups",deviceLibrary:"Device Library",contacts:"Contacts",autoGearRules:"Auto Gear Rules",ownedGear:"Owned Gear",createProject:"Create New Project",projectsSection:"Projects",toolsSection:"Tools",supportSection:"Support",help:"Help",settings:"Settings"},search:{placeholder:"Search features, devices, actions...",label:"Search features, devices, actions, and help"}},detail:{backButton:"Back to Projects",header:{export:"Export Project",print:"Print / Export PDF",generateReqs:"Reqs & Gear",generateOverview:"Generate Overview",save:"Save"},tabs:{cameraPackage:"Camera Package",powerSummary:"Power Summary",requirements:"Requirements",gearList:"Gear List"},actions:{projectRequirements:"Project Requirements",generateRequirements:"Generate Requirements",generateRequirementsHelp:'Click "Generate Requirements" to create your production report.',gearList:"Gear List",generateGearList:"Generate Gear List",generateGearListHelp:'Click "Generate Gear List" to create your equipment list.'},diagram:{zoomIn:"Zoom In",zoomOut:"Zoom Out",resetView:"Reset View",download:"Download Diagram"},errors:{statusUpdateFailed:"Unable to update the project status because storage is unavailable. Please check your browser storage settings and try again."}}}},categoryNames:{cameras:"Camera",viewfinders:"Viewfinder",monitors:"Monitor",video:"Wireless Transmitter","fiz.motors":"FIZ Motor","fiz.controllers":"FIZ Controller","fiz.distance":"FIZ Distance",batteries:"Battery",batteryHotswaps:"Battery Hotswap",wirelessReceivers:"Wireless Receiver","accessories.batteries":"Accessory Battery","accessories.cables":"Cable","accessories.cages":"Camera Cage","accessories.cameraSupport":"Camera Support","accessories.chargers":"Charger",cages:"Camera Cage",chargers:"Charger",directorMonitors:"Director Monitor",iosVideo:"iOS Video",videoAssist:"Video Assist",media:"Recording Media","accessories.cardReaders":"Card Reader",cardReaders:"Card Reader",lenses:"Lens",filterOptions:"Filter Option",other:"Other"},gearItems:{"Tennis ball":"Tennis ball","Clapper Stick":"Clapper Stick"}},ko="en",Nd={de:()=>kc(()=>import("./de-COP2X5NY.js"),[]),es:()=>kc(()=>import("./es-C6TBM6wR.js"),[]),fr:()=>kc(()=>import("./fr-B9hw2SLU.js"),[]),it:()=>kc(()=>import("./it-CAWsErIB.js"),[])},_a=new Set;function hs(e){if(Array.isArray(e))return e.map(t=>hs(t));if(e&&typeof e=="object"){const t={};return Object.keys(e).forEach(o=>{t[o]=hs(e[o])}),t}return e}function bs(e,t=new WeakMap){if(!e||typeof e!="object"||t.has(e))return e;t.set(e,!0),Array.isArray(e)?e.forEach(o=>bs(o,t)):Object.values(e).forEach(o=>bs(o,t));try{Object.isFrozen(e)||Object.freeze(e)}catch{}return e}function Ny(e,t){const o=Array.isArray(e)?"array":e===null?"null":typeof e,r=Array.isArray(t)?"array":t===null?"null":typeof t;if(o==="array"){if(r!=="array")return hs(e);const n=e.length,a=new Array(n);for(let l=0;l<n;l++){const s=e[l],u=l<t.length?t[l]:void 0;a[l]=Ny(s,u)}return a}if(o==="object"){if(r!=="object")return hs(e);const n=t&&typeof t=="object"?t:{};return Object.keys(e||{}).forEach(l=>{const s=e[l],u=Object.prototype.hasOwnProperty.call(n,l)?n[l]:void 0;n[l]=Ny(s,u)}),Object.keys(n).forEach(l=>{Object.prototype.hasOwnProperty.call(e,l)||delete n[l]}),n}return r===o&&typeof t<"u"?t:hs(e)}function Ep(e,t){const o={};return Object.keys(e||{}).forEach(n=>{const a=e[n],l=t&&Object.prototype.hasOwnProperty.call(t,n)?t[n]:void 0;o[n]=Ny(a,l)}),o}function cE(e,t,o){if(!e||!t||!o)return;o.texts=o.texts||{},o.categoryNames=o.categoryNames||{},o.gearItems=o.gearItems||{};const r=t.texts||{},n=t.categoryNames||{},a=t.gearItems||{};let l=o.texts[ko]?{texts:o.texts[ko],categoryNames:o.categoryNames[ko],gearItems:o.gearItems[ko]}:null;e===ko&&(bs(r),bs(n),bs(a),l={texts:r,categoryNames:n,gearItems:a});const s=l||{texts:{},categoryNames:{},gearItems:{}},u=e===ko?s.texts:Ep(s.texts,r),f=e===ko?s.categoryNames:Ep(s.categoryNames,n),y=e===ko?s.gearItems:Ep(s.gearItems,a);o.texts[e]=u,o.categoryNames[e]=f,o.gearItems[e]=y}function GR(e){if(typeof e!="string")return ko;const t=e.trim();if(!t)return ko;const o=t.toLowerCase();if(Nd[o])return o;const r=o.split("-")[0];return Nd[r]?r:ko}async function TR(e,t){if(_a.has(e))return;const o=GR(e);if(o===ko&&_a.has(ko)){_a.add(e);return}if(Nd[o])try{const r=await Nd[o]();cE(o,r.data,t),_a.add(o),_a.add(e)}catch(r){console.error(`Failed to load locale: ${o}`,r)}}function OR(e){_a.has(ko)||(cE(ko,LR,e),_a.add(ko))}const Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{};OR(Ng);async function kR(e){return TR(e,Ng)}Ng.__cineTranslationsLoader__={loadLanguage:kR};const oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:global,uE='<svg viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 40c0-8 3-17 3-17a4.84 4.84 0 0 0-1.829-3.064 1 1 0 0 1 .45-1.716 19.438 19.438 0 0 1 4.379-.22c.579-2.317-1.19-3.963-2.782-4.938a1 1 0 0 1 .393-1.85 14.128 14.128 0 0 1 6.389.788c0-.958-1.147-2.145-2.342-3.122a1 1 0 0 1 .708-1.773 40.655 40.655 0 0 1 6.634.895 3.723 3.723 0 0 0-1.049-2.264 1 1 0 0 1 .823-1.652c6.151.378 9.226 1.916 9.226 1.916l10-1s8.472-2.311 15.954.5a1 1 0 0 1-.084 1.9c-1.455.394-2.87 1.143-2.87 2.6 0 0 4.426.738 5.675 4.114a1 1 0 0 1-1.228 1.317c-1.64-.48-4.273-.88-6.447.569Z" fill="#805333" /><path d="m30.18 42.82c1.073 2.7 2.6 9.993 3.357 13.8a2 2 0 0 1-1.964 2.38h-28.573a2 2 0 0 1-2-2v-18c0-2.55 10.03-22.11 23.99-23.87Z" fill="#a56a43" /><path d="m55.67 48.46-6.34 2.97a6 6 0 0 1-7.98-2.88l-.25-.54-.76-1.6a4.956 4.956 0 0 0-4.68-2.87c-.22.01-.44.02-.66.02a16.019 16.019 0 0 1-8.28-29.66c-1.81-2.97-3.45-8.03 2.03-12.49a2.1 2.1 0 0 1 2.5 0c4.23 3.45 4.21 7.25 3.16 10.17a16 16 0 0 1 15.91 11.36l5.31 11.31 2.92 6.22a6.008 6.008 0 0 1-2.88 7.99Z" fill="#cb8252" /><circle cx="42" cy="26" r="3" fill="#2c2f38" /><circle cx="54" cy="43" r="1" fill="#805333" /><path d="m58.55 40.47-2.92-6.22-14.53 13.76.25.54a6 6 0 0 0 7.98 2.88l6.34-2.97a6.008 6.008 0 0 0 2.88-7.99Zm-4.55 3.53a1 1 0 1 1 1-1 1 1 0 0 1-1 1Z" fill="#cf976a" /><circle cx="41" cy="25" r="1.25" fill="#ecf0f1" /></svg>',IR='<path d="M44 19 L56 5 L49 22 Z" fill="#ffd700" />',Hg=uE.replace("</svg>",IR+"</svg>"),PR=Hg.replace(/#805333/g,"#d63384").replace(/#a56a43/g,"#e83e8c").replace(/#cb8252/g,"#fd7e14").replace(/#cf976a/g,"#ffc0cb"),BR=Hg.replace(/#805333/g,"#6f42c1").replace(/#a56a43/g,"#d63384").replace(/#cb8252/g,"#e83e8c").replace(/#cf976a/g,"#e0cffc"),MR=Hg.replace(/#805333/g,"#0dcaf0").replace(/#a56a43/g,"#6f42c1").replace(/#cb8252/g,"#d63384").replace(/#cf976a/g,"#9ec5fe"),_R=[{className:"icon-svg pink-mode-icon",markup:PR,lottiePath:"src/animations/horn.json"},{className:"icon-svg pink-mode-icon",markup:BR,lottiePath:"src/animations/unicorn.json"},{className:"icon-svg pink-mode-icon",markup:MR,lottiePath:"src/animations/rainbow.json"}],DR={off:{className:"icon-svg pink-mode-icon",markup:uE},onSequence:_R};class FR{constructor(){this.active=!1}activate(){this.active=!0,typeof document<"u"&&document.body&&document.body.classList.add("pink-mode-active")}deactivate(){this.active=!1,typeof document<"u"&&document.body&&document.body.classList.remove("pink-mode-active")}}const dE=new FR;function xR(){if(oa.lottie)return Promise.resolve(oa.lottie);if(oa.bodymovin)return Promise.resolve(oa.bodymovin);if(typeof document>"u")return Promise.resolve(null);const e=document.querySelector('script[data-loader="pink-mode-lottie"]');return e?new Promise(t=>{e.dataset.loaded==="true"?t(oa.lottie):e.addEventListener("load",()=>t(oa.lottie),{once:!0})}):new Promise((t,o)=>{const r=document.createElement("script");r.src="src/vendor/lottie.min.js",r.async=!0,r.setAttribute("data-loader","pink-mode-lottie"),r.onload=()=>{r.dataset.loaded="true",t(oa.lottie)},r.onerror=o,document.head.appendChild(r)})}const NR=e=>typeof e=="string"?e.trim():"",HR=()=>!1,jR=()=>Promise.resolve(),UR=()=>oa.lottie,zR=()=>dE.activate(),VR=()=>dE.deactivate(),qR=()=>{},WR=()=>{},KR=()=>null,$R=()=>{},YR=()=>0,QR=()=>{},XR=3e4,ZR="pink-mode-icon-pop",JR=450,eL=[],tL={pinkModeIcons:DR,ensureSvgHasAriaHidden:NR,setPinkModeIconSequence:HR,loadPinkModeIconsFromFiles:jR,ensurePinkModeLottieRuntime:xR,resolvePinkModeLottieRuntime:UR,startPinkModeAnimatedIcons:zR,stopPinkModeAnimatedIcons:VR,triggerPinkModeIconRain:qR,startPinkModeIconPreload:WR,getPinkModeIconRotationTimer:KR,setPinkModeIconRotationTimer:$R,getPinkModeIconIndex:YR,setPinkModeIconIndex:QR,PINK_MODE_ICON_INTERVAL_MS:XR,PINK_MODE_ICON_ANIMATION_CLASS:ZR,PINK_MODE_ICON_ANIMATION_RESET_DELAY:JR,PINK_MODE_ICON_FALLBACK_MARKUP:eL},es=tL;typeof module<"u"&&module.exports&&(module.exports={PINK_MODE_SUPPORT_API:es});typeof globalThis<"u"?globalThis.PINK_MODE_SUPPORT_API=es:typeof window<"u"?window.PINK_MODE_SUPPORT_API=es:typeof self<"u"?self.PINK_MODE_SUPPORT_API=es:typeof global<"u"&&(global.PINK_MODE_SUPPORT_API=es);var fE={focus:"autoGearDefaultFocusMonitorLabel",handheld7:"autoGearDefaultHandheldMonitorLabel",combo15:"autoGearDefaultComboMonitorLabel",director15:"autoGearDefaultDirectorMonitorLabel"};function oL(){if(typeof AUTO_GEAR_CONDITION_KEYS<"u"&&Array.isArray(AUTO_GEAR_CONDITION_KEYS))return AUTO_GEAR_CONDITION_KEYS;var e=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null,t=e&&typeof e.AUTO_GEAR_UI_HELPERS=="object"&&e.AUTO_GEAR_UI_HELPERS?e.AUTO_GEAR_UI_HELPERS:null;if(t){if(Array.isArray(t.AUTO_GEAR_CONDITION_KEYS))return t.AUTO_GEAR_CONDITION_KEYS;if(t.autoGearConditionSelects&&typeof t.autoGearConditionSelects=="object")return Object.keys(t.autoGearConditionSelects)}return[]}var rL=function(e){return function(t){return callCoreFunctionIfAvailable(e,[t],{defer:!0})}};function nL(){if(autoGearConditionSelect)try{autoGearConditionSelect.focus({preventScroll:!0})}catch{autoGearConditionSelect.focus()}}function aL(){var e,t,o,r,n=((e=texts[currentLang])===null||e===void 0?void 0:e.autoGearConditionAddShortcut)||((t=texts.en)===null||t===void 0?void 0:t.autoGearConditionAddShortcut)||"Add another condition",a=((o=texts[currentLang])===null||o===void 0?void 0:o.autoGearConditionRemove)||((r=texts.en)===null||r===void 0?void 0:r.autoGearConditionRemove)||"Remove this condition",l=oL();l.length&&l.forEach(function(s){var u=getAutoGearConditionConfig(s);u&&(u.addShortcut&&(setButtonLabelWithIconBinding(u.addShortcut,"",ICON_GLYPHS.add),u.addShortcut.setAttribute("aria-label",n),u.addShortcut.setAttribute("title",n),u.addShortcut.setAttribute("data-help",n)),u.removeButton&&(setButtonLabelWithIconBinding(u.removeButton,"",ICON_GLYPHS.minus),u.removeButton.setAttribute("aria-label",a),u.removeButton.setAttribute("title",a),u.removeButton.setAttribute("data-help",a)))})}var pE={createDeferredAutoGearRefresher:rL,focusAutoGearConditionPicker:nL,configureAutoGearConditionButtons:aL,AUTO_GEAR_MONITOR_DEFAULT_LABEL_KEYS:fE};typeof module<"u"&&module.exports&&(module.exports=pE);if(typeof globalThis<"u"){var iL=typeof globalThis.AUTO_GEAR_UI_HELPERS=="object"&&globalThis.AUTO_GEAR_UI_HELPERS?globalThis.AUTO_GEAR_UI_HELPERS:globalThis.AUTO_GEAR_UI_HELPERS={};Object.assign(iL,pE),globalThis.AUTO_GEAR_MONITOR_DEFAULT_LABEL_KEYS=fE}var gr=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||{},lL=(function(){for(var e=[gr,gr&&gr.global,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null],t=0;t<e.length;t+=1){var o=e[t];if(!(!o||typeof o!="object"&&typeof o!="function")){if(typeof o.stableStringify=="function")return o.stableStringify;if(o.cineCoreShared&&typeof o.cineCoreShared.stableStringify=="function")return o.cineCoreShared.stableStringify}}for(var r=function(n){if(n===null)return"null";if(n===void 0)return"undefined";if(Array.isArray(n)){for(var a="[",l=0;l<n.length;l+=1)l>0&&(a+=","),a+=r(n[l]);return a+="]",a}if(typeof n=="object"){for(var s=Object.keys(n).sort(),a="{",u=0;u<s.length;u+=1){var f=s[u];u>0&&(a+=","),a+="".concat(JSON.stringify(f),":").concat(r(n[f]))}return a+="}",a}return JSON.stringify(n)},t=0;t<e.length;t+=1){var o=e[t];if(!(!o||typeof o!="object"&&typeof o!="function")&&typeof o.stableStringify!="function")try{o.stableStringify=r}catch{try{Object.defineProperty(o,"stableStringify",{configurable:!0,enumerable:!1,writable:!0,value:r})}catch{}}}return r})();function sL(){for(var e=[gr,gr&&gr.global,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null],t=0;t<e.length;t+=1){var o=e[t];if(!(!o||typeof o!="object"&&typeof o!="function")){if(typeof o.DEFAULT_LANGUAGE_SAFE=="string"&&o.DEFAULT_LANGUAGE_SAFE)return o.DEFAULT_LANGUAGE_SAFE;if(typeof o.CPP_DEFAULT_LANGUAGE_SAFE=="string"&&o.CPP_DEFAULT_LANGUAGE_SAFE)return o.CPP_DEFAULT_LANGUAGE_SAFE;if(o.cineCoreShared&&typeof o.cineCoreShared.DEFAULT_LANGUAGE_SAFE=="string"&&o.cineCoreShared.DEFAULT_LANGUAGE_SAFE)return o.cineCoreShared.DEFAULT_LANGUAGE_SAFE}}return null}function mE(){var e=sL();return e||(typeof navigator<"u"&&typeof navigator.language=="string"&&navigator.language?navigator.language.slice(0,2).toLowerCase():"en")}function Eb(e,t){if(!(!e||typeof e!="object"&&typeof e!="function")){var o=function(r){if(typeof e[r]!="string"||!e[r])try{e[r]=t}catch{try{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,writable:!0,value:t})}catch{}}};o("DEFAULT_LANGUAGE_SAFE"),o("CPP_DEFAULT_LANGUAGE_SAFE")}}function cL(){var e=mE(),t=[gr,gr&&gr.global,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];t.forEach(function(o){!o||typeof o!="object"&&typeof o!="function"||(Eb(o,e),o.cineCoreShared&&typeof o.cineCoreShared=="object"&&Eb(o.cineCoreShared,e))})}cL();function Hf(){var e=mE();try{var t=getLanguageTexts(e);if(t&&typeof t=="object")return t}catch{}return{}}var uL=Object.freeze(["none","monitor","directorMonitor","tripodHeadBrand","tripodBowl","tripodTypes","tripodSpreader","fizHandUnit"]);function dL(e){var t=e&&e.AUTO_GEAR_SELECTOR_TYPE_MAP&&typeof e.AUTO_GEAR_SELECTOR_TYPE_MAP=="object"?e.AUTO_GEAR_SELECTOR_TYPE_MAP:null,o=t&&Object.keys(t).length?t:uL.reduce(function(a,l){return a[l.toLowerCase()]=l,a},Object.create(null)),r=e&&e.AUTO_GEAR_SELECTOR_TYPE_SET instanceof Set?e.AUTO_GEAR_SELECTOR_TYPE_SET:null,n=r&&r.size?r:new Set(Object.keys(o));return e&&typeof e=="object"&&(e.AUTO_GEAR_SELECTOR_TYPE_MAP||(e.AUTO_GEAR_SELECTOR_TYPE_MAP=o),e.AUTO_GEAR_SELECTOR_TYPE_SET||(e.AUTO_GEAR_SELECTOR_TYPE_SET=n)),{map:o,set:n}}var yE=dL(gr),fL=yE.map,pL=yE.set;function bc(e){var t=e||"rule";return typeof crypto<"u"&&crypto.randomUUID?"".concat(t,"-").concat(crypto.randomUUID()):"".concat(t,"-").concat(Math.random().toString(36).slice(2),"-").concat(Date.now())}function Sc(e){var t=parseInt(e,10);return Number.isFinite(t)&&t>0?t:1}function mL(e){if(typeof e!="string")return[];var t=e.trim();if(!t)return[];var o=/[;\n\r]/.test(t),r=o?t.split(/[;\n\r]+/):[t];return r.map(function(n){var a=n.trim();if(!a)return null;var l=a.match(/^([+-])\s*(.+)$/),s=l?l[1]==="-"?"remove":"add":null,u=l?l[2].trim():a;if(!u)return null;var f=u.match(/^(\d+)\s*[x×]\s*(.+)$/i);if(f){var y=f[2].trim();return y?{name:y,quantity:Sc(f[1]),listType:s}:null}return{name:u,listType:s}}).filter(Boolean)}function _n(e,t){var o=t===void 0?{}:t,r=o.collapseWhitespace,n=r===void 0?!0:r;if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e!="string")return"";var a=e.trim();return n?a.replace(/\s+/g," "):a}function vc(e){var t=typeof e=="string"?e.trim().toLowerCase():"";if(!t)return"none";var o=typeof AUTO_GEAR_SELECTOR_TYPE_SET<"u"&&AUTO_GEAR_SELECTOR_TYPE_SET||pL,r=typeof AUTO_GEAR_SELECTOR_TYPE_MAP<"u"&&AUTO_GEAR_SELECTOR_TYPE_MAP||fL;return!o||!o.has(t)?"none":r&&r[t]||"none"}function jg(e,t,o){var r=_n(t);if(!r)return"";var n=bE(e,o?{selectorContext:o}:null);if(!n.length)return r;var a=n.find(function(l){return l.toLowerCase()===r.toLowerCase()});return a||r}var Hd={focus:"monitor",handheld7:"monitor",combo15:"directorMonitor",director15:"directorMonitor"};function Ug(e){var t={focus:"",handheld7:"",combo15:"",director15:""};return!e||typeof e!="object"||Object.keys(Hd).forEach(function(o){var r=Hd[o],n=jg(r,e[o]);t[o]=n}),t}function gE(){if(DEVICE_GLOBAL_SCOPE&&DEVICE_GLOBAL_SCOPE.devices&&typeof DEVICE_GLOBAL_SCOPE.devices=="object")return DEVICE_GLOBAL_SCOPE.devices;try{return typeof devices<"u"&&devices&&typeof devices=="object"?devices:null}catch(e){if(e&&typeof e=="object"&&e.name==="ReferenceError")return null;throw e}}function yL(e){var t=e&&typeof e=="object"?e:{},o=new Set,r=[],n=function(y){!y||typeof y!="object"&&typeof y!="function"||o.has(y)||(o.add(y),r.push(y))};try{typeof DEVICE_GLOBAL_SCOPE<"u"&&n(DEVICE_GLOBAL_SCOPE)}catch{}n(typeof CORE_PART1_RUNTIME_SCOPE<"u"?CORE_PART1_RUNTIME_SCOPE:null),n(typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null),n(typeof CORE_RUNTIME_PRIMARY_SCOPE_CANDIDATE<"u"?CORE_RUNTIME_PRIMARY_SCOPE_CANDIDATE:null),n(typeof globalThis<"u"?globalThis:null),n(typeof window<"u"?window:null),n(typeof self<"u"?self:null),n(typeof global<"u"?global:null);for(var a=0;a<r.length;a+=1){var l=r[a];if(l){try{l.devices=t}catch{try{Object.defineProperty(l,"devices",{configurable:!0,writable:!0,value:t})}catch{}}try{var s=l.CORE_SHARED||l.cineCoreShared;if(s&&typeof s=="object"&&(s.devices=t,typeof s.updateDevices=="function"))try{s.updateDevices(t)}catch(y){}}catch{}l&&l.global&&l.global!==l&&n(l.global);var u=l.__cineRuntimeState;if(u&&typeof u=="object")try{u.devices=t}catch{}}}var f=gL();if(f&&typeof f=="object")try{f.devices=t,typeof f.updateDevices=="function"&&f.updateDevices(t)}catch{}if(typeof module<"u"&&module&&typeof module.exports=="object"&&module.exports)try{module.exports.devices=t}catch{}return t}function gL(){for(var e=[gr,gr&&gr.global,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null],t=0;t<e.length;t+=1){var o=e[t];if(!(!o||typeof o!="object"&&typeof o!="function")){if(o.CORE_SHARED&&typeof o.CORE_SHARED=="object")return o.CORE_SHARED;if(o.cineCoreShared&&typeof o.cineCoreShared=="object")return o.cineCoreShared}}return null}function hE(e){if(typeof document>"u")return null;var t=AUTO_GEAR_TRIPOD_FIELD_IDS[e];return t?document.getElementById(t):null}function zg(e){if(!AUTO_GEAR_TRIPOD_SELECTOR_TYPES.has(e))return[];var t=hE(e);if(!t||!t.options)return[];var o=Array.from(t.options),r=new Set,n=[];return o.forEach(function(a){if(a){var l=typeof a.value=="string"?a.value.trim():"",s=typeof a.textContent=="string"?a.textContent.trim():"",u=l||s;if(u){var f=u.toLowerCase();r.has(f)||(r.add(f),n.push({value:u,label:s||u}))}}}),n}function bE(e,t){var o=vc(e),r=gE();if(!r||typeof r!="object")return[];if(o==="monitor"){var n=r&&r.monitors?r.monitors:null;return!n||typeof n!="object"?[]:Object.keys(n).filter(function(T){return T&&T!=="None"}).sort(localeSort)}if(o==="directorMonitor"){var a=r&&r.directorMonitors?r.directorMonitors:null;return!a||typeof a!="object"?[]:Object.keys(a).filter(function(T){return T&&T!=="None"}).sort(localeSort)}if(o==="fizHandUnit"){var l=typeof AUTO_GEAR_HAND_UNIT_COMPATIBILITY_GROUPS=="object"?AUTO_GEAR_HAND_UNIT_COMPATIBILITY_GROUPS:typeof globalThis<"u"&&typeof globalThis.AUTO_GEAR_HAND_UNIT_COMPATIBILITY_GROUPS=="object"?globalThis.AUTO_GEAR_HAND_UNIT_COMPATIBILITY_GROUPS:Object.create(null),s=typeof AUTO_GEAR_HAND_UNIT_MOTOR_TO_GROUP=="object"?AUTO_GEAR_HAND_UNIT_MOTOR_TO_GROUP:typeof globalThis<"u"&&typeof globalThis.AUTO_GEAR_HAND_UNIT_MOTOR_TO_GROUP=="object"?globalThis.AUTO_GEAR_HAND_UNIT_MOTOR_TO_GROUP:Object.create(null),u="";if(t&&typeof t=="object"){var f=t.selectorContext||t.context;typeof f=="string"&&(u=f.trim())}else typeof t=="string"&&(u=t.trim());var y=null;if(u&&(y=l[u]||null,!y)){var R=Ua(u);R&&(l[R]?y=l[R]:s[R]&&l[s[R]]&&(y=l[s[R]]))}if(y&&Array.isArray(y.options))return y.options.slice();var _=[];return Object.values(l).forEach(function(T){!T||!Array.isArray(T.options)||T.options.forEach(function(I){!I||_.includes(I)||_.push(I)})}),_}return AUTO_GEAR_TRIPOD_SELECTOR_TYPES.has(o)?zg(o).map(function(T){return T.value}):[]}function hL(e){var t=vc(e),o=getLanguageTexts(currentLang),r=Hf();return t==="monitor"?o.autoGearSelectorMonitorOption||r.autoGearSelectorMonitorOption||"Monitor selector":t==="directorMonitor"?o.autoGearSelectorDirectorOption||r.autoGearSelectorDirectorOption||"Director monitor selector":t==="tripodHeadBrand"?o.autoGearSelectorTripodHeadOption||r.autoGearSelectorTripodHeadOption||"Tripod head selector":t==="tripodBowl"?o.autoGearSelectorTripodBowlOption||r.autoGearSelectorTripodBowlOption||"Tripod bowl selector":t==="tripodTypes"?o.autoGearSelectorTripodTypesOption||r.autoGearSelectorTripodTypesOption||"Tripod type selector":t==="tripodSpreader"?o.autoGearSelectorTripodSpreaderOption||r.autoGearSelectorTripodSpreaderOption||"Tripod spreader selector":t==="fizHandUnit"?o.autoGearSelectorFizHandUnitOption||r.autoGearSelectorFizHandUnitOption||"FIZ hand unit selector":o.autoGearSelectorNoneOption||r.autoGearSelectorNoneOption||"No selector"}function bL(){var e=getLanguageTexts(currentLang),t=Hf();return e.autoGearSelectorScrollHint||t.autoGearSelectorScrollHint||"Scroll to see more devices."}function SL(){var e=getLanguageTexts(currentLang),t=Hf();return e.autoGearSelectorDefaultPlaceholder||t.autoGearSelectorDefaultPlaceholder||"Choose a default device"}function vL(){var e=getLanguageTexts(currentLang),t=Hf();return e.autoGearMonitorDefaultPlaceholder||t.autoGearMonitorDefaultPlaceholder||"Use recommended automatically"}function EL(e,t){var o=typeof t=="string"?t.trim():"";if(!o)return"";var r=vc(e);if(AUTO_GEAR_TRIPOD_SELECTOR_TYPES.has(r)){var n=zg(r),a=n.find(function(l){return l.value.toLowerCase()===o.toLowerCase()});if(a&&a.label)return a.label}return typeof addArriKNumber=="function"&&(r==="monitor"||r==="directorMonitor"||r==="fizHandUnit")?addArriKNumber(o):o}function CL(e,t){var o,r;if(e){var n=typeof t=="string"?t:"",a=typeof currentLang=="string"?currentLang:"en";e.innerHTML="",GEAR_LIST_CATEGORIES.forEach(function(s){var u=document.createElement("option");u.value=s,u.textContent=s,n===s&&(u.selected=!0),e.appendChild(u)});var l=document.createElement("option");l.value=AUTO_GEAR_CUSTOM_CATEGORY,l.textContent=((o=texts==null?void 0:texts[a])===null||o===void 0?void 0:o.autoGearCustomCategory)||((r=texts==null?void 0:texts.en)===null||r===void 0?void 0:r.autoGearCustomCategory)||"Custom Additions",(!n||n===AUTO_GEAR_CUSTOM_CATEGORY)&&(l.selected=!0),e.appendChild(l)}}function Vg(e){if(!e||typeof e.name!="string")return"";var t=typeof e?.quantity=="number"?String(e.quantity):e?.quantity,o=formatOwnGearQuantityText(t);return o?"".concat(e.name," (").concat(o,")"):e.name}function SE(e){if(autoGearOwnGearSelect){var t=Array.isArray(e)?e.filter(function(s){return typeof s=="string"}).map(function(s){return s.trim()}).filter(Boolean):collectAutoGearSelectedValues(e,"ownGear");autoGearOwnGearSelect.innerHTML="",autoGearOwnGearSelect.multiple=!0;var o=getAutoGearOwnGearItems(),r=new Set,n=function(s,u,f){if(f===void 0&&(f={}),typeof s=="string"){var y=s.trim();if(!(!y||r.has(y))){var R=document.createElement("option");R.value=y,R.textContent=u||y,f.dataset&&R.dataset&&Object.entries(f.dataset).forEach(function(_){var T=_[0],I=_[1];I!=null&&(R.dataset[T]=I)}),f.fallback&&(R.dataset.autoGearFallback="true"),t.includes(y)&&(R.selected=!0),autoGearOwnGearSelect.appendChild(R),r.add(y)}}};o.forEach(function(s){if(!(!s||typeof s.id!="string")){var u=s.id.trim();if(u){var f={};typeof s.name=="string"&&s.name&&(f.name=s.name);var y=formatOwnGearQuantityText(s.quantity);y&&(f.quantity=y),typeof s.notes=="string"&&s.notes&&(f.notes=s.notes),n(u,Vg(s)||s.name||u,{dataset:f})}}}),t.forEach(function(s){if(!(!s||r.has(s))){var u=typeof findAutoGearOwnGearById=="function"?findAutoGearOwnGearById(s):null,f=u?.name||s;n(s,f,{fallback:!0})}});var a=Array.from(autoGearOwnGearSelect.options||[]).filter(function(s){return!s.disabled});autoGearOwnGearSelect.size=computeAutoGearMultiSelectSize(a.length,{minRows:AUTO_GEAR_FLEX_MULTI_SELECT_MIN_ROWS});var l=a.some(function(s){return s.dataset.autoGearFallback!=="true"});autoGearOwnGearSelect.disabled=!l&&t.length===0}}function AL(){var e=[autoGearAddOwnGearSelect,autoGearRemoveOwnGearSelect].filter(Boolean);if(e.length){var t=getAutoGearOwnGearItems();e.forEach(function(o){var r,n;if(o){var a=o.value||"",l=o.getAttribute("data-placeholder")||((r=texts[currentLang])===null||r===void 0?void 0:r.autoGearOwnGearPlaceholder)||((n=texts.en)===null||n===void 0?void 0:n.autoGearOwnGearPlaceholder)||"Manual entry";o.innerHTML="";var s=document.createElement("option");s.value="",s.textContent=l,o.appendChild(s),t.forEach(function(u){if(!(!u||typeof u.id!="string"||!u.id||typeof u.name!="string")){var f=document.createElement("option");f.value=u.id,f.textContent=Vg(u)||u.name,f.dataset.name=u.name,u.notes&&(f.dataset.notes=u.notes),u.source&&(f.dataset.source=u.source);var y=formatOwnGearQuantityText(u.quantity);y&&(f.dataset.quantity=y),u.id===a&&(f.selected=!0),o.appendChild(f)}}),a&&o.value!==a&&(o.querySelector('option[value="'.concat(a,'"]'))?o.value=a:o.value=""),o.disabled=t.length===0}}),SE(Array.isArray(autoGearEditorDraft==null?void 0:autoGearEditorDraft.ownGear)?autoGearEditorDraft.ownGear:void 0)}}function Ss(e){return typeof e!="string"?!1:e.trim().toLowerCase()==="monitoring"}function vE(e){var t;if(!e)return!1;var o=typeof e.value=="string"?e.value:"";if(Ss(o))return!0;var r=((t=e.options)===null||t===void 0?void 0:t[e.selectedIndex])||null;if(!r)return!1;var n=typeof r.value=="string"?r.value:"";if(Ss(n))return!0;var a=typeof r.textContent=="string"?r.textContent:"";return Ss(a)}function ad(e){var t=typeof e=="string"?e.trim().toLowerCase():"";return t?t==="camera support"||t==="grip"?!0:t.includes("tripod"):!1}function EE(e){var t;if(!e)return!1;var o=typeof e.value=="string"?e.value:"";if(ad(o))return!0;var r=((t=e.options)===null||t===void 0?void 0:t[e.selectedIndex])||null;if(!r)return!1;if(ad(r.value))return!0;var n=typeof r.textContent=="string"?r.textContent:"";return ad(n)}function id(e,t){if(e)if(t)if(e.hidden=!1,e.removeAttribute("hidden"),e.removeAttribute("aria-hidden"),Object.prototype.hasOwnProperty.call(e.dataset,"autoGearHiddenDisplay")){var o=e.dataset.autoGearHiddenDisplay;o?e.style.display=o:e.style.removeProperty("display"),delete e.dataset.autoGearHiddenDisplay}else e.style.display==="none"&&e.style.removeProperty("display");else e.hidden=!0,e.setAttribute("hidden",""),e.setAttribute("aria-hidden","true"),Object.prototype.hasOwnProperty.call(e.dataset,"autoGearHiddenDisplay")||(e.dataset.autoGearHiddenDisplay=e.style.display||""),e.style.display="none"}function wL(e){if(!(!e||!e.select)){var t=e.select,o=e.screenSizeField,r=e.screenSizeInput,n=e.selectorTypeField,a=e.selectorTypeSelect,l=e.selectorDefaultField,s=e.selectorDefaultInput,u=vE(t),f=EE(t),y=u,R=u||f;id(o,y),id(n,R),id(l,R),!y&&r&&(r.value=""),R||(a&&(a.value="none"),s&&(s.value="",Object.prototype.hasOwnProperty.call(s.dataset||{},"autoGearPreferredDefault")&&delete s.dataset.autoGearPreferredDefault))}}function CE(e){var t=[];if(!e||typeof e!="string")return{baseName:"",contexts:t};for(var o=e.trim(),r=/^(.*\([^()]*\)) \(([^()]+)\)$/,n=o.match(r);n;){var a=n[2].trim();if(/handheld\b/i.test(a)||/15-21"?$/.test(a))t.unshift(a),o=n[1].trim();else break;n=o.match(r)}return{baseName:o,contexts:t}}function jd(e){if(!e||typeof e!="object")return null;var t=_n(e.name),o=typeof e.ownGearId=="string"?e.ownGearId.trim():"",r=_n(e.ownGearLabel),n=_n(e.ownGearName),a=null;o&&(a=findAutoGearOwnGearById(o)||null);var l=a?.name||n||t;if(!l)return null;var s=CE(t||l),u=s.baseName,f=s.contexts,y=u||l,R=Array.isArray(e.contextNotes)?e.contextNotes.filter(function($){return typeof $=="string"&&$.trim()}):[];R.forEach(function($){var x=$.trim();x&&(f.includes(x)||f.push(x))});var _=_n(e.category),T=Sc(e.quantity),I=typeof e.id=="string"&&e.id?e.id:bc("item"),m=_n(e.screenSize),g=vc(e.selectorType),A=typeof e.selectorContext=="string"?e.selectorContext.trim():"",w=jg(g,e.selectorDefault,A),E=!!e.selectorEnabled;g==="none"?E=!1:Ss(_)&&(E=!0);var S=_n(e.notes),C="",F="";if(a){if(C=a.id,F=a.name||"",y=a.name||y,!S&&typeof a.notes=="string"){var j=_n(a.notes);j&&(S=j)}}else o&&(C=o,F=r||n||y);return{id:I,name:y,category:_,quantity:T,screenSize:m,selectorType:g,selectorDefault:w,selectorEnabled:E,selectorContext:A,notes:S,contextNotes:f,ownGearId:C,ownGearLabel:F}}function Qt(e){return Array.isArray(e)?Array.from(new Set(e.map(function(t){return typeof t=="string"?t.trim():""}).filter(Boolean))):[]}var RL=new Set(["all","any","multiplier"]);function AE(e){if(typeof e!="string")return"all";var t=e.trim().toLowerCase();return t?t==="or"?"any":t==="and"?"all":t==="any"?"any":t==="multiplier"||t==="multiply"||t==="multiplied"?"multiplier":RL.has(t)?t:"all":"all"}var LL=new Set(["all","any","or","none","multiplier"]),GL={mattebox:"matteboxLogic",cameraHandle:"cameraHandleLogic",viewfinderExtension:"viewfinderExtensionLogic",deliveryResolution:"deliveryResolutionLogic",videoDistribution:"videoDistributionLogic",camera:"cameraLogic",ownGear:"ownGearLogic",monitor:"monitorLogic",tripodHeadBrand:"tripodHeadBrandLogic",tripodBowl:"tripodBowlLogic",tripodTypes:"tripodTypesLogic",tripodSpreader:"tripodSpreaderLogic",crewPresent:"crewPresentLogic",crewAbsent:"crewAbsentLogic",wireless:"wirelessLogic",motors:"motorsLogic",controllers:"controllersLogic",distance:"distanceLogic"};function rt(e){if(typeof e!="string")return"all";var t=e.trim().toLowerCase();return t?t==="or"?"or":t==="and"?"all":t==="any"?"any":t==="none"||t==="no"||t==="exclude"||t==="absent"?"none":t==="multiplier"||t==="multiply"||t==="multiplied"?"multiplier":LL.has(t)?t:(typeof console<"u"&&typeof console.warn=="function"&&console.warn('Unknown auto gear condition logic joiner. Falling back to "all".',e),"all"):"all"}function oo(e,t){if(!e||typeof e!="object")return"all";var o=GL[t],r;if(o&&Object.prototype.hasOwnProperty.call(e,o)&&(r=e[o]),r==null){var n="".concat(t,"Mode");Object.prototype.hasOwnProperty.call(e,n)&&(r=e[n])}return r==null&&e.conditionLogic&&typeof e.conditionLogic=="object"&&(r=e.conditionLogic[t]),rt(r)}function wE(e){var t=parseInt(e,10);return Number.isFinite(t)&&t>1?t:1}function RE(e){return typeof e=="string"?e.trim():""}function LE(e){if(!Array.isArray(e))return[];var t=Qt(e),o=new Set,r=[];return t.forEach(function(n){var a=n.toLowerCase(),l=a==="__none__"||a==="none"?"__none__":n;!l||o.has(l)||(o.add(l),r.push(l))}),r}function Ua(e){return typeof e=="string"?e.trim().toLowerCase():""}function TL(e){if(!e||typeof e!="object")return"";var t=Array.isArray(e.mattebox)?e.mattebox:[];return t.length?t.map(Ua).filter(Boolean).sort(function(o,r){return o.localeCompare(r)}).join("|"):""}var OL=new Set(["minimum","maximum","every"]);function GE(e){if(typeof e!="string")return"minimum";var t=e.trim().toLowerCase();return t?OL.has(t)?t:t==="min"||t==="at least"?"minimum":t==="max"||t==="at most"?"maximum":t==="each"||t==="every"?"every":"minimum":"minimum"}function Ud(e){if(typeof e=="number"&&Number.isFinite(e)){var t=Math.round(e);return t>0?t:null}if(typeof e=="string"){var o=e.trim();if(!o)return null;var r=Number.parseInt(o,10);return Number.isFinite(r)&&r>0?r:null}return null}function TE(e){if(!Array.isArray(e))return[];var t=new Set;return e.forEach(function(o){var r=Ud(o);Number.isFinite(r)&&r>0&&t.add(r)}),Array.from(t).sort(function(o,r){return o-r})}function jf(e){var t,o,r,n,a,l,s,u,f;if(!e)return null;if(Array.isArray(e)){var y=TE(e);if(!y.length)return null;var R=y[y.length-1];return Number.isFinite(R)&&R>0?{mode:"minimum",value:R}:null}if(typeof e=="object"){var _=(n=(r=(o=(t=e.mode)!==null&&t!==void 0?t:e.type)!==null&&o!==void 0?o:e.comparison)!==null&&r!==void 0?r:e.condition)!==null&&n!==void 0?n:e.kind,T=GE(_),I=(f=(u=(s=(l=(a=e.value)!==null&&a!==void 0?a:e.count)!==null&&l!==void 0?l:e.days)!==null&&s!==void 0?s:e.minimum)!==null&&u!==void 0?u:e.maximum)!==null&&f!==void 0?f:e.frequency,m=Ud(I);return Number.isFinite(m)&&m>0?{mode:T,value:m}:null}var g=Ud(e);return Number.isFinite(g)&&g>0?{mode:"minimum",value:g}:null}function Uf(e){if(!e||typeof e!="object")return null;var t=typeof e.id=="string"&&e.id?e.id:bc("rule"),o=typeof e.label=="string"?e.label.trim():"",r=!0;if(typeof e.enabled=="string"){var n=e.enabled.trim().toLowerCase();(n==="false"||n==="0")&&(r=!1)}else e.enabled===!1&&(r=!1);var a=!1;if(Array.isArray(e.always))a=e.always.some(function(Oe){if(typeof Oe=="string"){var Fe=Oe.trim().toLowerCase();return!(!Fe||Fe==="false"||Fe==="0")}return!!Oe});else if(typeof e.always=="string"){var l=e.always.trim().toLowerCase();a=l==="true"||l&&l!=="false"&&l!=="0"}else a=!!e.always;var s=Qt(e.scenarios),u=AE(e.scenarioLogic),f=1,y="";if(u==="multiplier"){f=wE(e.scenarioMultiplier);var R=RE(e.scenarioPrimary),_=Ua(R);if(_){var T=s.find(function(Oe){return Ua(Oe)===_});T?y=T:R&&(y=R,s.push(R))}!y&&s.length&&(y=s[0])}if(s=s.sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),u==="multiplier"&&y){var I=Ua(y),m=s.some(function(Oe){return Ua(Oe)===I});m||(s.push(y),s.sort(function(Oe,Fe){return Oe.localeCompare(Fe)}))}var g=Qt(e.mattebox).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),A=Qt(e.cameraHandle).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),w=Qt(e.viewfinderExtension).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),E=Qt(e.deliveryResolution).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),S=LE(e.videoDistribution).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),C=Qt(e.camera).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),F=Qt(e.ownGear).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),j=normalizeAutoGearCameraWeightCondition(e.cameraWeight),$=Qt(e.monitor).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),x=Qt(e.tripodHeadBrand).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),Q=Qt(e.tripodBowl).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),le=Qt(e.tripodTypes).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),K=Qt(e.tripodSpreader).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),re=Qt(e.crewPresent).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),Ee=Qt(e.crewAbsent).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),ae=Qt(e.wireless).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),Z=Qt(e.motors).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),ce=Qt(e.controllers).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),Le=Qt(e.distance).sort(function(Oe,Fe){return Oe.localeCompare(Fe)}),Pe=jf(e.shootingDays),q=oo(e,"mattebox"),oe=oo(e,"cameraHandle"),ne=oo(e,"viewfinderExtension"),ge=oo(e,"deliveryResolution"),J=oo(e,"videoDistribution"),he=oo(e,"camera"),ke=oo(e,"ownGear"),nt=oo(e,"monitor"),pt=oo(e,"tripodHeadBrand"),Gt=oo(e,"tripodBowl"),Kt=oo(e,"tripodTypes"),Je=oo(e,"tripodSpreader"),ro=oo(e,"crewPresent"),$t=oo(e,"crewAbsent"),Eo=oo(e,"wireless"),Co=oo(e,"motors"),ve=oo(e,"controllers"),Ao=oo(e,"distance"),et={};if(u&&u!=="all"&&(et.scenarios=u),q&&q!=="all"&&(et.mattebox=q),oe&&oe!=="all"&&(et.cameraHandle=oe),ne&&ne!=="all"&&(et.viewfinderExtension=ne),ge&&ge!=="all"&&(et.deliveryResolution=ge),J&&J!=="all"&&(et.videoDistribution=J),he&&he!=="all"&&(et.camera=he),ke&&ke!=="all"&&(et.ownGear=ke),nt&&nt!=="all"&&(et.monitor=nt),pt&&pt!=="all"&&(et.tripodHeadBrand=pt),Gt&&Gt!=="all"&&(et.tripodBowl=Gt),Kt&&Kt!=="all"&&(et.tripodTypes=Kt),Je&&Je!=="all"&&(et.tripodSpreader=Je),ro&&ro!=="all"&&(et.crewPresent=ro),$t&&$t!=="all"&&(et.crewAbsent=$t),Eo&&Eo!=="all"&&(et.wireless=Eo),Co&&Co!=="all"&&(et.motors=Co),ve&&ve!=="all"&&(et.controllers=ve),Ao&&Ao!=="all"&&(et.distance=Ao),!a&&!s.length&&!Pe&&!g.length&&!A.length&&!w.length&&!E.length&&!S.length&&!C.length&&!F.length&&!j&&!$.length&&!x.length&&!Q.length&&!le.length&&!K.length&&!re.length&&!Ee.length&&!ae.length&&!Z.length&&!ce.length&&!Le.length)return null;var no=Array.isArray(e.add)?e.add.map(jd).filter(Boolean):[],eo=Array.isArray(e.remove)?e.remove.map(jd).filter(Boolean):[];return!no.length&&!eo.length?null:{id:t,label:o,always:a,scenarioLogic:u,scenarioPrimary:y,scenarioMultiplier:f,scenarios:s,mattebox:g,cameraHandle:A,viewfinderExtension:w,deliveryResolution:E,videoDistribution:S,camera:C,ownGear:F,cameraWeight:j,monitor:$,tripodHeadBrand:x,tripodBowl:Q,tripodTypes:le,tripodSpreader:K,crewPresent:re,crewAbsent:Ee,wireless:ae,motors:Z,controllers:ce,distance:Le,shootingDays:Pe,matteboxLogic:q,cameraHandleLogic:oe,viewfinderExtensionLogic:ne,deliveryResolutionLogic:ge,videoDistributionLogic:J,cameraLogic:he,ownGearLogic:ke,monitorLogic:nt,tripodHeadBrandLogic:pt,tripodBowlLogic:Gt,tripodTypesLogic:Kt,tripodSpreaderLogic:Je,crewPresentLogic:ro,crewAbsentLogic:$t,wirelessLogic:Eo,motorsLogic:Co,controllersLogic:ve,distanceLogic:Ao,conditionLogic:et,add:no,remove:eo,enabled:r}}function qg(e){var t=jd(e);if(!t)return{name:"",category:"",quantity:0,screenSize:"",selectorType:"none",selectorDefault:"",selectorEnabled:!1,notes:"",ownGearId:"",ownGearLabel:""};var o=t.name,r=t.category,n=t.quantity,a=t.screenSize,l=t.selectorType,s=t.selectorDefault,u=t.selectorEnabled,f=t.notes,y=t.ownGearId,R=t.ownGearLabel;return{name:o,category:r,quantity:Sc(n),screenSize:a,selectorType:l,selectorDefault:s,selectorEnabled:u,notes:f,ownGearId:y,ownGearLabel:R}}function Ns(e){var t=qg(e),o=t.name||"",r=t.category||"",n=Sc(t.quantity),a=t.screenSize||"",l=t.selectorType||"none",s=t.selectorDefault||"",u=t.selectorEnabled?"1":"0",f=t.notes||"",y=t.ownGearId||"",R=t.ownGearLabel||"";return"".concat(o,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(l,"|").concat(u,"|").concat(s,"|").concat(f,"|").concat(y,"|").concat(R)}function OE(e){var t=Uf(e);if(!t)return null;var o=function(r){return r.map(qg).sort(function(n,a){return Ns(n).localeCompare(Ns(a))})};return{label:t.label||"",always:t.always?1:0,scenarios:t.scenarios.slice().sort(function(r,n){return r.localeCompare(n)}),mattebox:t.mattebox.slice().sort(function(r,n){return r.localeCompare(n)}),cameraHandle:t.cameraHandle.slice().sort(function(r,n){return r.localeCompare(n)}),viewfinderExtension:t.viewfinderExtension.slice().sort(function(r,n){return r.localeCompare(n)}),deliveryResolution:t.deliveryResolution.slice().sort(function(r,n){return r.localeCompare(n)}),videoDistribution:t.videoDistribution.slice().sort(function(r,n){return r.localeCompare(n)}),camera:t.camera.slice().sort(function(r,n){return r.localeCompare(n)}),cameraWeight:t.cameraWeight?{operator:t.cameraWeight.operator,value:t.cameraWeight.value}:null,monitor:t.monitor.slice().sort(function(r,n){return r.localeCompare(n)}),tripodHeadBrand:t.tripodHeadBrand.slice().sort(function(r,n){return r.localeCompare(n)}),tripodBowl:t.tripodBowl.slice().sort(function(r,n){return r.localeCompare(n)}),tripodTypes:t.tripodTypes.slice().sort(function(r,n){return r.localeCompare(n)}),tripodSpreader:t.tripodSpreader.slice().sort(function(r,n){return r.localeCompare(n)}),crewPresent:t.crewPresent.slice().sort(function(r,n){return r.localeCompare(n)}),crewAbsent:t.crewAbsent.slice().sort(function(r,n){return r.localeCompare(n)}),wireless:t.wireless.slice().sort(function(r,n){return r.localeCompare(n)}),motors:t.motors.slice().sort(function(r,n){return r.localeCompare(n)}),controllers:t.controllers.slice().sort(function(r,n){return r.localeCompare(n)}),distance:t.distance.slice().sort(function(r,n){return r.localeCompare(n)}),shootingDays:jf(t.shootingDays),matteboxLogic:rt(t.matteboxLogic),cameraHandleLogic:rt(t.cameraHandleLogic),viewfinderExtensionLogic:rt(t.viewfinderExtensionLogic),deliveryResolutionLogic:rt(t.deliveryResolutionLogic),videoDistributionLogic:rt(t.videoDistributionLogic),cameraLogic:rt(t.cameraLogic),monitorLogic:rt(t.monitorLogic),tripodHeadBrandLogic:rt(t.tripodHeadBrandLogic),tripodBowlLogic:rt(t.tripodBowlLogic),tripodTypesLogic:rt(t.tripodTypesLogic),tripodSpreaderLogic:rt(t.tripodSpreaderLogic),crewPresentLogic:rt(t.crewPresentLogic),crewAbsentLogic:rt(t.crewAbsentLogic),wirelessLogic:rt(t.wirelessLogic),motorsLogic:rt(t.motorsLogic),controllersLogic:rt(t.controllersLogic),distanceLogic:rt(t.distanceLogic),conditionLogic:t.conditionLogic?Object.keys(t.conditionLogic).reduce(function(r,n){return r[n]=rt(t.conditionLogic[n]),r},{}):{},add:o(t.add),remove:o(t.remove),enabled:t.enabled?1:0}}function Hy(e){var t=e&&e.always?"1":"0",o=Array.isArray(e.scenarios)?e.scenarios.join("|"):"",r=Array.isArray(e.mattebox)?e.mattebox.join("|"):"",n=Array.isArray(e.cameraHandle)?e.cameraHandle.join("|"):"",a=Array.isArray(e.viewfinderExtension)?e.viewfinderExtension.join("|"):"",l=Array.isArray(e.deliveryResolution)?e.deliveryResolution.join("|"):"",s=Array.isArray(e.videoDistribution)?e.videoDistribution.join("|"):"",u=Array.isArray(e.camera)?e.camera.join("|"):"",f=normalizeAutoGearCameraWeightCondition(e?.cameraWeight),y=f?"".concat(f.operator,":").concat(f.value):"",R=Array.isArray(e.monitor)?e.monitor.join("|"):"",_=Array.isArray(e.tripodHeadBrand)?e.tripodHeadBrand.join("|"):"",T=Array.isArray(e.tripodBowl)?e.tripodBowl.join("|"):"",I=Array.isArray(e.tripodTypes)?e.tripodTypes.join("|"):"",m=Array.isArray(e.tripodSpreader)?e.tripodSpreader.join("|"):"",g=Array.isArray(e.crewPresent)?e.crewPresent.join("|"):"",A=Array.isArray(e.crewAbsent)?e.crewAbsent.join("|"):"",w=Array.isArray(e.wireless)?e.wireless.join("|"):"",E=Array.isArray(e.motors)?e.motors.join("|"):"",S=Array.isArray(e.controllers)?e.controllers.join("|"):"",C=Array.isArray(e.distance)?e.distance.join("|"):"",F=jf(e?.shootingDays),j=F?"".concat(F.mode,":").concat(F.value):"",$=rt(e?.matteboxLogic),x=rt(e?.cameraHandleLogic),Q=rt(e?.viewfinderExtensionLogic),le=rt(e?.deliveryResolutionLogic),K=rt(e?.videoDistributionLogic),re=rt(e?.cameraLogic),Ee=rt(e?.monitorLogic),ae=rt(e?.tripodHeadBrandLogic),Z=rt(e?.tripodBowlLogic),ce=rt(e?.tripodTypesLogic),Le=rt(e?.tripodSpreaderLogic),Pe=rt(e?.crewPresentLogic),q=rt(e?.crewAbsentLogic),oe=rt(e?.wirelessLogic),ne=rt(e?.motorsLogic),ge=rt(e?.controllersLogic),J=rt(e?.distanceLogic),he=Array.isArray(e.add)?e.add.map(Ns).join("|"):"",ke=Array.isArray(e.remove)?e.remove.map(Ns).join("|"):"";return"".concat(t,"|").concat(o,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(l,"|").concat(s,"|").concat(u,"|").concat(y,"|").concat(R,"|").concat(_,"|").concat(T,"|").concat(I,"|").concat(m,"|").concat(g,"|").concat(A,"|").concat(w,"|").concat(E,"|").concat(S,"|").concat(C,"|").concat(j,"|").concat($,"|").concat(x,"|").concat(Q,"|").concat(le,"|").concat(K,"|").concat(re,"|").concat(Ee,"|").concat(ae,"|").concat(Z,"|").concat(ce,"|").concat(Le,"|").concat(Pe,"|").concat(q,"|").concat(oe,"|").concat(ne,"|").concat(ge,"|").concat(J,"|").concat(e.label||"","|").concat(he,"|").concat(ke)}function kE(e){var t=(Array.isArray(e)?e:[]).map(OE).filter(Boolean).sort(function(o,r){return Hy(o).localeCompare(Hy(r))});return lL(t)}function kL(e){if(!e||typeof e!="object")return null;var t=typeof e.label=="string"?e.label.trim():"";if(!t)return null;var o=Array.isArray(e.rules)?e.rules:[],r=o.map(Uf).filter(Boolean),n=typeof e.id=="string"&&e.id?e.id:bc("preset"),a=kE(r);return{id:n,label:t,rules:r,fingerprint:a}}function IL(e){if(!e||typeof e!="object")return null;var t=typeof e.createdAt=="string"?e.createdAt:null,o=t?Date.parse(t):NaN;if(!Number.isFinite(o))return null;var r=new Date(o).toISOString(),n=Array.isArray(e.rules)?e.rules:[],a=n.map(Uf).filter(Boolean),l=n.length===0?[]:a,s=typeof e.id=="string"&&e.id?e.id:bc("backup"),u=Ug(e.monitorDefaults),f=typeof e.note=="string"?e.note:"";return{id:s,createdAt:r,rules:l,monitorDefaults:u,note:f}}var jy={generateAutoGearId:bc,normalizeAutoGearQuantity:Sc,parseAutoGearDraftNames:mL,normalizeAutoGearText:_n,normalizeAutoGearSelectorType:vc,normalizeAutoGearSelectorDefault:jg,resolveDevicesSnapshot:gE,updateGlobalDevicesReference:yL,resolveTripodPreferenceSelect:hE,collectTripodPreferenceOptions:zg,getAutoGearSelectorOptions:bE,getAutoGearSelectorLabel:hL,getAutoGearSelectorScrollHint:bL,getAutoGearSelectorDefaultPlaceholder:SL,getAutoGearMonitorDefaultPlaceholder:vL,formatAutoGearSelectorValue:EL,populateAutoGearCategorySelect:CL,formatAutoGearOwnGearLabel:Vg,refreshAutoGearOwnGearConditionOptions:SE,updateAutoGearOwnGearOptions:AL,isAutoGearMonitoringCategory:Ss,isMonitoringCategorySelected:vE,matchesTripodCategory:ad,isTripodCategorySelected:EE,setAutoGearFieldVisibility:id,updateAutoGearMonitorFieldGroup:wL,extractAutoGearContextNotes:CE,normalizeAutoGearItem:jd,normalizeAutoGearTriggerList:Qt,normalizeAutoGearScenarioLogic:AE,normalizeAutoGearConditionLogic:rt,readAutoGearConditionLogic:oo,normalizeAutoGearScenarioMultiplier:wE,normalizeAutoGearScenarioPrimary:RE,normalizeVideoDistributionTriggerList:LE,normalizeAutoGearTriggerValue:Ua,normalizeAutoGearShootingDayMode:GE,normalizeAutoGearShootingDayValue:Ud,normalizeAutoGearShootingDaysList:TE,normalizeAutoGearShootingDaysCondition:jf,normalizeAutoGearRule:Uf,autoGearItemSnapshot:qg,autoGearItemSortKey:Ns,autoGearRuleMatteboxKey:TL,snapshotAutoGearRuleForFingerprint:OE,autoGearRuleSortKey:Hy,createAutoGearRulesFingerprint:kE,normalizeAutoGearPreset:kL,normalizeAutoGearBackupEntry:IL,normalizeAutoGearMonitorDefaults:Ug,AUTO_GEAR_MONITOR_DEFAULT_TYPES:Hd};typeof module<"u"&&module.exports&&(module.exports=jy);if(typeof globalThis<"u"){var PL=typeof globalThis.AUTO_GEAR_NORMALIZER_EXPORTS=="object"&&globalThis.AUTO_GEAR_NORMALIZER_EXPORTS?globalThis.AUTO_GEAR_NORMALIZER_EXPORTS:globalThis.AUTO_GEAR_NORMALIZER_EXPORTS={};Object.assign(PL,jy),Object.assign(globalThis,jy),globalThis.AUTO_GEAR_MONITOR_DEFAULT_TYPES=Hd,globalThis.normalizeAutoGearMonitorDefaults=Ug}const BL=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var ML=36,Cp=1,_L=120,DL="cineAutoGearPersistence",Cb=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null;function Hs(e){if(!Cb)return null;var t=Cb[e];return typeof t=="number"&&Number.isFinite(t)?t:null}function qn(){var e=[];typeof globalThis<"u"&&e.push(globalThis),typeof window<"u"&&e.push(window),typeof self<"u"&&e.push(self),typeof global<"u"&&e.push(global);for(var t=0;t<e.length;t+=1){var o=e[t];if(!(!o||typeof o!="object"&&typeof o!="function")){if(o.cineAutoGearPersistence)return o.cineAutoGearPersistence;var r=o.cineModules;if(r&&typeof r.get=="function"){var n=r.get(DL);if(n)return n}}}return null}function fi(e,t){var o=qn();if(!o||typeof o[e]!="function")return null;var r=o[e](t);return r&&typeof r.catch=="function"&&r.catch(function(n){console.warn("Auto-Gear persistence failed for ".concat(e),n)}),r}function FL(e,t,o){if(typeof e!="number"||!Number.isFinite(e))return null;var r=Math.round(e);return Number.isFinite(r)?r<t?t:r>o?o:r:null}function zd(){var e=Hs("AUTO_GEAR_BACKUP_RETENTION_MIN_VALUE");if(e!==null)return Math.max(Cp,Math.round(e));var t=Hs("AUTO_GEAR_BACKUP_RETENTION_MIN");return t!==null?Math.max(Cp,Math.round(t)):Cp}function IE(){var e=Hs("AUTO_GEAR_BACKUP_RETENTION_MAX");return e!==null?Math.max(zd(),Math.round(e)):Math.max(zd(),_L)}function Vd(){for(var e=zd(),t=IE(),o=[Hs("AUTO_GEAR_BACKUP_RETENTION_DEFAULT"),Hs("AUTO_GEAR_BACKUP_RETENTION_DEFAULT_VALUE"),ML],r=0;r<o.length;r+=1){var n=o[r],a=FL(n,e,t);if(typeof a=="number")return a}return e}function PE(e){e===void 0&&(e=Vd());var t=[],o=qn();if(o&&typeof o.readAutoGearBackups=="function")t=o.readAutoGearBackups();else if(typeof loadAutoGearBackups=="function")try{t=loadAutoGearBackups()}catch(n){console.warn("Failed to load automatic gear backups",n),t=[]}if(!Array.isArray(t))return[];var r=Sl(e);return t.map(normalizeAutoGearBackupEntry).filter(Boolean).sort(function(n,a){return n.createdAt===a.createdAt?0:n.createdAt>a.createdAt?-1:1}).slice(0,r)}function xL(e){return e.sort(function(t,o){return t.label.localeCompare(o.label,void 0,{sensitivity:"base",numeric:!0})})}function NL(){var e=[],t=qn();if(t&&typeof t.readAutoGearPresets=="function")e=t.readAutoGearPresets();else if(typeof loadAutoGearPresets=="function")try{e=loadAutoGearPresets()}catch(o){console.warn("Failed to load automatic gear presets",o),e=[]}return Array.isArray(e)?xL(e.map(normalizeAutoGearPreset).filter(Boolean)):[]}function HL(e){var t=Array.isArray(e)?e.map(function(o){return{id:o.id,label:o.label,rules:Array.isArray(o.rules)?o.rules:[]}}):[];if(!fi("persistAutoGearPresets",t)&&typeof saveAutoGearPresets=="function")try{saveAutoGearPresets(t);return}catch(o){console.warn("Failed to save automatic gear presets",o)}}function jL(){var e={},t=qn();if(t&&typeof t.readAutoGearMonitorDefaults=="function")e=t.readAutoGearMonitorDefaults();else if(typeof loadAutoGearMonitorDefaults=="function")try{e=loadAutoGearMonitorDefaults()}catch(o){console.warn("Failed to load automatic gear monitor defaults",o),e={}}return normalizeAutoGearMonitorDefaults(e)}function UL(e){var t=normalizeAutoGearMonitorDefaults(e);if(fi("persistAutoGearMonitorDefaults",t))return t;if(typeof saveAutoGearMonitorDefaults=="function")try{return saveAutoGearMonitorDefaults(t),t}catch(o){console.warn("Failed to save automatic gear monitor defaults",o)}return t}function zL(){var e=qn();if(e&&typeof e.readActivePresetId=="function")return e.readActivePresetId();if(typeof loadAutoGearActivePresetId=="function")try{var t=loadAutoGearActivePresetId();return typeof t=="string"?t:""}catch(o){return console.warn("Failed to load automatic gear active preset id",o),""}return""}function VL(e){if(!fi("persistActivePresetId",e)&&typeof saveAutoGearActivePresetId=="function")try{saveAutoGearActivePresetId(typeof e=="string"?e:"");return}catch(t){console.warn("Failed to save automatic gear active preset id",t)}}function qL(){var e=qn();if(e&&typeof e.readAutoPresetId=="function")return e.readAutoPresetId();if(typeof loadAutoGearAutoPresetId=="function")try{var t=loadAutoGearAutoPresetId();return typeof t=="string"?t:""}catch(o){return console.warn("Failed to load automatic gear auto preset id",o),""}return""}function WL(e){if(!fi("persistAutoPresetId",e)&&typeof saveAutoGearAutoPresetId=="function")try{saveAutoGearAutoPresetId(typeof e=="string"?e:"");return}catch(t){console.warn("Failed to save automatic gear auto preset id",t)}}function KL(){var e=qn();if(e&&typeof e.readBackupVisibility=="function")return e.readBackupVisibility();if(typeof loadAutoGearBackupVisibility=="function")try{return!!loadAutoGearBackupVisibility()}catch(t){return console.warn("Failed to load automatic gear backup visibility",t),!1}return!1}function $L(e){var t=!!e;if(!fi("persistBackupVisibility",t)&&typeof saveAutoGearBackupVisibility=="function")try{saveAutoGearBackupVisibility(t);return}catch(o){console.warn("Failed to save automatic gear backup visibility",o)}}function Sl(e){var t=Number(e);if(!Number.isFinite(t))return Vd();var o=Math.round(t);if(!Number.isFinite(o))return Vd();var r=zd(),n=IE();return o<r?r:o>n?n:o}function YL(){var e=qn();if(e&&typeof e.readBackupRetention=="function"){var t=e.readBackupRetention();if(t!==null&&typeof t<"u")return Sl(t)}if(typeof loadAutoGearBackupRetention=="function")try{return Sl(loadAutoGearBackupRetention())}catch(o){console.warn("Failed to load automatic gear backup retention",o)}return Vd()}function Uy(e){var t=Sl(e);if(fi("persistBackupRetention",t))return!0;if(typeof saveAutoGearBackupRetention=="function")try{return saveAutoGearBackupRetention(t),!0}catch(o){console.warn("Failed to save automatic gear backup retention",o)}return!1}function zy(e){var t=Array.isArray(e)?e.map(function(r){return{id:r.id,createdAt:r.createdAt,rules:Array.isArray(r.rules)?r.rules:[],monitorDefaults:normalizeAutoGearMonitorDefaults(r.monitorDefaults),note:typeof r.note=="string"?r.note:void 0}}):[];if(fi("persistAutoGearBackups",t))return t;if(typeof saveAutoGearBackups=="function"){var o=saveAutoGearBackups(t);return Array.isArray(o)?o:t}throw new Error("Storage unavailable")}function Ic(e,t){var o=[];typeof globalThis<"u"&&o.push(globalThis),typeof window<"u"&&o.push(window),typeof self<"u"&&o.push(self),typeof global<"u"&&o.push(global);for(var r=0;r<o.length;r+=1){var n=o[r];if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e]=t,!0}return!1}function QL(e){var t=Sl(e),o=autoGearBackupRetention;if(t===o)return callCoreFunctionIfAvailable("renderAutoGearBackupRetentionControls",[],{defer:!0}),{success:!0,trimmed:[],previousLimit:o};var r=autoGearBackups.slice(),n=[],a=Uy(t);if(!a)return autoGearBackupRetentionInput&&(autoGearBackupRetentionInput.value=String(autoGearBackupRetention)),callCoreFunctionIfAvailable("renderAutoGearBackupRetentionControls",[],{defer:!0}),{success:!1,error:new Error("retention-persist-failed"),previousLimit:o};if(Ic("autoGearBackupRetention",t),autoGearBackups.length>t){var l=autoGearBackups.slice(0,t);n.push.apply(n,autoGearBackups.slice(t));try{var s=zy(l)||[],u=Array.isArray(s)?s:[];u.length<l.length&&n.push.apply(n,l.slice(u.length)),Ic("autoGearBackups",u)}catch(f){console.warn("Failed to trim automatic gear backups to retention limit",f),Ic("autoGearBackupRetention",o),Uy(o);try{zy(r)}catch(y){console.warn("Failed to restore automatic gear backups after trim error",y)}return Ic("autoGearBackups",PE(o)),callCoreFunctionIfAvailable("renderAutoGearBackupControls",[],{defer:!0}),callCoreFunctionIfAvailable("renderAutoGearBackupRetentionControls",[],{defer:!0}),{success:!1,error:f,previousLimit:o}}}return callCoreFunctionIfAvailable("renderAutoGearBackupControls",[],{defer:!0}),callCoreFunctionIfAvailable("renderAutoGearBackupRetentionControls",[],{defer:!0}),{success:!0,trimmed:n,previousLimit:o}}function XL(){var e=[],t=qn();if(t&&typeof t.readAutoGearRules=="function")e=t.readAutoGearRules();else if(typeof loadAutoGearRules<"u"&&typeof loadAutoGearRules=="function")try{e=loadAutoGearRules()}catch(o){console.warn("Failed to load automatic gear rules",o),e=[]}return Array.isArray(e)?e.map(normalizeAutoGearRule).filter(Boolean):[]}var qd={readAutoGearBackupsFromStorage:PE,readAutoGearPresetsFromStorage:NL,persistAutoGearPresets:HL,normalizeAutoGearMonitorDefaults,readAutoGearMonitorDefaultsFromStorage:jL,persistAutoGearMonitorDefaults:UL,readActiveAutoGearPresetIdFromStorage:zL,persistActiveAutoGearPresetId:VL,readAutoGearAutoPresetIdFromStorage:qL,persistAutoGearAutoPresetId:WL,readAutoGearBackupVisibilityFromStorage:KL,persistAutoGearBackupVisibility:$L,clampAutoGearBackupRetentionLimit:Sl,readAutoGearBackupRetentionFromStorage:YL,persistAutoGearBackupRetention:Uy,persistAutoGearBackups:zy,enforceAutoGearBackupRetentionLimit:QL,readAutoGearRulesFromStorage:XL};typeof module<"u"&&module.exports&&(module.exports=qd);if(typeof globalThis<"u"){var ZL=typeof globalThis.AUTO_GEAR_STORAGE_EXPORTS=="object"&&globalThis.AUTO_GEAR_STORAGE_EXPORTS?globalThis.AUTO_GEAR_STORAGE_EXPORTS:globalThis.AUTO_GEAR_STORAGE_EXPORTS={};Object.assign(ZL,qd)}(function(){for(var e=[typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null],t=function(u,f,y){if(!(!u||typeof u!="object"&&typeof u!="function")&&typeof u[f]!="function")try{u[f]=y}catch{try{Object.defineProperty(u,f,{configurable:!0,enumerable:!1,writable:!0,value:y})}catch{}}},o=Object.keys(qd),r=0;r<e.length;r+=1){var n=e[r];if(n)for(var a=0;a<o.length;a+=1){var l=o[a],s=qd[l];typeof s=="function"&&t(n,l,s)}}})();const JL=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),js=`
`;function Us(e,t=js){const o=typeof t=="string"&&t?t:js;if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean"){try{return String(e)}catch{}return""}if(Array.isArray(e)){const r=[];for(let n=0;n<e.length;n+=1){const a=Us(e[n],o);a&&r.push(a)}return r.join(o)}if(e&&typeof e=="object"){if(typeof e.text=="string")return e.text;if(Array.isArray(e.text))return Us(e.text,o);if(typeof e.label=="string")return e.label;try{const r=String(e);if(r&&r!=="[object Object]")return r}catch{}}return""}function BE(e,t,o,r="",n=js){const a=typeof r=="string"?r:"",l=[];e&&(typeof e=="object"||typeof e=="function")&&l.push(e),t&&t!==e&&(typeof t=="object"||typeof t=="function")&&l.push(t);for(let s=0;s<l.length;s+=1){const u=l[s];let f;try{f=u[o]}catch{f=void 0}if(typeof f>"u"||f===null)continue;const y=Us(f,n);if(typeof y=="string")return y}return a}const eG=Object.freeze(Object.defineProperty({__proto__:null,TEXT_ENTRY_SEPARATOR:js,normaliseTextEntryValue:Us,resolveTextEntry:BE},Symbol.toStringTag,{value:"Module"}));function Wg(){return typeof document<"u"?document:null}function Kg(e){let t=null;const o=Wg();return o&&(t=o.createElement("div")),t?(t.textContent=e,t.innerHTML):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function zs(e){if(typeof e!="string"||e==="")return"";try{return Kg(e)}catch{}return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Vy(e){return typeof e!="number"?!1:typeof Number.isFinite=="function"?Number.isFinite(e):isFinite(e)}function Pc(e,t){const o=parseInt(e,t);if(!Vy(o)||o<0)return"";try{if(typeof String.fromCodePoint=="function")return String.fromCodePoint(o)}catch{}return o<=65535?String.fromCharCode(o):""}function Ab(e){if(typeof e!="string")return"";const t=e.trim();if(!t)return"";const o=t.match(/^(?:\\)+u([0-9A-Fa-f]{4})$/);if(o){const l=Pc(o[1],16);if(l)return l}const r=t.match(/^(?:\\)+u\{([0-9A-Fa-f]+)\}$/);if(r){const l=Pc(r[1],16);if(l)return l}const n=t.match(/^&#x([0-9A-Fa-f]+);$/i);if(n){const l=Pc(n[1],16);if(l)return l}const a=t.match(/^&#(\d+);$/);if(a){const l=Pc(a[1],10);if(l)return l}return t}function tG(e){if(typeof e=="string")return zs(e);if(e===null||typeof e>"u")return"";try{return zs(String(e))}catch{}return""}function oG(e){if(!e)return null;if(typeof e=="string"){const f=Ab(e);return f?{char:f,font:"uicons",className:""}:null}if(typeof e!="object")return null;const t=typeof e.markup=="string"?e.markup.trim():"",o=typeof e.className=="string"?e.className:"",r=typeof e.style=="string"?e.style:"",n=e.size,a=e.scale;if(t)return{markup:t,className:o,style:r,size:n,scale:a};const l=typeof e.char=="string"&&e.char?e.char:typeof e.character=="string"&&e.character?e.character:typeof e.glyph=="string"&&e.glyph?e.glyph:typeof e.unicode=="string"&&e.unicode?e.unicode:"",s=Ab(l);if(!s)return null;const u=typeof e.font=="string"&&e.font.trim()?e.font.trim():"uicons";return{char:s,font:u,className:o,style:r,size:n,scale:a}}function rG(e,t){const o=oG(e);if(!o)return"";const r=["icon-glyph"];r.unshift(t),o.className&&o.className.split(/\s+/).filter(Boolean).forEach(f=>{r.indexOf(f)===-1&&r.push(f)});const n=[];Vy(o.size)&&o.size>0?n.push(`--icon-size: ${o.size}px`):typeof o.size=="string"&&o.size.trim()&&n.push(`--icon-size: ${o.size.trim()}`),Vy(o.scale)&&o.scale>0?n.push(`--icon-scale: ${o.scale}`):typeof o.scale=="string"&&o.scale.trim()&&n.push(`--icon-scale: ${o.scale.trim()}`),typeof o.style=="string"&&o.style.trim()&&n.push(o.style.trim());const a=n.length?` style="${n.join(";")}"`:"";if(o.markup)return`<span class="${r.join(" ")}"${a} aria-hidden="true">${o.markup}</span>`;const l=typeof o.char=="string"?o.char:"";if(!l)return"";const s=typeof o.font=="string"?o.font:"uicons",u=s?` data-icon-font="${tG(s)}"`:"";return`<span class="${r.join(" ")}"${a}${u} aria-hidden="true">${Kg(l)}</span>`}function ME(e,t){if(!e)return"";if(typeof t=="function")try{return t(e,"btn-icon")}catch{}return rG(e,"btn-icon")}function nG(e,t,o,r){if(!e)return;const n=Wg(),a=ME(o,r),l=typeof t=="string"?t:"";if(e.firstChild)for(;e.firstChild;)e.removeChild(e.firstChild);if(n&&a){const s=n.createElement("span");for(s.innerHTML=a;s.firstChild;)e.appendChild(s.firstChild)}else if(!n&&a&&typeof e.innerHTML=="string"){e.innerHTML=`${a}${zs(l)}`;return}n?e.appendChild(n.createTextNode(l)):typeof e.textContent=="string"?e.textContent=l:typeof e.innerHTML=="string"&&(e.innerHTML=zs(l))}function aG(e,t,o={}){if(!e||typeof t!="function")return!1;const r=Wg();if(!r)return!1;const n=y=>{let R=r.getElementById(y);if(!R)try{R=r.querySelector(y)}catch{}return R},a=n(e);if(a){try{t(a)}catch(y){typeof console<"u"&&console.error(`whenElementAvailable: handler for ${e} failed`,y)}return!0}const l=typeof o.maxAttempts=="number"?o.maxAttempts:150,s=typeof o.interval=="number"&&o.interval>0?o.interval:100;let u=0;const f=()=>{u+=1;const y=n(e);if(y){try{t(y)}catch(R){typeof console<"u"&&console.error(`whenElementAvailable: polled handler for ${e} failed`,R)}return}if(u<l)setTimeout(f,s);else if(typeof o.onTimeout=="function")try{o.onTimeout()}catch{}};return setTimeout(f,s),!0}(()=>{if(typeof window>"u")return null;try{if(!("localStorage"in window))return null;const{localStorage:e}=window,t="__schema_cache__";return e.setItem(t,"1"),e.removeItem(t),e}catch(e){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("Device schema cache disabled",e),null}})();const iG=eG,lG="cameraPowerPlanner_temperatureUnit";function sG(e=[]){for(const t of e)if(t){if(t.TEMPERATURE_STORAGE_KEY)return t.TEMPERATURE_STORAGE_KEY;if(t.TEMPERATURE_UNIT_STORAGE_KEY)return t.TEMPERATURE_UNIT_STORAGE_KEY;if(t.CORE_SHARED?.TEMPERATURE_STORAGE_KEY)return t.CORE_SHARED.TEMPERATURE_STORAGE_KEY;if(t.__cineStorageApi){if(t.__cineStorageApi.TEMPERATURE_STORAGE_KEY)return t.__cineStorageApi.TEMPERATURE_STORAGE_KEY;if(typeof t.__cineStorageApi.getTemperaturePreferenceStorageKey=="function")try{const o=t.__cineStorageApi.getTemperaturePreferenceStorageKey();if(o)return o}catch{}}if(typeof t.resolveTemperatureStorageKey=="function")try{const o=t.resolveTemperatureStorageKey();if(o)return o}catch{}}return lG}function Ec(e,t,o){return o&&o[e]?o[e]:typeof window<"u"&&window[e]?window[e]:null}sG(Ca());const cG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};function $r(e,t){return Ec(e,t,cG)}const Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:null;Ap&&(Ap.resolveTextEntryInternal||(Ap.resolveTextEntryInternal=iG.resolveTextEntry));function Lt(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Qa(e){return typeof e=="function"?e:typeof require=="function"?require:null}function ni(e){return Array.isArray(e)?e.slice():[]}function _E(e,t){const o=arguments.length>1,r=o?e:null,n=o?t:e,a={};if(r&&Lt(r)&&!Array.isArray(r)){const s=Object.keys(r);for(let u=0;u<s.length;u+=1){const f=s[u];a[f]=r[f]}}a.resolveCoreSupportModule=typeof a.resolveCoreSupportModule=="function"?a.resolveCoreSupportModule:null,a.requireFn=Qa(a.requireFn),a.runtimeScope=a.runtimeScope&&Lt(a.runtimeScope)?a.runtimeScope:null,a.coreGlobalScope=a.coreGlobalScope&&Lt(a.coreGlobalScope)?a.coreGlobalScope:null,a.fallbackScopes=ni(a.fallbackScopes);function l(s){if(!s)return;if(Array.isArray(s)){a.fallbackScopes=s.slice();return}if(!Lt(s))return;Array.isArray(s.fallbackScopes)?a.fallbackScopes=s.fallbackScopes.slice():s.fallbackScopes&&(a.fallbackScopes=[s.fallbackScopes]),s.runtimeScope&&Lt(s.runtimeScope)&&(a.runtimeScope=s.runtimeScope),s.coreGlobalScope&&Lt(s.coreGlobalScope)&&(a.coreGlobalScope=s.coreGlobalScope),typeof s.requireFn=="function"?a.requireFn=s.requireFn:Object.prototype.hasOwnProperty.call(s,"requireFn")&&(a.requireFn=Qa(s.requireFn)),typeof s.resolveCoreSupportModule=="function"?a.resolveCoreSupportModule=s.resolveCoreSupportModule:Object.prototype.hasOwnProperty.call(s,"resolveCoreSupportModule")&&(a.resolveCoreSupportModule=null);const u=Object.keys(s);for(let f=0;f<u.length;f+=1){const y=u[f];y==="fallbackScopes"||y==="runtimeScope"||y==="coreGlobalScope"||y==="requireFn"||y==="resolveCoreSupportModule"||(a[y]=s[y])}}return l(n),a.requireFn=Qa(a.requireFn),a.fallbackScopes=ni(a.fallbackScopes),a}function $g(e,t,o){if(!Array.isArray(e))return[];const r=e.slice();t&&Lt(t)&&r.indexOf(t)===-1&&r.push(t),o&&Lt(o)&&r.indexOf(o)===-1&&r.push(o);const n=[typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let a=0;a<n.length;a+=1){const l=n[a];!l||!Lt(l)||r.indexOf(l)===-1&&r.push(l)}return r}function Yg(e){const t=_E(e),o=t.runtimeScope,r=t.coreGlobalScope,n=ni(t.fallbackScopes),a=t.bootstrapEnvironmentTools||t.bootstrapEnvironment||(t._isResolvingEnvironment?null:DE(t)),l=t.bootstrapResultsTools||(e&&e.getBootstrapResultsTools?e.getBootstrapResultsTools(t):null);if(l&&typeof l.collectBootstrapFallbackScopes=="function"){const s=a&&typeof a.collectFallbackScopes=="function"?function(f){try{const y=a.collectFallbackScopes({fallbackScopes:Array.isArray(f)?f:ni(f),runtimeScope:o,coreGlobalScope:r});if(Array.isArray(y))return y}catch{}if(Array.isArray(f))try{const y=a.collectFallbackScopes(f);if(Array.isArray(y))return y}catch{}return null}:null;try{const u=l.collectBootstrapFallbackScopes({fallbackScopes:n,runtimeScope:o,coreGlobalScope:r,collectFallbackScopes:s});if(Array.isArray(u))return u}catch{}}if(a&&typeof a.collectFallbackScopes=="function"){try{const s=a.collectFallbackScopes({fallbackScopes:n,runtimeScope:o,coreGlobalScope:r});if(Array.isArray(s))return s}catch{}if(Array.isArray(n))try{const s=a.collectFallbackScopes(n);if(Array.isArray(s))return s}catch{}}return $g(n,o,r)}function Qg(e,t,o){const r=o&&Lt(o.directNamespace)?o.directNamespace:null;if(r)return r;const n=o&&typeof o.resolveCoreSupportModule=="function"?o.resolveCoreSupportModule:null;if(n)try{const s=n(e,t);if(s&&Lt(s))return s}catch{}const a=Qa(o&&o.requireFn);if(typeof a=="function"&&t)try{const s=a(t);if(s&&Lt(s))return s}catch{}const l=Yg(o);for(let s=0;s<l.length;s+=1){const u=l[s];if(!(!u||!Lt(u)))try{const f=u[e];if(f&&Lt(f))return f}catch{}}return null}function DE(e){return e&&Lt(e.bootstrapEnvironmentTools)?e.bootstrapEnvironmentTools:e&&Lt(e.bootstrapEnvironment)?e.bootstrapEnvironment:FE(e)}function FE(e){const t=e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):{};return!t.directNamespace&&e&&Lt(e.directBootstrapEnvironmentNamespace)&&(t.directNamespace=e.directBootstrapEnvironmentNamespace),t._isResolvingEnvironment=!0,Qg("cineCoreAppCoreBootstrapEnvironment","./modules/app-core/bootstrap.js",t)}function xE(e){const t=e&&Lt(e.runtimeScope)?e.runtimeScope:null,o=e&&Lt(e.coreGlobalScope)?e.coreGlobalScope:null;return $g(ni(e&&e.fallbackScopes),t,o)}function Oa(e){return!!e&&typeof e=="object"&&typeof e.resolveBootstrapTools=="function"&&typeof e.resolveBootstrapFallbackTools=="function"&&typeof e.createInlineLocalizationFallback=="function"&&typeof e.createInlineRuntimeSharedFallback=="function"}function NE(e){const t=e&&Lt(e.directResolverNamespace)?e.directResolverNamespace:null;if(Oa(t))return t;const o={resolveCoreSupportModule:e&&typeof e.resolveCoreSupportModule=="function"?e.resolveCoreSupportModule:null,requireFn:Qa(e&&e.requireFn),runtimeScope:e&&Lt(e.runtimeScope)?e.runtimeScope:null,coreGlobalScope:e&&Lt(e.coreGlobalScope)?e.coreGlobalScope:null,fallbackScopes:ni(e&&e.fallbackScopes)},r=Qg("cineCoreAppCoreBootstrapResolver","./modules/app-core/bootstrap.js",Object.assign({},o,{directNamespace:t}));if(Oa(r))return r;if(r&&Lt(r.cineCoreAppCoreBootstrapResolver)&&Oa(r.cineCoreAppCoreBootstrapResolver))return r.cineCoreAppCoreBootstrapResolver;if(r&&Lt(r.cineCoreAppCoreBootstrap)&&Oa(r.cineCoreAppCoreBootstrap))return r.cineCoreAppCoreBootstrap;const n=Yg(o);for(let a=0;a<n.length;a+=1){const l=n[a];if(!(!l||!Lt(l)))try{const s=l.cineCoreAppCoreBootstrapResolver;if(Oa(s))return s;const u=l.cineCoreAppCoreBootstrap;if(Oa(u))return u}catch{}}return null}function uG(e){const t=Qa(e&&e.requireFn),o=e&&Lt(e.runtimeScope)?e.runtimeScope:null,r=e&&Lt(e.coreGlobalScope)?e.coreGlobalScope:null,n=xE({runtimeScope:o,coreGlobalScope:r,fallbackScopes:e&&e.fallbackScopes}),a=NE({directResolverNamespace:e&&e.directResolverNamespace,resolveCoreSupportModule:e&&e.resolveCoreSupportModule,requireFn:t,runtimeScope:o,coreGlobalScope:r,fallbackScopes:n});return{fallbackScopes:n,bootstrapResolverTools:a}}const Xr={createBootstrapEnvironment:uG,resolveBootstrapResolverTools:NE,resolveBootstrapEnvironmentTools:FE,collectFallbackScopes:xE,normalizeBootstrapInvocationOptions:_E,collectBootstrapFallbackScopes:Yg,resolveNamespace:Qg,ensureRequireFn:Qa,ensureArray:ni,isObject:Lt,appendFallbackScopes:$g,hasBootstrapResolverCapabilities:Oa,getBootstrapEnvironmentTools:DE},{isObject:gt,ensureArray:wb,ensureRequireFn:HE}=Xr;function vr(e,t){!t||!gt(t)||Array.isArray(e)&&e.indexOf(t)===-1&&e.push(t)}function Xa(e,t){if(typeof e!="function")return null;try{const o=e(t);return o&&typeof o=="object"?o:null}catch{}return null}function zf(e){const t=e&&gt(e.runtimeScope)?e.runtimeScope:null,o=e&&gt(e.coreGlobalScope)?e.coreGlobalScope:null,r=e?e.fallbackScopes:null;if(e&&typeof e.collectFallbackScopes=="function")try{const a=e.collectFallbackScopes(r);if(Array.isArray(a)){const l=wb(a);return vr(l,t),vr(l,o),vr(l,typeof globalThis<"u"?globalThis:null),vr(l,typeof window<"u"?window:null),vr(l,typeof self<"u"?self:null),vr(l,typeof global<"u"?global:null),l}}catch{}const n=wb(r);return vr(n,t),vr(n,o),vr(n,typeof globalThis<"u"?globalThis:null),vr(n,typeof window<"u"?window:null),vr(n,typeof self<"u"?self:null),vr(n,typeof global<"u"?global:null),n}function jE(){return{localizationSupport:null,localizationRuntimeEnvironment:null,localizationBridge:null,localizationFallbacks:null,inlineLocalizationFallbacks:null,localizationFallbackSupport:null,createBasicLocalizationFallbackResolvers(){return null},localizationFallbackRegistry:{createFallbackResolvers(){return null}},localizationFallbackResolvers:null,localizationFallbackNamespace:null,fallbackResolveLocaleModule(){return null},createLocaleFallbacks(){return null}}}function UE(e){const t=zf(e||null),o=e&&gt(e.currentRuntimeShared)?e.currentRuntimeShared:null;function r(){for(let a=0;a<t.length;a+=1){const l=t[a];if(gt(l))try{const s=l.cineCoreRuntimeShared;if(s&&typeof s=="object")return s}catch{}}return null}let n=o;if((!n||typeof n!="object")&&(n=r()),!n||typeof n!="object")try{n=Object.create(null)}catch{n={}}return{runtimeSharedNamespace:null,runtimeSharedResolver:null,existingRuntimeShared:n,runtimeShared:n,fallbackResolveRuntimeSharedFromGlobal:r}}function zE(e){const t=e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):{};return!t.directNamespace&&e&&gt(e.directBootstrapResultsNamespace)&&(t.directNamespace=e.directBootstrapResultsNamespace),Xr.resolveNamespace("cineCoreAppCoreBootstrapResults","./modules/app-core/bootstrap.js",t)}function dG(e){return e&&gt(e.bootstrapResultsTools)?e.bootstrapResultsTools:e&&gt(e.resultsTools)?e.resultsTools:zE(e)}function fG(e){const t=e&&gt(e.runtimeScope)?e.runtimeScope:null,o=e&&gt(e.coreGlobalScope)?e.coreGlobalScope:null,r=zf({runtimeScope:t,coreGlobalScope:o,fallbackScopes:e&&e.fallbackScopes,collectFallbackScopes:e&&e.collectFallbackScopes}),n=HE(e&&e.requireFn),a=e&&typeof e.resolveCoreSupportModule=="function"?e.resolveCoreSupportModule:null,l={localizationSupportTools:e&&gt(e.localizationSupportTools)?e.localizationSupportTools:null,localizationBootstrapTools:e&&gt(e.localizationBootstrapTools)?e.localizationBootstrapTools:null,localizationRuntimeTools:e&&gt(e.localizationRuntimeTools)?e.localizationRuntimeTools:null,resolveCoreSupportModule:a,requireFn:n,runtimeScope:t,coreGlobalScope:o,fallbackScopes:r,currentLocalization:e&&gt(e.currentLocalization)?e.currentLocalization:null},s=e&&gt(e.bootstrapTools)?e.bootstrapTools:null;let u=Xa(s&&s.createLocalizationBootstrapResult,l);if(u||(u=Xa(s&&s.createLocalizationBootstrapFallback,l)),!u){const f=e&&typeof e.createInlineLocalizationFallback=="function"?e.createInlineLocalizationFallback:null;u=Xa(f,{fallbackTools:e&&gt(e.bootstrapFallbackTools)?e.bootstrapFallbackTools:null,resolveCoreSupportModule:a,requireFn:n,runtimeScope:t,coreGlobalScope:o,fallbackScopes:r,localizationFallbackOptions:e&&e.localizationFallbackOptions?e.localizationFallbackOptions:null})}return u||(u=jE()),u}function pG(e){const t=e&&gt(e.runtimeScope)?e.runtimeScope:null,o=e&&gt(e.coreGlobalScope)?e.coreGlobalScope:null,r=zf({runtimeScope:t,coreGlobalScope:o,fallbackScopes:e&&e.fallbackScopes,collectFallbackScopes:e&&e.collectFallbackScopes}),n=HE(e&&e.requireFn),a=e&&typeof e.resolveCoreSupportModule=="function"?e.resolveCoreSupportModule:null,l={runtimeSharedBootstrapResolverTools:e&&gt(e.runtimeSharedBootstrapResolverTools)?e.runtimeSharedBootstrapResolverTools:null,runtimeSharedBootstrapTools:e&&gt(e.runtimeSharedBootstrapTools)?e.runtimeSharedBootstrapTools:null,runtimeSharedNamespaceTools:e&&gt(e.runtimeSharedNamespaceTools)?e.runtimeSharedNamespaceTools:null,runtimeSharedBootstrapInlineTools:e&&gt(e.runtimeSharedBootstrapInlineTools)?e.runtimeSharedBootstrapInlineTools:null,runtimeSharedBootstrapResultTools:e&&gt(e.runtimeSharedBootstrapResultTools)?e.runtimeSharedBootstrapResultTools:null,runtimeSharedBootstrapLoaderTools:e&&gt(e.runtimeSharedBootstrapLoaderTools)?e.runtimeSharedBootstrapLoaderTools:null,runtimeSharedBootstrapManagerTools:e&&gt(e.runtimeSharedBootstrapManagerTools)?e.runtimeSharedBootstrapManagerTools:null,resolveCoreSupportModule:a,requireFn:n,runtimeScope:t,coreGlobalScope:o,currentRuntimeShared:e&&gt(e.currentRuntimeShared)?e.currentRuntimeShared:null,fallbackScopes:r,runtimeSharedBootstrapInlineRequirePath:e&&e.runtimeSharedBootstrapInlineRequirePath?e.runtimeSharedBootstrapInlineRequirePath:null,runtimeSharedBootstrapResultRequirePath:e&&e.runtimeSharedBootstrapResultRequirePath?e.runtimeSharedBootstrapResultRequirePath:null},s=e&&gt(e.bootstrapTools)?e.bootstrapTools:null;let u=Xa(s&&s.createRuntimeSharedBootstrapResult,l);if(u||(u=Xa(s&&s.createRuntimeSharedBootstrapFallback,l)),!u){const f=e&&typeof e.createInlineRuntimeSharedFallback=="function"?e.createInlineRuntimeSharedFallback:null;u=Xa(f,{fallbackTools:e&&gt(e.bootstrapFallbackTools)?e.bootstrapFallbackTools:null,resolveCoreSupportModule:a,requireFn:n,runtimeScope:t,coreGlobalScope:o,fallbackScopes:r,currentRuntimeShared:e&&gt(e.currentRuntimeShared)?e.currentRuntimeShared:null})}return u||(u=UE({runtimeScope:t,coreGlobalScope:o,fallbackScopes:r,currentRuntimeShared:e&&gt(e.currentRuntimeShared)?e.currentRuntimeShared:null})),u}const Xg={resolveLocalizationBootstrapResult:fG,resolveRuntimeSharedBootstrapResult:pG,collectBootstrapFallbackScopes:function(e){return zf(e||null)},createLocalizationFallbackSkeleton:jE,createRuntimeSharedFallbackSkeleton:UE,resolveBootstrapResultsTools:zE,getBootstrapResultsTools:dG,attemptFactory:Xa},{isObject:De,ensureRequireFn:Zg,ensureArray:mG,resolveNamespace:VE,normalizeBootstrapInvocationOptions:ai,collectBootstrapFallbackScopes:Jg,getBootstrapEnvironmentTools:eh,resolveBootstrapResolverTools:qE,resolveBootstrapEnvironmentTools:WE,createBootstrapEnvironment:yG}=Xr,{createLocalizationFallbackSkeleton:gG,createRuntimeSharedFallbackSkeleton:hG,resolveLocalizationBootstrapResult:bG,resolveRuntimeSharedBootstrapResult:KE,resolveBootstrapResultsTools:$E,attemptFactory:wp,getBootstrapResultsTools:th}=Xg;function YE(e){const t=e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):{};return!t.directNamespace&&e&&De(e.directBootstrapNamespace)&&(t.directNamespace=e.directBootstrapNamespace),VE("cineCoreAppCoreBootstrap","./modules/app-core/bootstrap.js",t)}function oh(e){const t=e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):{};return!t.directNamespace&&e&&De(e.directBootstrapFallbackNamespace)&&(t.directNamespace=e.directBootstrapFallbackNamespace),VE("cineCoreAppCoreBootstrapFallbacks","./modules/app-core/bootstrap.js",t)}function QE(e){return e&&De(e.bootstrapFallbackTools)?e.bootstrapFallbackTools:e&&De(e.fallbackTools)?e.fallbackTools:oh(e)}function XE(e){return e&&De(e.bootstrapResolverTools)&&Xr.hasBootstrapResolverCapabilities(e.bootstrapResolverTools)?e.bootstrapResolverTools:qE(e)}function SG(e){const t=e&&De(e.bootstrapResolverTools)?e.bootstrapResolverTools:null;if(t&&typeof t.resolveBootstrapTools=="function")try{const l=t.resolveBootstrapTools(e);if(l&&De(l))return l}catch{}const o=e&&De(e.directBootstrapNamespace)?e.directBootstrapNamespace:null;if(o&&De(o))return o;const r=e&&typeof e.resolveCoreSupportModule=="function"?e.resolveCoreSupportModule:null;if(r)try{const l=r("cineCoreAppCoreBootstrap","./modules/app-core/bootstrap.js");if(l&&De(l))return l}catch{}const n=Zg(e&&e.requireFn);if(typeof n=="function")try{const l=n("./modules/app-core/bootstrap.js");if(l&&De(l))return l}catch{}const a=Xr.collectFallbackScopes(e);for(let l=0;l<a.length;l+=1){const s=a[l];if(!(!s||!De(s)))try{const u=s.cineCoreAppCoreBootstrap;if(u&&De(u))return u}catch{}}return null}function vG(e){const t=e&&De(e.bootstrapResolverTools)?e.bootstrapResolverTools:null;if(t&&typeof t.resolveBootstrapFallbackTools=="function")try{const l=t.resolveBootstrapFallbackTools(e);if(l&&De(l))return l}catch{}const o=e&&De(e.directBootstrapFallbackNamespace)?e.directBootstrapFallbackNamespace:null;if(o&&De(o))return o;const r=e&&typeof e.resolveCoreSupportModule=="function"?e.resolveCoreSupportModule:null;if(r)try{const l=r("cineCoreAppCoreBootstrapFallbacks","./modules/app-core/bootstrap.js");if(l&&De(l))return l}catch{}const n=Zg(e&&e.requireFn);if(typeof n=="function")try{const l=n("./modules/app-core/bootstrap.js");if(l&&De(l.cineCoreAppCoreBootstrapFallbacks))return l.cineCoreAppCoreBootstrapFallbacks;if(l&&De(l))return l}catch{}const a=Xr.collectFallbackScopes(e);for(let l=0;l<a.length;l+=1){const s=a[l];if(!(!s||!De(s)))try{const u=s.cineCoreAppCoreBootstrapFallbacks;if(u&&De(u))return u}catch{}}return null}function EG(e){const t=e&&De(e.bootstrapResolverTools)?e.bootstrapResolverTools:null;if(t&&typeof t.createInlineLocalizationFallback=="function")try{const r=t.createInlineLocalizationFallback(e);if(r&&De(r))return r}catch{}const o=e&&De(e.fallbackTools)?e.fallbackTools:null;if(o&&typeof o.createLocalizationBootstrapFallback=="function")try{const r=o.createLocalizationBootstrapFallback(e);if(r&&De(r))return r}catch{}return Vf()}function CG(e){const t=e&&De(e.bootstrapResolverTools)?e.bootstrapResolverTools:null;if(t&&typeof t.createInlineRuntimeSharedFallback=="function")try{const l=t.createInlineRuntimeSharedFallback(e);if(l&&De(l))return l}catch{}const o=e&&De(e.fallbackTools)?e.fallbackTools:null;if(o&&typeof o.createRuntimeSharedBootstrapFallback=="function")try{const l=o.createRuntimeSharedBootstrapFallback(e);if(l&&De(l))return l}catch{}const r=Xr.collectFallbackScopes(e);function n(){for(let l=0;l<r.length;l+=1){const s=r[l];if(!(!s||!De(s)))try{const u=s.cineCoreRuntimeShared;if(u&&De(u))return u}catch{}}return null}let a=e&&De(e.currentRuntimeShared)?e.currentRuntimeShared:null;if(a||(a=n()),!a||typeof a!="object")try{a=Object.create(null)}catch{a={}}return{runtimeSharedNamespace:null,runtimeSharedResolver:null,existingRuntimeShared:a,runtimeShared:a,fallbackResolveRuntimeSharedFromGlobal:n}}function AG(e){const t=e&&De(e.localizationSupportTools)?e.localizationSupportTools:null,o=e&&De(e.localizationBootstrapTools)?e.localizationBootstrapTools:null,r=e&&De(e.localizationRuntimeTools)?e.localizationRuntimeTools:null,n=e&&typeof e.resolveCoreSupportModule=="function"?e.resolveCoreSupportModule:null,a=Zg(e&&e.requireFn),l=e&&De(e.runtimeScope)?e.runtimeScope:null,s=e&&De(e.coreGlobalScope)?e.coreGlobalScope:null,u=Xr.appendFallbackScopes(mG(e&&e.fallbackScopes),l,s),f={localizationSupportTools:t,resolveCoreSupportModule:n,requireFn:a,runtimeScope:l,coreGlobalScope:s,fallbackScopes:u};let y=wp(o&&o.createLocalizationBootstrapResult,f);return y||(y=wp(r&&r.resolveRuntimeLocalization,{currentLocalization:e&&e.currentLocalization,resolveCoreSupportModule:n,requireFn:a,runtimeScope:l,coreGlobalScope:s,fallbackScopes:u})),y||(y=wp(r&&r.createFallbackLocalizationRuntimeSetup,{currentLocalization:e&&e.currentLocalization,resolveCoreSupportModule:n,requireFn:a,runtimeScope:l,coreGlobalScope:s,fallbackScopes:u})),y||(y=Vf()),y}function wG(e){const t=KE(e);return t||qf(e)}function Vf(){return gG()}function qf(e){return hG(e)}function qy(e){const t=ai(e),o=t.bootstrapEnvironmentTools||t.bootstrapEnvironment||eh(t),r=t.bootstrapResultsTools||th(t),n=t.localizationFallbackOptions||null,a=ai(t,{bootstrapEnvironmentTools:o,bootstrapEnvironment:o,bootstrapResultsTools:r,fallbackScopes:t.fallbackScopes}),l=Jg(a);a.fallbackScopes=l;const s=t.bootstrapResolverTools||XE(a),u=t.bootstrapFallbackTools||t.fallbackTools||QE(a),f=t.bootstrapSuite&&De(t.bootstrapSuite)?t.bootstrapSuite:null;if(s&&typeof s.createInlineLocalizationFallback=="function")try{const y=s.createInlineLocalizationFallback({fallbackTools:u,resolveCoreSupportModule:t.resolveCoreSupportModule,requireFn:t.requireFn,runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,fallbackScopes:l,localizationFallbackOptions:n});if(y&&De(y))return y}catch{}if(f&&typeof f.createLocalizationBootstrapFallback=="function")try{const y=f.createLocalizationBootstrapFallback({fallbackScopes:l,runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,localizationFallbackOptions:n});if(y&&De(y))return y}catch{}if(u&&typeof u.createLocalizationBootstrapFallback=="function")try{const y=u.createLocalizationBootstrapFallback({resolveCoreSupportModule:t.resolveCoreSupportModule,requireFn:t.requireFn,runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,fallbackScopes:l,localizationFallbackOptions:n});if(y&&De(y))return y}catch{}if(r&&typeof r.createLocalizationFallbackSkeleton=="function")try{const y=r.createLocalizationFallbackSkeleton();if(y&&De(y))return y}catch{}return Vf()}function Wy(e){const t=ai(e),o=t.bootstrapEnvironmentTools||t.bootstrapEnvironment||eh(t),r=t.bootstrapResultsTools||th(t),n=ai(t,{bootstrapEnvironmentTools:o,bootstrapEnvironment:o,bootstrapResultsTools:r,fallbackScopes:t.fallbackScopes}),a=Jg(n);n.fallbackScopes=a;const l=t.bootstrapResolverTools||XE(n),s=t.bootstrapFallbackTools||t.fallbackTools||QE(n),u=t.bootstrapSuite&&De(t.bootstrapSuite)?t.bootstrapSuite:null;if(l&&typeof l.createInlineRuntimeSharedFallback=="function")try{const f=l.createInlineRuntimeSharedFallback({fallbackTools:s,resolveCoreSupportModule:t.resolveCoreSupportModule,requireFn:t.requireFn,runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,fallbackScopes:a,currentRuntimeShared:t.currentRuntimeShared});if(f&&De(f))return f}catch{}if(u&&typeof u.createRuntimeSharedBootstrapFallback=="function")try{const f=u.createRuntimeSharedBootstrapFallback({fallbackScopes:a,runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,currentRuntimeShared:t.currentRuntimeShared});if(f&&De(f))return f}catch{}if(s&&typeof s.createRuntimeSharedBootstrapFallback=="function")try{const f=s.createRuntimeSharedBootstrapFallback({resolveCoreSupportModule:t.resolveCoreSupportModule,requireFn:t.requireFn,runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,fallbackScopes:a,currentRuntimeShared:t.currentRuntimeShared});if(f&&De(f))return f}catch{}if(r&&typeof r.createRuntimeSharedFallbackSkeleton=="function")try{const f=r.createRuntimeSharedFallbackSkeleton({runtimeScope:t.runtimeScope,coreGlobalScope:t.coreGlobalScope,fallbackScopes:a,currentRuntimeShared:t.currentRuntimeShared});if(f&&De(f))return f}catch{}return qf(t)}function Ky(e){const t=yG(e),{fallbackScopes:o,bootstrapResolverTools:r}=t,n=SG({directBootstrapNamespace:e&&e.directBootstrapNamespace,bootstrapResolverTools:r,resolveCoreSupportModule:e&&e.resolveCoreSupportModule,requireFn:e&&e.requireFn,runtimeScope:e&&e.runtimeScope,coreGlobalScope:e&&e.coreGlobalScope,fallbackScopes:o}),a=vG({directBootstrapFallbackNamespace:e&&e.directBootstrapFallbackNamespace,bootstrapResolverTools:r,resolveCoreSupportModule:e&&e.resolveCoreSupportModule,requireFn:e&&e.requireFn,runtimeScope:e&&e.runtimeScope,coreGlobalScope:e&&e.coreGlobalScope,fallbackScopes:o});function l(){return EG({bootstrapResolverTools:r,fallbackTools:a,resolveCoreSupportModule:e&&e.resolveCoreSupportModule,requireFn:e&&e.requireFn,runtimeScope:e&&e.runtimeScope,coreGlobalScope:e&&e.coreGlobalScope,fallbackScopes:o})}function s(f){const y=f&&f.fallbackScopes?f.fallbackScopes:o;return CG({bootstrapResolverTools:r,fallbackTools:a,resolveCoreSupportModule:e&&e.resolveCoreSupportModule,requireFn:e&&e.requireFn,runtimeScope:e&&e.runtimeScope,coreGlobalScope:e&&e.coreGlobalScope,fallbackScopes:y,currentRuntimeShared:f&&De(f.currentRuntimeShared)?f.currentRuntimeShared:null})}function u(f){return Xr.collectFallbackScopes({runtimeScope:e&&e.runtimeScope,coreGlobalScope:e&&e.coreGlobalScope,fallbackScopes:f})}return{fallbackScopes:o,bootstrapResolverTools:r,bootstrapTools:n,bootstrapFallbackTools:a,createInlineLocalizationFallback:l,createInlineRuntimeSharedFallback:s,collectFallbackScopes:u}}function RG(e){const t=ai(e),o=t.bootstrapEnvironmentTools||t.bootstrapEnvironment||eh(t),r=t.bootstrapResultsTools||th(t),n=Ky(t),{bootstrapTools:a,bootstrapFallbackTools:l,bootstrapResolverTools:s}=n;function u(w){return ai(t,w)}function f(w){return n.collectFallbackScopes(w)}function y(w){const E=u(w);return Ky(E)}function R(w){const E=u(w);if(E.fallbackScopes=f(w),!E.bootstrapTools&&a&&(E.bootstrapTools=a),!E.bootstrapFallbackTools&&l&&(E.bootstrapFallbackTools=l),r&&typeof r.resolveLocalizationBootstrapResult=="function")try{const S=r.resolveLocalizationBootstrapResult(E);if(S&&De(S))return S}catch{}return bG(E)}function _(w){const E=u(w);if(E.fallbackScopes=f(w),w&&w.createInlineLocalizationFallback?E.createInlineLocalizationFallback=w.createInlineLocalizationFallback:E.createInlineLocalizationFallback=n.createInlineLocalizationFallback,r&&typeof r.createLocalizationFallbackSkeleton=="function")try{const S=r.createLocalizationFallbackSkeleton(E);if(S&&De(S))return S}catch{}return qy(E)}function T(w){const E=u(w);if(E.fallbackScopes=f(w),!E.bootstrapTools&&a&&(E.bootstrapTools=a),!E.bootstrapFallbackTools&&l&&(E.bootstrapFallbackTools=l),E.createInlineRuntimeSharedFallback||(E.createInlineRuntimeSharedFallback=(o&&typeof o.createInlineRuntimeSharedFallback=="function"?o.createInlineRuntimeSharedFallback:null)||(a&&typeof a.createInlineRuntimeSharedFallback=="function"?a.createInlineRuntimeSharedFallback:Wy)),r&&typeof r.resolveRuntimeSharedBootstrapResult=="function")try{const S=r.resolveRuntimeSharedBootstrapResult(E);if(S&&De(S))return S}catch{}return KE(E)}function I(w){const E=u(w);if(E.fallbackScopes=f(w),r&&typeof r.createRuntimeSharedFallbackSkeleton=="function")try{const S=r.createRuntimeSharedFallbackSkeleton(E);if(S&&De(S))return S}catch{}if(l&&typeof l.createRuntimeSharedBootstrapFallback=="function")try{const S=l.createRuntimeSharedBootstrapFallback(E);if(S&&De(S))return S}catch{}return qf(E)}function m(w){const E=u(w);return E.fallbackScopes=f(w),!E.fallbackTools&&l&&(E.fallbackTools=l),qy(E)}function g(w){const E=u(w);return E.fallbackScopes=f(w),!E.fallbackTools&&l&&(E.fallbackTools=l),Wy(E)}const A={bootstrapTools:a,bootstrapFallbackTools:l,bootstrapEnvironmentTools:o,bootstrapResultsTools:r,collectBootstrapFallbackScopes:f,createBootstrapEnvironment:y,createLocalizationBootstrapResult:R,createLocalizationBootstrapFallback:_,createRuntimeSharedBootstrapResult:T,createRuntimeSharedBootstrapFallback:I,createInlineLocalizationFallback:m,createInlineRuntimeSharedFallback:g,resolveBootstrapTools:YE,resolveBootstrapFallbackTools:oh,resolveBootstrapEnvironmentTools:WE,resolveBootstrapResultsTools:$E};try{A.bootstrapEnvironment=y(t.bootstrapEnvironmentOptions||null)}catch{A.bootstrapEnvironment=null}return A}const ar={createLocalizationBootstrapResult:AG,createLocalizationBootstrapFallback:Vf,createRuntimeSharedBootstrapResult:wG,createRuntimeSharedBootstrapFallback:qf,normalizeBootstrapInvocationOptions:ai,collectBootstrapFallbackScopes:Jg,resolveBootstrapTools:YE,resolveBootstrapFallbackTools:oh,resolveBootstrapEnvironmentTools:WE,resolveBootstrapResultsTools:$E,createInlineLocalizationFallback:qy,createInlineRuntimeSharedFallback:Wy,createBootstrapSuite:RG,resolveBootstrapResolverTools:qE,createBootstrapEnvironment:Ky},ZE={createLocalizationBootstrapFallback:ar.createLocalizationBootstrapFallback,createRuntimeSharedBootstrapFallback:ar.createRuntimeSharedBootstrapFallback},JE={resolveBootstrapTools:ar.resolveBootstrapTools,resolveBootstrapFallbackTools:ar.resolveBootstrapFallbackTools,resolveBootstrapEnvironmentTools:ar.resolveBootstrapEnvironmentTools,resolveBootstrapResultsTools:ar.resolveBootstrapResultsTools,resolveBootstrapResolverTools:ar.resolveBootstrapResolverTools,createInlineLocalizationFallback:ar.createInlineLocalizationFallback,createInlineRuntimeSharedFallback:ar.createInlineRuntimeSharedFallback,createBootstrapSuite:ar.createBootstrapSuite,normalizeBootstrapInvocationOptions:ar.normalizeBootstrapInvocationOptions,collectBootstrapFallbackScopes:ar.collectBootstrapFallbackScopes};(function(){const t=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||{};Ma(t,"cineCoreAppCoreBootstrap",ar),Ma(t,"cineCoreAppCoreBootstrapFallbacks",ZE),Ma(t,"cineCoreAppCoreBootstrapEnvironment",Xr),Ma(t,"cineCoreAppCoreBootstrapResults",Xg),Ma(t,"cineCoreAppCoreBootstrapResolver",JE)})();const Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{};Yr.cineCoreAppLocalizationSupport=Yr.cineCoreAppLocalizationSupport||{};Yr.cineCoreAppLocalizationBootstrap=Yr.cineCoreAppLocalizationBootstrap||{};Yr.cineCoreAppRuntimeLocalization=Yr.cineCoreAppRuntimeLocalization||{};Yr.cineCoreAppLocalizationAccessors=Yr.cineCoreAppLocalizationAccessors||{};const LG=Yr.cineCoreAppLocalizationSupport,GG=Yr.cineCoreAppLocalizationBootstrap,TG=Yr.cineCoreAppRuntimeLocalization;(function(){function e(y){return!!y&&(typeof y=="object"||typeof y=="function")}function t(y){return e(y)?y:typeof globalThis<"u"&&e(globalThis)?globalThis:typeof window<"u"&&e(window)?window:typeof self<"u"&&e(self)?self:typeof global<"u"&&e(global)?global:null}function o(y){return typeof y=="function"?y:typeof require=="function"?require:null}function r(y,R,_){if(typeof y=="function")return y;const T=t(_);if(e(T)&&typeof T.resolveCoreSupportModule=="function")try{return T.resolveCoreSupportModule.bind(T)}catch{}if(e(T)&&T.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS&&typeof T.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule=="function")try{return T.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule.bind(T.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS)}catch{}return typeof R=="function"?function(m,g){if(typeof m!="string"||!m||typeof g!="string"||!g)return null;try{const A=R(g);return e(A)?A:null}catch{}return null}:function(){return null}}function n(y,R){return e(y)?y:t(R)}function a(y){const R=o(y&&y.requireFn),_=n(y&&y.runtimeScope),T=n(y&&y.coreGlobalScope,_),I=r(y&&y.resolveCoreSupportModule,R,_||T),m=I("cineCoreLocalizationRuntimeEnvironment","../core/localization-runtime-environment.js"),g=m&&typeof m.createLocalizationRuntimeEnvironment=="function"?m.createLocalizationRuntimeEnvironment({resolveCoreSupportModule:I,requireFn:R,runtimeScope:_,coreGlobalScope:T}):null,A=g&&e(g.coreLocalizationBridge)?g.coreLocalizationBridge:null,w=g&&e(g.coreLocalizationFallbacks)?g.coreLocalizationFallbacks:null,E=g&&e(g.coreInlineLocalizationFallbacks)?g.coreInlineLocalizationFallbacks:null,S=g&&typeof g.localizationFallbackSupport<"u"?g.localizationFallbackSupport:null,C=g&&typeof g.createBasicLocalizationFallbackResolvers=="function"?g.createBasicLocalizationFallbackResolvers:function(){return null},F=g&&e(g.localizationFallbackRegistry)?g.localizationFallbackRegistry:{createFallbackResolvers(le){return C(le)}},j=g&&e(g.localizationFallbackResolvers)?g.localizationFallbackResolvers:F&&typeof F.createFallbackResolvers=="function"?F.createFallbackResolvers({directNamespace:w,inlineNamespace:E}):C({directNamespace:w,inlineNamespace:E}),$=g&&typeof g.localizationFallbackNamespace<"u"?g.localizationFallbackNamespace:null,x=g&&typeof g.fallbackResolveLocaleModule=="function"?g.fallbackResolveLocaleModule:function(){return null},Q=g&&typeof g.createLocaleFallbacks=="function"?g.createLocaleFallbacks:function(){return null};return{localizationRuntimeEnvironment:g,localizationBridge:A,localizationFallbacks:w,inlineLocalizationFallbacks:E,localizationFallbackSupport:S,createBasicLocalizationFallbackResolvers:C,localizationFallbackRegistry:F,localizationFallbackResolvers:j,localizationFallbackNamespace:$,fallbackResolveLocaleModule:x,createLocaleFallbacks:Q}}const l={createAppLocalizationSupport:a},s=t(),u="cineCoreAppLocalizationSupport",f=e(s)&&e(s[u])?s[u]:{};for(const y of Object.keys(l))f[y]=l[y];if(e(s))try{s[u]=f}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=f)})();(function(){function e(m){return!!m&&(typeof m=="object"||typeof m=="function")}function t(m){return e(m)?m:typeof globalThis<"u"&&e(globalThis)?globalThis:typeof window<"u"&&e(window)?window:typeof self<"u"&&e(self)?self:typeof global<"u"&&e(global)?global:null}function o(m){return typeof m=="function"?m:typeof require=="function"?require:null}function r(m,g){return e(m)?m:t(g)}function n(m,g,A){if(typeof m=="function")return m;const w=r(A);if(w&&typeof w.resolveCoreSupportModule=="function")try{return w.resolveCoreSupportModule.bind(w)}catch{}if(w&&w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS&&typeof w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule=="function")try{return w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule.bind(w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS)}catch{}return typeof g=="function"?function(S,C){if(typeof S!="string"||!S||typeof C!="string"||!C)return null;try{const F=g(C);return e(F)?F:null}catch{}return null}:function(){return null}}function a(m,g){e(g)&&m.indexOf(g)===-1&&m.push(g)}function l(m,g,A){const w=Array.isArray(m)?m.slice():[];return a(w,g),a(w,A),a(w,typeof globalThis<"u"?globalThis:null),a(w,typeof window<"u"?window:null),a(w,typeof self<"u"?self:null),a(w,typeof global<"u"?global:null),w}function s(m){if(m&&e(m.localizationSupportTools))return m.localizationSupportTools;const g=m&&typeof m.resolveCoreSupportModule=="function"?m.resolveCoreSupportModule:null;if(g)try{const E=g("cineCoreAppLocalizationSupport","./modules/app-core/localization-fixed.js");if(e(E))return E}catch{}const A=o(m&&m.requireFn);if(typeof A=="function")try{const E=A("./modules/app-core/localization-fixed.js");if(e(E))return E}catch{}const w=l(m&&m.fallbackScopes,m&&m.runtimeScope,m&&m.coreGlobalScope);for(let E=0;E<w.length;E+=1){const S=w[E];try{const C=S&&S.cineCoreAppLocalizationSupport;if(e(C))return C}catch{}}return null}function u(m){const g=s(m);if(g&&typeof g.createAppLocalizationSupport=="function")try{return g.createAppLocalizationSupport({resolveCoreSupportModule:m&&m.resolveCoreSupportModule,requireFn:m&&m.requireFn,runtimeScope:m&&m.runtimeScope,coreGlobalScope:m&&m.coreGlobalScope})}catch{}return null}function f(m){const g=o(m&&m.requireFn),A=r(m&&m.runtimeScope),w=r(m&&m.coreGlobalScope,A),E=n(m&&m.resolveCoreSupportModule,g,A||w),S=l(m&&m.fallbackScopes,A,w),C=u({localizationSupportTools:m&&m.localizationSupportTools,resolveCoreSupportModule:E,requireFn:g,runtimeScope:A,coreGlobalScope:w,fallbackScopes:S}),F=C&&C.localizationRuntimeEnvironment?C.localizationRuntimeEnvironment:null,j=C&&C.localizationBridge?C.localizationBridge:null,$=C&&C.localizationFallbacks?C.localizationFallbacks:null,x=C&&C.inlineLocalizationFallbacks?C.inlineLocalizationFallbacks:null,Q=C&&typeof C.localizationFallbackSupport<"u"?C.localizationFallbackSupport:null,le=C&&typeof C.createBasicLocalizationFallbackResolvers=="function"?C.createBasicLocalizationFallbackResolvers:function(){return null},K=C&&C.localizationFallbackRegistry?C.localizationFallbackRegistry:{createFallbackResolvers(ce){return le(ce)}},re=C&&C.localizationFallbackResolvers?C.localizationFallbackResolvers:K&&typeof K.createFallbackResolvers=="function"?K.createFallbackResolvers({directNamespace:$,inlineNamespace:x}):le({directNamespace:$,inlineNamespace:x}),Ee=C&&typeof C.localizationFallbackNamespace<"u"?C.localizationFallbackNamespace:null,ae=C&&typeof C.fallbackResolveLocaleModule=="function"?C.fallbackResolveLocaleModule:function(){return null},Z=C&&typeof C.createLocaleFallbacks=="function"?C.createLocaleFallbacks:function(){return null};return{localizationSupport:C,localizationRuntimeEnvironment:F,localizationBridge:j,localizationFallbacks:$,inlineLocalizationFallbacks:x,localizationFallbackSupport:Q,createBasicLocalizationFallbackResolvers:le,localizationFallbackRegistry:K,localizationFallbackResolvers:re,localizationFallbackNamespace:Ee,fallbackResolveLocaleModule:ae,createLocaleFallbacks:Z}}function y(m){const g=m&&e(m.localizationBootstrapResult)?m.localizationBootstrapResult:null,A=g&&e(g.localizationSupport)?g.localizationSupport:null,w=g&&e(g.localizationRuntimeEnvironment)?g.localizationRuntimeEnvironment:null,E=g&&e(g.localizationBridge)?g.localizationBridge:null,S=g&&e(g.localizationFallbacks)?g.localizationFallbacks:null,C=g&&e(g.inlineLocalizationFallbacks)?g.inlineLocalizationFallbacks:null,F=g&&typeof g.localizationFallbackSupport<"u"?g.localizationFallbackSupport:null,j=g&&typeof g.createBasicLocalizationFallbackResolvers=="function"?g.createBasicLocalizationFallbackResolvers:function(){return null},$=g&&e(g.localizationFallbackRegistry)?g.localizationFallbackRegistry:{createFallbackResolvers(re){return j(re)}},x=g&&e(g.localizationFallbackResolvers)?g.localizationFallbackResolvers:$&&typeof $.createFallbackResolvers=="function"?$.createFallbackResolvers({directNamespace:S,inlineNamespace:C}):j({directNamespace:S,inlineNamespace:C}),Q=g&&typeof g.localizationFallbackNamespace<"u"?g.localizationFallbackNamespace:null,le=g&&typeof g.fallbackResolveLocaleModule=="function"?g.fallbackResolveLocaleModule:function(){return null},K=g&&typeof g.createLocaleFallbacks=="function"?g.createLocaleFallbacks:function(){return null};return{localizationBootstrapResult:g,localizationSupport:A,localizationRuntimeEnvironment:w,localizationBridge:E,localizationFallbacks:S,inlineLocalizationFallbacks:C,localizationFallbackSupport:F,createBasicLocalizationFallbackResolvers:j,localizationFallbackRegistry:$,localizationFallbackResolvers:x,localizationFallbackNamespace:Q,fallbackResolveLocaleModule:le,createLocaleFallbacks:K}}const R={createLocalizationBootstrapResult:f,createLocalizationBootstrapWiring:y},_=t(),T="cineCoreAppLocalizationBootstrap",I=e(_)&&e(_[T])?_[T]:{};if(Object.assign(I,R),e(_))try{_[T]=I}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=I)})();(function(){function e(m){return!!m&&(typeof m=="object"||typeof m=="function")}function t(m){return typeof m=="function"?m:typeof require=="function"?require:null}function o(m,g,A){const w=[],E=typeof Set=="function"?new Set:null;function S(C){if(e(C)){if(E){if(E.has(C))return;E.add(C),w.push(C);return}w.indexOf(C)===-1&&w.push(C)}}if(S(m),S(g),Array.isArray(A))for(let C=0;C<A.length;C+=1)S(A[C]);return S(typeof globalThis<"u"?globalThis:null),S(typeof window<"u"?window:null),S(typeof self<"u"?self:null),S(typeof global<"u"?global:null),w}function r(m){const g=typeof m=="string"&&m?m:"en";return function(w){if(!w)return g;try{return String(w).trim().toLowerCase()||g}catch{}return g}}function n(m,g){const A=Array.isArray(m)&&m.length?m:["ar","fa","he","ur"];return function(E){const C=g(E).split("-")[0];return A.indexOf(C)!==-1}}function a(m,g){return function(w){if(typeof document<"u"&&document&&document.documentElement)try{const E=document.documentElement.getAttribute("dir");if(E)return E}catch{}return g(w)?"rtl":"ltr"}}function l(m,g,A){if(m){if(g)try{m.lang=g}catch{}if(A)try{m.dir=A}catch{}}}function s(m,g,A){return function(){for(let E=0;E<m.length;E+=1){const S=m[E];if(!e(S))continue;const C=S.texts;if(e(C))return C}if(typeof g=="function")try{const E=g(A);if(e(E)&&e(E.texts))return E.texts}catch{}return{}}}function u(m,g){const A=typeof g=="string"&&g?g:"en";return function(E){const S=m();let C=null;if(typeof E=="string"&&E)try{C=String(E).trim().toLowerCase()}catch{C=null}let F=C&&Object.prototype.hasOwnProperty.call(S,C)?C:"";if(!F&&C){const x=C.split("-")[0];x&&Object.prototype.hasOwnProperty.call(S,x)&&(F=x)}F||(F=A);const j=S&&F&&e(S[F])?S[F]:null;if(j)return j;if(F!==A){const x=S&&e(S[A])?S[A]:null;if(x)return x}if(S&&e(S.en))return S.en;const $=S?Object.keys(S):[];if($.length){const x=$[0],Q=S[x];if(e(Q))return Q}return{}}}function f(m,g){return function(w){if(m&&typeof m.ensureGlobalGetLanguageTextsAvailability=="function")try{m.ensureGlobalGetLanguageTextsAvailability();return}catch{}const E=typeof w=="function"?w:function(){return{}};for(let S=0;S<g.length;S+=1){const C=g[S];if(e(C)&&typeof C.getLanguageTexts!="function")try{C.getLanguageTexts=E}catch{}}}}function y(m){const g=e(m&&m.coreLocalizationRuntime)?m.coreLocalizationRuntime:null,A=e(m&&m.coreLocalizationBridge)?m.coreLocalizationBridge:null,w=m&&m.corePartRuntimeScope,E=m&&m.coreGlobalScope,S=m&&m.additionalLocalizationScopes,C=m&&typeof m.fallbackResolveLocaleModule=="function"?m.fallbackResolveLocaleModule:null,F=t(m&&m.requireFn),j=m&&typeof m.translationsRequirePath=="string"&&m.translationsRequirePath?m.translationsRequirePath:"./translations.js",$=o(w,E,S),x=g&&g.localeModule||(C?C(w):null),Q=g&&g.defaultLanguage||(x&&typeof x.DEFAULT_LANGUAGE=="string"?x.DEFAULT_LANGUAGE:"en"),le=g&&g.rtlLanguageCodes||(x&&Array.isArray(x.RTL_LANGUAGE_CODES)&&x.RTL_LANGUAGE_CODES.length>0?x.RTL_LANGUAGE_CODES:["ar","fa","he","ur"]),K=r(Q),re=g&&typeof g.normalizeLanguageCode=="function"?function(J){try{return g.normalizeLanguageCode(J)}catch{}return K(J)}:A&&typeof A.normalizeLanguageCode=="function"?function(J){try{return A.normalizeLanguageCode(J,w)}catch{}return K(J)}:K,Ee=n(le,re),ae=g&&typeof g.isRtlLanguage=="function"?function(J){try{return g.isRtlLanguage(J)}catch{}return Ee(J)}:A&&typeof A.isRtlLanguage=="function"?function(J){try{return A.isRtlLanguage(J,w)}catch{}return Ee(J)}:Ee,Z=a(re,ae),ce=g&&typeof g.resolveDocumentDirection=="function"?function(J){try{return g.resolveDocumentDirection(J)}catch{}return Z(J)}:A&&typeof A.resolveDocumentDirection=="function"?function(J){try{return A.resolveDocumentDirection(J,w)}catch{}return Z(J)}:Z,Le=g&&typeof g.applyLocaleMetadata=="function"?function(J,he,ke){try{return g.applyLocaleMetadata(J,he,ke)}catch{}return l(J,he,ke)}:A&&typeof A.applyLocaleMetadata=="function"?function(J,he,ke){try{return A.applyLocaleMetadata(J,he,ke,w)}catch{}return l(J,he,ke)}:l,Pe=s($,F,j),q=u(Pe,Q),oe=g&&typeof g.getLanguageTexts=="function"?function(J){try{return g.getLanguageTexts(J)}catch{}return q(J)}:q,ne=f(g,$);return{localeModule:e(x)?x:null,defaultLanguage:typeof Q=="string"&&Q?Q:"en",rtlLanguageCodes:Array.isArray(le)&&le.length?le:["ar","fa","he","ur"],normalizeLanguageCode:re,isRtlLanguage:ae,resolveDocumentDirection:ce,applyLocaleMetadata:Le,getLanguageTexts:oe,ensureGlobalGetLanguageTextsAvailability:ne,fallbackResolveTranslationDataset:Pe}}const R={createLocalizationAccessors:y},_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null,T="cineCoreAppLocalizationAccessors",I=e(_)&&e(_[T])?_[T]:{};if(Object.assign(I,R),e(_))try{_[T]=I}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=I)})();(function(){function e(I){return!!I&&(typeof I=="object"||typeof I=="function")}function t(I){return e(I)?I:typeof globalThis<"u"&&e(globalThis)?globalThis:typeof window<"u"&&e(window)?window:typeof self<"u"&&e(self)?self:typeof global<"u"&&e(global)?global:null}function o(I,m){return e(I)?I:t(m)}function r(I){return typeof I=="function"?I:typeof require=="function"?require:null}function n(I,m,g){if(typeof I=="function")return I;const A=t(g);if(A&&typeof A.resolveCoreSupportModule=="function")try{return A.resolveCoreSupportModule.bind(A)}catch{}if(A&&A.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS&&typeof A.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule=="function")try{return A.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule.bind(A.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS)}catch{}return typeof m=="function"?function(E,S){if(typeof E!="string"||!E||typeof S!="string"||!S)return null;try{const C=m(S);return e(C)?C:null}catch{}return null}:function(){return null}}function a(I,m){const g=[];e(I)&&g.indexOf(I)===-1&&g.push(I),e(m)&&g.indexOf(m)===-1&&g.push(m);const A=[typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let w=0;w<A.length;w+=1){const E=A[w];e(E)&&g.indexOf(E)===-1&&g.push(E)}return g}function l(I){const m=I&&I.resolveCoreSupportModule,g=I&&I.requireFn,A=I&&I.runtimeScope,w=I&&I.coreGlobalScope;let E=null;if(typeof m=="function")try{E=m("cineCoreAppLocalizationSupport","../app-core/localization-fixed.js")}catch{E=null}if(!e(E)&&typeof g=="function")try{const C=g("../app-core/localization-fixed.js");e(C)&&(E=C)}catch{}if(e(E))return E;const S=a(A,w);for(let C=0;C<S.length;C+=1){const F=S[C];try{const j=F&&F.cineCoreAppLocalizationSupport;if(e(j))return j}catch{}}return null}function s(){function I(){return null}const m={createFallbackResolvers(w){return I()}};function g(){return null}function A(){return null}return{localizationRuntimeEnvironment:null,localizationBridge:null,localizationFallbacks:null,inlineLocalizationFallbacks:null,localizationFallbackSupport:null,createBasicLocalizationFallbackResolvers:I,localizationFallbackRegistry:m,localizationFallbackResolvers:null,localizationFallbackNamespace:null,fallbackResolveLocaleModule:g,createLocaleFallbacks:A}}function u(I,m){if(e(I)&&typeof I.createAppLocalizationSupport=="function")try{return I.createAppLocalizationSupport(m)}catch{}return null}function f(I){const m=r(I&&I.requireFn),g=o(I&&I.runtimeScope),A=o(I&&I.coreGlobalScope,g),w=n(I&&I.resolveCoreSupportModule,m,g||A),E=l({resolveCoreSupportModule:w,requireFn:m,runtimeScope:g,coreGlobalScope:A}),S=u(E,{resolveCoreSupportModule:w,requireFn:m,runtimeScope:g,coreGlobalScope:A});return e(S)?S:s()}const y={createLocalizationRuntimeBridge:f},R="cineCoreAppLocalizationRuntimeBridge",_=t(),T=e(_)&&e(_[R])?_[R]:{};for(const I of Object.keys(y))T[I]=y[I];if(e(_))try{_[R]=T}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=T)})();(function(){function e(m){return!!m&&(typeof m=="object"||typeof m=="function")}function t(m){return e(m)?m:typeof globalThis<"u"&&e(globalThis)?globalThis:typeof window<"u"&&e(window)?window:typeof self<"u"&&e(self)?self:typeof global<"u"&&e(global)?global:null}function o(m,g){return e(m)?m:t(g)}function r(m){return typeof m=="function"?m:typeof require=="function"?require:null}function n(m,g,A){if(typeof m=="function")return m;const w=t(A);if(w&&typeof w.resolveCoreSupportModule=="function")try{return w.resolveCoreSupportModule.bind(w)}catch{}if(w&&w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS&&typeof w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule=="function")try{return w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule.bind(w.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS)}catch{}return typeof g=="function"?function(S,C){if(typeof S!="string"||!S||typeof C!="string"||!C)return null;try{const F=g(C);return e(F)?F:null}catch{}return null}:function(){return null}}function a(m,g){const A=[];e(m)&&A.indexOf(m)===-1&&A.push(m),e(g)&&A.indexOf(g)===-1&&A.push(g);const w=[typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let E=0;E<w.length;E+=1){const S=w[E];e(S)&&A.indexOf(S)===-1&&A.push(S)}return A}function l(m){const g=m&&m.resolveCoreSupportModule,A=m&&m.requireFn,w=m&&m.runtimeScope,E=m&&m.coreGlobalScope;let S=null;if(typeof g=="function")try{S=g("cineCoreAppLocalizationRuntimeBridge","./modules/app-core/localization-fixed.js")}catch{S=null}if(!e(S)&&typeof A=="function")try{const F=A("./modules/app-core/localization-fixed.js");e(F)&&(S=F)}catch{}if(e(S))return S;const C=a(w,E);for(let F=0;F<C.length;F+=1){const j=C[F];try{const $=j&&j.cineCoreAppLocalizationRuntimeBridge;if(e($))return $}catch{}}return null}function s(){function m(){return null}const g={createFallbackResolvers(E){return m()}};function A(){return null}function w(){return null}return{localizationRuntimeEnvironment:null,localizationBridge:null,localizationFallbacks:null,inlineLocalizationFallbacks:null,localizationFallbackSupport:null,createBasicLocalizationFallbackResolvers:m,localizationFallbackRegistry:g,localizationFallbackResolvers:null,localizationFallbackNamespace:null,fallbackResolveLocaleModule:A,createLocaleFallbacks:w}}function u(m){const g=m&&m.requireFn,A=m&&m.runtimeScope,w=m&&m.coreGlobalScope,E=l(m);if(e(E)&&typeof E.createLocalizationRuntimeBridge=="function")return E.createLocalizationRuntimeBridge;if(typeof g=="function")try{const C=g("./modules/app-core/localization-fixed.js");if(e(C)&&typeof C.createLocalizationRuntimeBridge=="function")return C.createLocalizationRuntimeBridge}catch{}const S=a(A,w);for(let C=0;C<S.length;C+=1){const F=S[C];try{const j=F&&F.cineCoreAppLocalizationRuntimeBridge;if(e(j)&&typeof j.createLocalizationRuntimeBridge=="function")return j.createLocalizationRuntimeBridge}catch{}}return function(){return s()}}function f(m){const g=e(m)?m:s(),A=e(g.localizationRuntimeEnvironment)?g.localizationRuntimeEnvironment:null,w=e(g.localizationBridge)?g.localizationBridge:null,E=e(g.localizationFallbacks)?g.localizationFallbacks:null,S=e(g.inlineLocalizationFallbacks)?g.inlineLocalizationFallbacks:null,C=typeof g.localizationFallbackSupport<"u"?g.localizationFallbackSupport:null,F=typeof g.createBasicLocalizationFallbackResolvers=="function"?g.createBasicLocalizationFallbackResolvers:function(){return null},j=e(g.localizationFallbackRegistry)?g.localizationFallbackRegistry:{createFallbackResolvers(K){return F(K)}},$=typeof g.fallbackResolveLocaleModule=="function"?g.fallbackResolveLocaleModule:function(){return null},x=typeof g.createLocaleFallbacks=="function"?g.createLocaleFallbacks:function(){return null},Q=typeof g.localizationFallbackNamespace<"u"?g.localizationFallbackNamespace:null,le=g.localizationFallbackResolvers?g.localizationFallbackResolvers:j&&typeof j.createFallbackResolvers=="function"?j.createFallbackResolvers({directNamespace:E,inlineNamespace:S}):F({directNamespace:E,inlineNamespace:S});return{localizationRuntimeEnvironment:A,localizationBridge:w,localizationFallbacks:E,inlineLocalizationFallbacks:S,localizationFallbackSupport:C,createBasicLocalizationFallbackResolvers:F,localizationFallbackRegistry:j,localizationFallbackResolvers:le,localizationFallbackNamespace:Q,fallbackResolveLocaleModule:$,createLocaleFallbacks:x}}function y(m){const g=r(m&&m.requireFn),A=o(m&&m.runtimeScope),w=o(m&&m.coreGlobalScope,A),E=n(m&&m.resolveCoreSupportModule,g,A||w),C=u({resolveCoreSupportModule:E,requireFn:g,runtimeScope:A,coreGlobalScope:w})({resolveCoreSupportModule:E,requireFn:g,runtimeScope:A,coreGlobalScope:w});return f(C)}const R={createLocalizationRuntimeSetup:y},_="cineCoreAppLocalizationRuntimeSetup",T=t(),I=e(T)&&e(T[_])?T[_]:{};for(const m of Object.keys(R))I[m]=R[m];if(e(T))try{T[_]=I}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=I)})();(function(){function e(g){return!!g&&(typeof g=="object"||typeof g=="function")}function t(g){return e(g)?g:typeof globalThis<"u"&&e(globalThis)?globalThis:typeof window<"u"&&e(window)?window:typeof self<"u"&&e(self)?self:typeof global<"u"&&e(global)?global:null}function o(g,A){return e(g)?g:t(A)}function r(g){return typeof g=="function"?g:typeof require=="function"?require:null}function n(g,A,w){if(typeof g=="function")return g;const E=o(w);if(E&&typeof E.resolveCoreSupportModule=="function")try{return E.resolveCoreSupportModule.bind(E)}catch{}if(E&&E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS&&typeof E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule=="function")try{return E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule.bind(E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS)}catch{}return typeof A=="function"?function(C,F){if(typeof C!="string"||!C||typeof F!="string"||!F)return null;try{const j=A(F);return e(j)?j:null}catch{}return null}:null}function a(g,A){e(A)&&g.indexOf(A)===-1&&g.push(A)}function l(g,A){const w=[];return a(w,g),a(w,A),a(w,typeof globalThis<"u"?globalThis:null),a(w,typeof window<"u"?window:null),a(w,typeof self<"u"?self:null),a(w,typeof global<"u"?global:null),w}function s(){return{localizationRuntimeEnvironment:null,localizationBridge:null,localizationFallbacks:null,inlineLocalizationFallbacks:null,localizationFallbackSupport:null,createBasicLocalizationFallbackResolvers(){return null},localizationFallbackRegistry:{createFallbackResolvers(){return null}},localizationFallbackResolvers:null,localizationFallbackNamespace:null,fallbackResolveLocaleModule(){return null},createLocaleFallbacks(){return null}}}function u(g){let A=!1,w=null;return function(){if(A||(A=!0,typeof g!="function"))return w;try{const S=g("./modules/app-core/localization-fixed.js");e(S)&&(w=S)}catch{}return w}}function f(g,A,w){let E=null;if(typeof g=="function")try{E=g("cineCoreAppRuntimeLocalization","./modules/app-core/localization-fixed.js")}catch{E=null}if(e(E)||(E=w()),e(E))return E;for(let S=0;S<A.length;S+=1){const C=A[S];try{const F=C&&C.cineCoreAppRuntimeLocalization;if(e(F))return F}catch{}}return null}function y(g,A,w,E){if(e(A)&&typeof A[g]=="function")return A[g];const S=E();if(e(S)&&typeof S[g]=="function")return S[g];for(let C=0;C<w.length;C+=1){const F=w[C];try{const j=F&&F.cineCoreAppRuntimeLocalization;if(e(j)&&typeof j[g]=="function")return j[g]}catch{}}return null}function R(g){const A=r(g&&g.requireFn),w=o(g&&g.runtimeScope),E=o(g&&g.coreGlobalScope,w),S=n(g&&g.resolveCoreSupportModule,A,w||E),C=l(w,E),F=u(A),j=f(S,C,F),$=y("resolveRuntimeLocalization",j,C,F),x=y("createFallbackLocalizationRuntimeSetup",j,C,F)||s;return(typeof $=="function"?$({resolveCoreSupportModule:S,requireFn:A,runtimeScope:w,coreGlobalScope:E}):null)||(typeof x=="function"?x():s())||s()}const _={resolveLocalizationRuntimeSetup:R,createInlineFallbackLocalizationRuntimeSetup:s},T=t(),I="cineCoreAppRuntimeLocalizationResolver",m=e(T)&&e(T[I])?T[I]:{};if(Object.assign(m,_),e(T))try{T[I]=m}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=m)})();(function(){function e(g){return!!g&&(typeof g=="object"||typeof g=="function")}function t(g){return e(g)?g:typeof globalThis<"u"&&e(globalThis)?globalThis:typeof window<"u"&&e(window)?window:typeof self<"u"&&e(self)?self:typeof global<"u"&&e(global)?global:null}function o(g,A){return e(g)?g:t(A)}function r(g){return typeof g=="function"?g:typeof require=="function"?require:null}function n(g,A,w){if(typeof g=="function")return g;const E=t(w);if(E&&typeof E.resolveCoreSupportModule=="function")try{return E.resolveCoreSupportModule.bind(E)}catch{}if(E&&E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS&&typeof E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule=="function")try{return E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS.resolveCoreSupportModule.bind(E.CORE_RUNTIME_SUPPORT_BOOTSTRAP_TOOLS)}catch{}return typeof A=="function"?function(C,F){if(typeof C!="string"||!C||typeof F!="string"||!F)return null;try{const j=A(F);return e(j)?j:null}catch{}return null}:function(){return null}}function a(g,A){e(A)&&g.indexOf(A)===-1&&g.push(A)}function l(g,A){const w=[];return a(w,g),a(w,A),a(w,typeof globalThis<"u"?globalThis:null),a(w,typeof window<"u"?window:null),a(w,typeof self<"u"?self:null),a(w,typeof global<"u"?global:null),w}function s(){return{localizationRuntimeEnvironment:null,localizationBridge:null,localizationFallbacks:null,inlineLocalizationFallbacks:null,localizationFallbackSupport:null,createBasicLocalizationFallbackResolvers(){return null},localizationFallbackRegistry:{createFallbackResolvers(){return null}},localizationFallbackResolvers:null,localizationFallbackNamespace:null,fallbackResolveLocaleModule(){return null},createLocaleFallbacks(){return null}}}function u(g){const A=g&&g.resolveCoreSupportModule,w=g&&g.requireFn,E=g&&g.runtimeScope,S=g&&g.coreGlobalScope;let C=null;if(typeof A=="function")try{C=A("cineCoreAppLocalizationRuntimeSetup","./modules/app-core/localization-fixed.js")}catch{C=null}if(!e(C)&&typeof w=="function")try{const F=w("./modules/app-core/localization-fixed.js");e(F)&&(C=F)}catch{}if(!e(C)){const F=l(E,S);for(let j=0;j<F.length;j+=1){const $=F[j];if(e($))try{const x=$.cineCoreAppLocalizationRuntimeSetup;if(e(x)){C=x;break}}catch{}}}return e(C)&&typeof C.createLocalizationRuntimeSetup=="function"?C.createLocalizationRuntimeSetup:null}function f(g,A){return typeof g=="function"?g:A}function y(g){const A=s(),w=e(g)?g:{},E=e(w.localizationRuntimeEnvironment)?w.localizationRuntimeEnvironment:A.localizationRuntimeEnvironment,S=e(w.localizationBridge)?w.localizationBridge:A.localizationBridge,C=e(w.localizationFallbacks)?w.localizationFallbacks:A.localizationFallbacks,F=e(w.inlineLocalizationFallbacks)?w.inlineLocalizationFallbacks:A.inlineLocalizationFallbacks,j=Object.prototype.hasOwnProperty.call(w,"localizationFallbackSupport")?w.localizationFallbackSupport:A.localizationFallbackSupport,$=f(w.createBasicLocalizationFallbackResolvers,A.createBasicLocalizationFallbackResolvers),x=e(w.localizationFallbackRegistry)?w.localizationFallbackRegistry:{createFallbackResolvers(Ee){return $(Ee)}};let Q=w.localizationFallbackResolvers;if(!Q&&x){const Ee=f(x.createFallbackResolvers,null);if(Ee)try{Q=Ee({directNamespace:C,inlineNamespace:F})}catch{Q=null}}if(!Q&&typeof $=="function")try{Q=$({directNamespace:C,inlineNamespace:F})}catch{Q=null}Q||(Q=A.localizationFallbackResolvers);const le=Object.prototype.hasOwnProperty.call(w,"localizationFallbackNamespace")?w.localizationFallbackNamespace:A.localizationFallbackNamespace,K=f(w.fallbackResolveLocaleModule,A.fallbackResolveLocaleModule),re=f(w.createLocaleFallbacks,A.createLocaleFallbacks);return{localizationRuntimeEnvironment:E,localizationBridge:S,localizationFallbacks:C,inlineLocalizationFallbacks:F,localizationFallbackSupport:j,createBasicLocalizationFallbackResolvers:$,localizationFallbackRegistry:x,localizationFallbackResolvers:Q,localizationFallbackNamespace:le,fallbackResolveLocaleModule:K,createLocaleFallbacks:re}}function R(g){const A=g&&g.currentLocalization;if(e(A))return y(A);const w=r(g&&g.requireFn),E=o(g&&g.runtimeScope),S=o(g&&g.coreGlobalScope,E),C=n(g&&g.resolveCoreSupportModule,w,E||S),F=u({resolveCoreSupportModule:C,requireFn:w,runtimeScope:E,coreGlobalScope:S});if(typeof F=="function")try{const j=F({resolveCoreSupportModule:C,requireFn:w,runtimeScope:E,coreGlobalScope:S});return y(j)}catch{}return s()}const _={resolveRuntimeLocalization:R,createFallbackLocalizationRuntimeSetup:s},T="cineCoreAppRuntimeLocalization",I=t(),m=e(I)&&e(I[T])?I[T]:{};for(const g of Object.keys(_))m[g]=_[g];if(e(I))try{I[T]=m}catch{}typeof module=="object"&&module&&module.exports&&(module.exports=m)})();const Vi=ar,OG=TG,kG=LG,ld=GG,eC=JE,tC=ZE,oC=Xr,rC=Xg;function nC(){return typeof CORE_PART1_RUNTIME_SCOPE<"u"&&CORE_PART1_RUNTIME_SCOPE?CORE_PART1_RUNTIME_SCOPE:null}function aC(){return typeof CORE_GLOBAL_SCOPE<"u"&&CORE_GLOBAL_SCOPE?CORE_GLOBAL_SCOPE:null}const $o=Vi&&typeof Vi.createBootstrapSuite=="function"?Vi.createBootstrapSuite({directResolverNamespace:eC,directBootstrapNamespace:Vi,directBootstrapFallbackNamespace:tC,directBootstrapEnvironmentNamespace:oC,directBootstrapResultsNamespace:rC,resolveCoreSupportModule:$r,requireFn:typeof require=="function"?require:null,runtimeScope:nC(),coreGlobalScope:aC()}):null;$o&&$o.bootstrapEnvironmentTools;const IG=$o&&$o.bootstrapResultsTools||rC||null,Wd=$o&&$o.bootstrapEnvironment||null;$o&&$o.bootstrapEnvironment&&$o.bootstrapEnvironment.bootstrapResolverTools||Wd&&Wd.bootstrapResolverTools;const iC=$o&&$o.bootstrapFallbackTools||Wd&&Wd.bootstrapFallbackTools||tC||null,PG=(function(){if($o&&typeof $o.createLocalizationBootstrapResult=="function"){const t={bootstrapTools:Vi,bootstrapFallbackTools:iC,localizationSupportTools:kG,localizationBootstrapTools:ld,localizationRuntimeTools:OG,resolveCoreSupportModule:$r,requireFn:typeof require=="function"?require:null,runtimeScope:nC(),coreGlobalScope:aC(),fallbackScopes:[]};return $o.createLocalizationBootstrapResult(t)}return null})(),Bc=ld&&typeof ld.createLocalizationBootstrapWiring=="function"&&ld.createLocalizationBootstrapWiring({localizationBootstrapResult:PG})||null;typeof globalThis<"u"?globalThis.localizationBootstrapWiring=Bc:typeof window<"u"?window.localizationBootstrapWiring=Bc:typeof self<"u"?self.localizationBootstrapWiring=Bc:typeof global<"u"&&(global.localizationBootstrapWiring=Bc);const Kd=vo(),Sn=zo,BG=typeof Sn.getModuleRegistry=="function"?Sn.getModuleRegistry(Kd):null,lC=typeof Sn.freezeDeep=="function"?function(t){try{return Sn.freezeDeep(t)}catch{}return t}:function(t){return t},MG=typeof Sn.exposeGlobal=="function"?function(t,o,r){return Sn.exposeGlobal(t,o,Kd,r||{})}:function(t,o){try{return Kd[t]=o,!0}catch{}return!1},_G=typeof Sn.registerOrQueueModule=="function"?function(t,o,r,n){return Sn.registerOrQueueModule(t,o,r,n,Kd,BG)}:function(){return!1},DG=typeof Sn.safeWarn=="function"?function(t,o){try{Sn.safeWarn(t,o)}catch{}}:function(t,o){if(!(typeof console>"u"||!console||typeof console.warn!="function"))try{typeof o>"u"?console.warn(t):console.warn(t,o)}catch{}},$y="en",sC=["ar","fa","he","ur"];function cC(e){if(!e)return $y;try{return String(e).trim().toLowerCase()}catch{}return $y}function uC(e){const o=cC(e).split("-")[0];return sC.indexOf(o)!==-1}function FG(e,t){const o=t||(typeof document<"u"?document:null);if(o&&o.documentElement)try{const r=o.documentElement.getAttribute("dir");if(r==="rtl"||r==="ltr")return r}catch{}return uC(e)?"rtl":"ltr"}function xG(e,t,o){if(e){if(t)try{e.lang=t}catch{}if(o)try{e.dir=o}catch{}}}const rh={DEFAULT_LANGUAGE:$y,RTL_LANGUAGE_CODES:lC([].concat(sC)),normalizeLanguageCode:cC,isRtlLanguage:uC,resolveDocumentDirection:FG,applyLocaleMetadata:xG};lC(rh);_G("cineLocale",rh,{category:"localisation",description:"Language helpers shared between the runtime core and UI modules.",replace:!0},function(e){DG("Unable to register cineLocale module.",e)});MG("cineLocale",rh,{configurable:!0,enumerable:!1,writable:!1});function dC(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}const fC=dC();function NG(e){const t=e||fC;return t&&typeof t.cineModuleArchitecture=="object"?t.cineModuleArchitecture:null}const Yo=NG(fC),HG=Yo&&typeof Yo.detectGlobalScope=="function"?Yo.detectGlobalScope:dC,Nn=HG();function jG(e){const t=[];function o(r){!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)}return o(e),typeof globalThis<"u"&&o(globalThis),typeof window<"u"&&o(window),typeof self<"u"&&o(self),typeof global<"u"&&o(global),t}const pC=Yo&&typeof Yo.collectCandidateScopes=="function"?function(e){return Yo.collectCandidateScopes(e||Nn)}:function(e){return jG(e||Nn)},UG=Yo&&typeof Yo.tryRequire=="function"?Yo.tryRequire:function(e){return null};let Rb,Lb=!1;function zG(){if(zo&&typeof zo=="object")return zo;const e=pC(Nn);if(Yo&&typeof Yo.resolveFromScopes=="function"){const t=Yo.resolveFromScopes("cineModuleBase",{scopes:e});if(t&&typeof t=="object")return t}for(let t=0;t<e.length;t+=1){const o=e[t];if(o&&typeof o.cineModuleBase=="object")return o.cineModuleBase}return null}function Zr(){return Lb||(Rb=zG(),Lb=!0),Rb}let Mc,Gb=!1;function Vo(){if(!Gb){const e=Zr();if(e&&typeof e.getGlobalScope=="function")try{Mc=e.getGlobalScope()||Nn}catch{Mc=Nn}else Mc=Nn;Gb=!0}return Mc}function nh(e){const t=Zr();if(t&&typeof t.collectCandidateScopes=="function")try{const o=t.collectCandidateScopes(e||Vo());if(Array.isArray(o))return o}catch{}return pC(e||Vo())}function mC(){const e=Zr();return e&&typeof e.tryRequire=="function"?e.tryRequire:UG}function Yy(e){const t=Zr(),o=e||Vo();if(t&&typeof t.resolveModuleRegistry=="function")try{return t.resolveModuleRegistry(o)}catch{}if(Ko&&typeof Ko=="object")return Ko;const r=nh(o);if(Yo&&typeof Yo.resolveFromScopes=="function"){const n=Yo.resolveFromScopes("cineModules",{scopes:r});if(n&&typeof n=="object")return n}for(let n=0;n<r.length;n+=1){const a=r[n];if(a&&typeof a.cineModules=="object")return a.cineModules}return null}let Tb,Ob=!1;function Wf(e){return e&&e!==Vo()?Yy(e):(Ob||(Tb=Yy(Vo()),Ob=!0),Tb)}function ah(){const e=Zr();return e&&typeof e.PENDING_QUEUE_KEY=="string"?e.PENDING_QUEUE_KEY:"__cinePendingModuleRegistrations__"}function VG(e){if(!e||typeof e!="object")return null;const t=ah();let o=e[t];if(Array.isArray(o))return o;try{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:[]}),o=e[t]}catch{try{Array.isArray(e[t])||(e[t]=[]),o=e[t]}catch{return null}}return o}function ih(e,t,o,r){const n=Zr(),a=e||Vo();if(n&&typeof n.queueModuleRegistration=="function")try{return n.queueModuleRegistration(t,o,r,a)}catch{}const l=VG(a);if(!l)return!1;const s=Object.freeze({name:t,api:o,options:Object.freeze({...r||{}})});try{l.push(s)}catch{l[l.length]=s}return!0}function lh(e,t,o,r,n,a){const l=Zr(),s=e||Vo(),u=t||Wf(s);if(l&&typeof l.registerOrQueueModule=="function")try{return l.registerOrQueueModule(o,r,n,a,s,u)}catch{}if(u&&typeof u.register=="function")try{return u.register(o,r,n),!0}catch(f){typeof a=="function"&&a(f)}return ih(s,o,r,n),!1}function Qy(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;if(qG(e)||typeof process<"u"&&process&&process.release&&process.release.name==="node")return!0;try{let t=null;try{typeof console<"u"&&console&&(t=console)}catch(o){}if(t){if(e===t)return!0;try{if(e.__cameraPowerPlannerOriginal&&e.__cameraPowerPlannerOriginal===t)return!0}catch(o){}}try{if(typeof e.log=="function"&&typeof e.warn=="function"&&typeof e.error=="function"){const o=e.constructor&&e.constructor.name;if(o&&/Console/i.test(o))return!0;if(typeof Symbol<"u"&&e[Symbol.toStringTag]){const r=e[Symbol.toStringTag];if(typeof r=="string"&&/Console/i.test(r))return!0}}}catch(o){}}catch{return!1}return!1}function Xy(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;try{if(typeof e.require=="function"&&typeof e.loaded=="boolean"&&((Array.isArray?Array.isArray(e.children):Object.prototype.toString.call(e.children)==="[object Array]")||typeof e.paths<"u"))return!0}catch{}return!1}function Zy(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;if(Nn&&typeof Nn=="object")try{if(e===Nn.ethereum)return!0}catch{return!0}try{if(e.isMetaMask===!0)return!0}catch(t){if(t&&typeof t.message=="string"&&/metamask/i.test(t.message))return!0}try{if(typeof e.request=="function"&&typeof e.on=="function"){if(typeof e.removeListener=="function"||typeof e.removeEventListener=="function")return!0;const t=e.constructor&&e.constructor.name;if(t&&/Ethereum|MetaMask|Provider/i.test(t))return!0}}catch{return!0}return!1}function qG(e){if(!e||typeof process>"u"||!process)return!1;if(e===process)return!0;if(typeof e=="object"){try{if(e.constructor&&e.constructor.name==="process")return!0}catch{}if(typeof e.pid=="number"&&typeof e.nextTick=="function"&&typeof e.emit=="function"&&typeof e.binding=="function")return!0}if(typeof e=="function"){if(e===process.binding||e===process._linkedBinding||e===process.dlopen)return!0;try{const t=e.name||"";if(t&&(t==="binding"||t==="dlopen")){const o=Function.prototype.toString.call(e);if(o&&o.indexOf("[native code]")!==-1)return!0}}catch{}}return!1}function Jy(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;try{if(typeof e.pipe=="function"&&typeof e.unpipe=="function")return!0;if(typeof e.on=="function"&&typeof e.emit=="function"){if(typeof e.write=="function"||typeof e.read=="function")return!0;const t=e.constructor&&e.constructor.name;if(t&&/Stream|Emitter|Port/i.test(t))return!0}if(typeof Symbol<"u"&&e[Symbol.toStringTag]){const t=e[Symbol.toStringTag];if(typeof t=="string"&&/Stream|Port/i.test(t))return!0}}catch{}return!1}function WG(e){if(e&&typeof e.has=="function"&&typeof e.add=="function")return e;if(Array.isArray(e))return{has(o){return e.indexOf(o)!==-1},add(o){e.indexOf(o)===-1&&e.push(o)}};if(typeof WeakSet=="function")try{return new WeakSet}catch{}const t=[];return{has(o){return t.indexOf(o)!==-1},add(o){t.indexOf(o)===-1&&t.push(o)}}}function yC(e,t){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function"||Jy(e)||Zy(e)||Qy(e)||Xy(e))return e;const o=WG(t);if(o.has(e))return e;o.add(e);const r=Object.getOwnPropertyNames(e);for(let n=0;n<r.length;n+=1){const a=r[n];let l;try{l=Object.getOwnPropertyDescriptor(e,a)}catch{l=null}if(l&&(typeof l.get=="function"||typeof l.set=="function"))continue;let s;try{s=e[a]}catch{s=void 0}!s||typeof s=="function"||typeof s!="object"&&typeof s!="function"||Jy(s)||Zy(s)||Qy(s)||Xy(s)||yC(s,o)}try{return Object.freeze(e)}catch{return e}}function $d(e,t){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function"||Jy(e)||Zy(e)||Qy(e)||Xy(e))return e;const o=Zr();return(o&&typeof o.freezeDeep=="function"?o.freezeDeep:yC)(e,t)}function KG(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}function sh(e,t){const o=Zr();(o&&typeof o.safeWarn=="function"?o.safeWarn:KG)(e,t)}function $G(e,t,o,r={}){if(!o||typeof o!="object")return!1;const n={configurable:r.configurable!==!1,enumerable:!!r.enumerable,value:t,writable:r.writable===!0};try{return Object.defineProperty(o,e,n),!0}catch{try{return o[e]=t,!0}catch{return!1}}}function ch(e,t,o,r){const n=o||Vo(),a=Zr();return a&&typeof a.exposeGlobal=="function"?a.exposeGlobal(e,t,n,r):$G(e,t,n,r)}function YG(e={}){const t=e&&typeof e.scope=="object"?e.scope:Vo(),o=e&&e.registry?e.registry:Wf(t),r={tryRequire(n){return mC()(n)},queueModuleRegistration(n,a,l){return ih(t,n,a,l)},registerOrQueueModule(n,a,l,s){return lh(t,o,n,a,l,s)},freezeDeep:$d,safeWarn:sh,exposeGlobal(n,a,l){return ch(n,a,t,l)},collectCandidateScopes(){return Object.freeze(nh(t).slice())},PENDING_QUEUE_KEY:ah()};return Object.defineProperties(r,{scope:{configurable:!1,enumerable:!0,get(){return t}},registry:{configurable:!1,enumerable:!0,get(){return o}}}),$d(r)}const uh=$d({getModuleBase:Zr,getGlobalScope:Vo,getModuleRegistry:Wf,resolveModuleRegistry:Yy,collectCandidateScopes:nh,tryRequire(e){return mC()(e)},queueModuleRegistration(e,t,o,r){return ih(r||Vo(),e,t,o)},registerOrQueueModule(e,t,o,r,n,a){return lh(n||Vo(),a,e,t,o,r)},freezeDeep:$d,safeWarn:sh,exposeGlobal(e,t,o,r){return ch(e,t,o||Vo(),r)},PENDING_QUEUE_KEY:ah(),createScopedEnvironment:YG});lh(Vo(),Wf(),"cineModuleEnvironment",uh,{category:"infrastructure",description:"Shared environment bootstrap that harmonizes module communication across bundles.",replace:!0,connections:["cineModuleBase","cineModuleGlobals","cineEnvironmentBridge"]},e=>{sh("Unable to register cineModuleEnvironment.",e)});ch("cineModuleEnvironment",uh,Vo(),{configurable:!0,enumerable:!1,writable:!1});const Zi=uh;var kb={};function QG(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}var ya=QG();function Yd(e){var t=[];function o(r){!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)}return o(e),typeof globalThis<"u"&&o(globalThis),typeof window<"u"&&o(window),typeof self<"u"&&o(self),typeof global<"u"&&o(global),t}function gC(e){return null}function XG(e){if(Zi&&typeof Zi=="object")return Zi;for(var t=Yd(e||ya),o=0;o<t.length;o+=1){var r=t[o];if(r&&typeof r.cineModuleEnvironment=="object")return r.cineModuleEnvironment}return null}function ZG(e){if(!e||typeof process>"u"||!process)return!1;if(e===process)return!0;if(typeof e=="object"){try{if(e.constructor&&e.constructor.name==="process")return!0}catch{}if(typeof e.pid=="number"&&typeof e.nextTick=="function"&&typeof e.emit=="function"&&typeof e.binding=="function")return!0}if(typeof e=="function"){if(e===process.binding||e===process._linkedBinding||e===process.dlopen)return!0;try{const t=e.name||"";if(t&&(t==="binding"||t==="dlopen")){const o=Function.prototype.toString.call(e);if(o&&o.indexOf("[native code]")!==-1)return!0}}catch{}}return!1}function JG(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;if(ZG(e)||hC(e))return!0;try{if(typeof e.pipe=="function"&&typeof e.unpipe=="function")return!0;if(typeof e.on=="function"&&typeof e.emit=="function"){if(typeof e.write=="function"||typeof e.read=="function")return!0;var t=e.constructor&&e.constructor.name;if(t&&/Stream|Emitter|Port/i.test(t))return!0}if(typeof Symbol<"u"&&e[Symbol.toStringTag]){var o=e[Symbol.toStringTag];if(typeof o=="string"&&/Stream|Port/i.test(o))return!0}}catch{}return!1}function hC(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;if(ya&&typeof ya=="object")try{if(e===ya.ethereum)return!0}catch{return!0}try{if(e.isMetaMask===!0)return!0}catch(o){if(o&&typeof o.message=="string"&&/metamask/i.test(o.message))return!0}try{if(typeof e.request=="function"&&typeof e.on=="function"){if(typeof e.removeListener=="function"||typeof e.removeEventListener=="function")return!0;var t=e.constructor&&e.constructor.name;if(t&&/Ethereum|MetaMask|Provider/i.test(t))return!0}}catch{return!0}return!1}function bC(e,t){var o=t;if(!o)if(typeof WeakSet=="function")o=new WeakSet;else{var r=[];o={add:function(a){r.push(a)},has:function(a){return r.indexOf(a)!==-1}}}if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function"||JG(e))return e;if(typeof process<"u"&&process&&kb&&kb.JEST_WORKER_ID){try{typeof Object.freeze=="function"&&Object.freeze(e)}catch{}return e}if(hC(e)||typeof o.has=="function"&&o.has(e))return e;typeof o.add=="function"&&o.add(e);try{Object.freeze(e)}catch{}return e}function SC(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}function vC(e,t,o,r){if(!o||typeof o!="object")return!1;var n={configurable:!r||r.configurable!==!1,enumerable:!!(r&&r.enumerable),value:t,writable:!!(r&&r.writable===!0)};try{return Object.defineProperty(o,e,n),!0}catch{try{return o[e]=t,!0}catch{return!1}}}function eT(e,t){if(!e||typeof e!="object")return null;var o=null;try{o=e[t]}catch{o=null}if(Array.isArray(o))return o;try{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:[]}),o=e[t]}catch{try{Array.isArray(e[t])||(e[t]=[]),o=e[t]}catch{return null}}return o}function tT(e){if(!e||typeof e!="object")return{};var t={},o=[];try{o=Object.keys(e)}catch{o=[]}for(var r=0;r<o.length;r+=1){var n=o[r];try{t[n]=e[n]}catch{}}return t}function dh(e){var t=e||ya,o="__cinePendingModuleRegistrations__",r=null,n=!1;function a(y){if(Ko&&typeof Ko=="object")return Ko;for(var R=Yd(y),_=0;_<R.length;_+=1){var T=R[_];if(T&&typeof T.cineModules=="object")return T.cineModules}return null}function l(){return n||(r=a(t),n=!0),r}function s(y,R,_){var T=eT(t,o);if(!T)return!1;var I=Object.freeze(tT(_)),m=Object.freeze({name:y,api:R,options:I});try{T.push(m)}catch{T[T.length]=m}return!0}function u(y,R,_,T){var I=l();if(I&&typeof I.register=="function")try{return I.register(y,R,_||{}),!0}catch(m){if(typeof T=="function")try{T(m)}catch{}}return s(y,R,_)}function f(){var y=Yd(t);return y.slice()}return{scope:t,registry:l(),tryRequire:function(R){return gC()},queueModuleRegistration:function(R,_,T){return s(R,_,T)},registerOrQueueModule:function(R,_,T,I){return u(R,_,T,I)},freezeDeep:function(R,_){return bC(R,_)},safeWarn:function(R,_){SC(R,_)},exposeGlobal:function(R,_,T){return vC(R,_,t,T||{})},collectCandidateScopes:function(){return Object.freeze(f())},PENDING_QUEUE_KEY:o}}function fh(e){var t=e||ya,o=XG(t);if(o&&typeof o.createScopedEnvironment=="function")try{var r=o.createScopedEnvironment({scope:t});if(r&&typeof r=="object")return{scope:r.scope||t,moduleEnv:o,environment:r}}catch{}var n=dh(t);return{scope:n.scope||t,moduleEnv:o||null,environment:n}}var vs=null;function Kf(){return vs||(vs=fh(ya)),vs}function oT(e){var t=e&&e.scope?e.scope:ya;return vs=fh(t),vs}function zn(e,t){try{return e()}catch{return t}}function Hn(){return Kf().scope}function Aa(){return Kf().environment}function $f(){return Kf().moduleEnv}function EC(e){if(e&&e!==Hn()){var t=$f();if(t&&typeof t.getModuleRegistry=="function")return zn(function(){return t.getModuleRegistry(e)},null);var o=fh(e);return o.environment&&o.environment.registry?o.environment.registry:null}var r=Kf();if(r.environment&&r.environment.registry)return r.environment.registry;var n=r.moduleEnv;return n&&typeof n.getModuleRegistry=="function"?zn(function(){return n.getModuleRegistry(r.scope)},null):null}function rT(e){var t=Aa();if(t&&typeof t.tryRequire=="function"){var o=zn(function(){return t.tryRequire(e)},void 0);if(typeof o<"u")return o}var r=$f();if(r&&typeof r.tryRequire=="function"){var n=zn(function(){return r.tryRequire(e)},void 0);if(typeof n<"u")return n}return gC()}function CC(e,t,o){var r=Aa();if(r&&typeof r.queueModuleRegistration=="function")return zn(function(){return r.queueModuleRegistration(e,t,o)},!1);var n=dh(Hn());return n.queueModuleRegistration(e,t,o)}function nT(e,t,o,r,n){var a=Aa();if(a&&typeof a.registerOrQueueModule=="function")return zn(function(){return a.registerOrQueueModule(e,t,o,r)},!1);var l=n||Hn(),s=dh(l);return s.registerOrQueueModule(e,t,o,r)}function aT(e,t){return bC(e,t)}function AC(e,t){var o=Aa();if(o&&typeof o.safeWarn=="function"){zn(function(){o.safeWarn(e,t)},void 0);return}SC(e,t)}function Ib(e,t,o,r){var n=Aa();return n&&typeof n.exposeGlobal=="function"?zn(function(){return n.exposeGlobal(e,t,r)},!1):vC(e,t,o||Hn(),r||{})}function iT(e){var t=Aa();if(t&&typeof t.collectCandidateScopes=="function"){var o=zn(function(){return t.collectCandidateScopes(e)},[]);if(Array.isArray(o))return o.slice()}return Yd(e||Hn())}function lT(){var e=Aa();if(e&&typeof e.PENDING_QUEUE_KEY=="string")return e.PENDING_QUEUE_KEY;var t=$f();return t&&typeof t.PENDING_QUEUE_KEY=="string"?t.PENDING_QUEUE_KEY:"__cinePendingModuleRegistrations__"}var Vs=Object.freeze({getGlobalScope:Hn,getEnvironment:Aa,getModuleEnvironment:$f,getModuleRegistry:EC,tryRequire:rT,queueModuleRegistration:CC,registerOrQueueModule:nT,freezeDeep:aT,safeWarn:AC,exposeGlobal:function(t,o,r){return Ib(t,o,Hn(),r||{})},exposeGlobalScoped:function(t,o,r,n){return Ib(t,o,r||Hn(),n||{})},collectCandidateScopes:function(t){return Object.freeze(iT(t))},getPendingQueueKey:lT,refresh:function(t){return Object.freeze(oT(t||{}))}}),_c=Hn();if(_c&&typeof _c=="object")try{Object.defineProperty(_c,"cineEnvironmentBridge",{configurable:!0,enumerable:!1,writable:!1,value:Vs})}catch{try{_c.cineEnvironmentBridge=Vs}catch{}}var Rp=EC();if(Rp&&typeof Rp.register=="function")try{Rp.register("cineEnvironmentBridge",Vs,{category:"infrastructure",description:"Provides consistent global environment access between Cine modules.",replace:!0,connections:["cineModuleEnvironment","cineModuleGlobals"]})}catch(e){AC("Unable to register cineEnvironmentBridge.",e)}else CC("cineEnvironmentBridge",Vs,{category:"infrastructure",description:"Provides consistent global environment access between Cine modules.",replace:!0,connections:["cineModuleEnvironment","cineModuleGlobals"]});const Lp=Vs;var Pb={};(function(){function e(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}const t=e(),o="__cineReloadProbe__",r="x-cine-connectivity-probe",n="x-cine-connectivity-probe-result",a="network",l="fallback",s="cine-sw-logs",u="cine-sw:connectivity-status";function f(d){if(typeof require=="function")try{return require("./helpers/module-linker.js")}catch{}const p=[d];typeof globalThis<"u"&&p.indexOf(globalThis)===-1&&p.push(globalThis),typeof window<"u"&&p.indexOf(window)===-1&&p.push(window),typeof self<"u"&&p.indexOf(self)===-1&&p.push(self),typeof global<"u"&&p.indexOf(global)===-1&&p.push(global);for(let b=0;b<p.length;b+=1){const G=p[b];try{const L=G&&G.cineModuleLinker;if(L&&typeof L=="object")return L}catch{}}return null}function y(d){if(typeof require=="function")try{return require("./environment.js")}catch{}const p=[d];typeof globalThis<"u"&&p.indexOf(globalThis)===-1&&p.push(globalThis),typeof window<"u"&&p.indexOf(window)===-1&&p.push(window),typeof self<"u"&&p.indexOf(self)===-1&&p.push(self),typeof global<"u"&&p.indexOf(global)===-1&&p.push(global);for(let b=0;b<p.length;b+=1){const G=p[b];if(G&&typeof G.cineModuleEnvironment=="object")return G.cineModuleEnvironment}return null}function R(d){if(typeof require=="function")try{return require("./environment-bridge.js")}catch{}const p=[d];typeof globalThis<"u"&&p.indexOf(globalThis)===-1&&p.push(globalThis),typeof window<"u"&&p.indexOf(window)===-1&&p.push(window),typeof self<"u"&&p.indexOf(self)===-1&&p.push(self),typeof global<"u"&&p.indexOf(global)===-1&&p.push(global);for(let b=0;b<p.length;b+=1){const G=p[b];if(G&&typeof G.cineEnvironmentBridge=="object")return G.cineEnvironmentBridge}return null}const _=f(t),T=_&&typeof _.getModuleEnvironment=="function"?_.getModuleEnvironment():y(t),I=_&&typeof _.getEnvironmentBridge=="function"?_.getEnvironmentBridge():R(t),m=(_&&typeof _.getGlobalScope=="function"?_.getGlobalScope():null)||(I&&typeof I.getGlobalScope=="function"?I.getGlobalScope():null)||(T&&typeof T.getGlobalScope=="function"?T.getGlobalScope():null)||t;function g(){if(typeof require=="function")try{const p=require("./globals.js");if(p&&typeof p=="object")return p}catch{}const d=[m];typeof globalThis<"u"&&d.indexOf(globalThis)===-1&&d.push(globalThis),typeof window<"u"&&d.indexOf(window)===-1&&d.push(window),typeof self<"u"&&d.indexOf(self)===-1&&d.push(self),typeof global<"u"&&d.indexOf(global)===-1&&d.push(global);for(let p=0;p<d.length;p+=1){const b=d[p];if(b&&typeof b.cineModuleGlobals=="object")return b.cineModuleGlobals}return null}const A=(_&&typeof _.getModuleGlobals=="function"?_.getModuleGlobals():null)||g();let w=null,E=!1,S=null;const C=new Set;function F(d){if(!d)return null;if(typeof d=="string")return d;if(typeof d=="number")return Number.isFinite(d)?d:null;if(typeof d=="boolean")return d;if(typeof d=="object"){const p={},b=typeof d.name=="string"&&d.name?d.name:null,G=typeof d.message=="string"&&d.message?d.message:null,L=typeof d.code=="string"&&d.code?d.code:null;if(b&&(p.name=b),G&&(p.message=G),L&&(p.code=L),typeof d.status=="number"&&Number.isFinite(d.status)&&(p.status=d.status),typeof d.type=="string"&&d.type&&(p.type=d.type),Object.keys(p).length===0){try{const P=String(d);if(P&&P!=="[object Object]")return P}catch{}return null}return p}try{return String(d)}catch{return null}}function j(d){if(!d)return null;if(typeof d!="object")return F(d);const p={};if(typeof d.status=="number"&&Number.isFinite(d.status)&&(p.status=d.status),typeof d.statusText=="string"&&d.statusText&&(p.statusText=d.statusText),typeof d.probeResult=="string"&&d.probeResult&&(p.probeResult=d.probeResult),typeof d.reason=="string"&&d.reason&&(p.reason=d.reason),typeof d.stage=="string"&&d.stage&&(p.stage=d.stage),typeof d.source=="string"&&d.source&&(p.source=d.source),typeof d.message=="string"&&d.message&&(p.message=d.message),typeof d.code=="string"&&d.code&&(p.code=d.code),d.head&&typeof d.head=="object"){const b=j(d.head);b&&(p.head=b)}if(d.error){const b=F(d.error);b&&(p.error=b)}if(d.detail&&typeof d.detail=="object"&&d.detail!==d){const b=j(d.detail);b&&(p.detail=b)}return Object.keys(p).length?p:null}function $(){if(E)return null;if(w)return w;if(typeof BroadcastChannel!="function")return E=!0,null;try{return w=new BroadcastChannel(s),w}catch(d){return E=!0,ve("cineOffline: Unable to open connectivity broadcast channel",d),null}}function x(d){if(!(!m||typeof m!="object"))try{m.cineConnectivityStatus=d}catch{}}function Q(d){C.forEach(p=>{try{p(d)}catch(b){ve("cineOffline: connectivity listener failed",b)}})}function le(d){const p=$();if(p)try{p.postMessage({type:u,state:d})}catch(b){ve("cineOffline: Unable to broadcast connectivity state",b);try{p.close()}catch{}w=null,E=!0}}function K(d){try{return ro(d)}catch(p){return ve("cineOffline: Unable to freeze connectivity state",p),d}}function re(d){const p=S&&typeof S=="object"?S:{status:"unknown",detail:null,source:"cineOffline"},b={status:typeof d.status=="string"&&d.status?d.status:p.status||"unknown",reason:typeof d.reason=="string"&&d.reason?d.reason:null,detail:typeof d.detail>"u"?p.detail:j(d.detail),timestamp:typeof d.timestamp=="number"&&Number.isFinite(d.timestamp)?d.timestamp:Date.now(),source:typeof d.source=="string"&&d.source?d.source:p.source||"cineOffline"};return K(b)}function Ee(d){if(typeof document>"u"||!document)return;const p=document.getElementById("offlineIndicator");p&&(d.status==="offline"?typeof p.removeAttribute=="function"&&p.removeAttribute("hidden"):typeof p.setAttribute=="function"&&p.setAttribute("hidden",""))}function ae(d){if(!d||typeof d!="object")return S;const p=re(d);return S&&S.status===p.status&&S.reason===p.reason&&S.detail===p.detail&&S.source===p.source?(S=p,x(p),Ee(p),S):(S=p,x(p),Ee(p),Q(p),le(p),S)}function Z(d,p){if(_&&typeof _.recordModule=="function"&&_.recordModule(d,p),!(!A||typeof A.recordModule!="function"))try{A.recordModule(d,p)}catch{}}function ce(d){if(typeof require!="function")return null;try{return require(d)}catch{return null}}const Le=(function(){return _&&typeof _.tryRequire=="function"?_.tryRequire:A&&typeof A.tryRequire=="function"?A.tryRequire:I&&typeof I.tryRequire=="function"?function(b){const G=I.tryRequire(b);return typeof G>"u"?ce(b):G}:T&&typeof T.tryRequire=="function"?T.tryRequire:ce})();function Pe(d){const p=d||m;if(_&&typeof _.getModuleRegistry=="function"){const L=_.getModuleRegistry(p);if(L)return L}if(A&&typeof A.resolveModuleRegistry=="function")try{const L=A.resolveModuleRegistry(p);if(L)return L}catch{}if(I&&typeof I.getModuleRegistry=="function")try{const L=I.getModuleRegistry(p);if(L)return L}catch{}if(T&&typeof T.resolveModuleRegistry=="function")try{const L=T.resolveModuleRegistry(p);if(L)return L}catch{}const b=Le("./registry.js");if(b&&typeof b=="object")return b;const G=[p];typeof globalThis<"u"&&G.indexOf(globalThis)===-1&&G.push(globalThis),typeof window<"u"&&G.indexOf(window)===-1&&G.push(window),typeof self<"u"&&G.indexOf(self)===-1&&G.push(self),typeof global<"u"&&G.indexOf(global)===-1&&G.push(global);for(let L=0;L<G.length;L+=1){const P=G[L];if(P&&typeof P.cineModules=="object")return P.cineModules}return null}const q=(function(){if(_&&typeof _.getModuleRegistry=="function"){const d=_.getModuleRegistry(m);if(d)return d}if(A&&typeof A.getModuleRegistry=="function")try{const d=A.getModuleRegistry(m);if(d)return d}catch{}if(I&&typeof I.getModuleRegistry=="function")try{const d=I.getModuleRegistry(m);if(d)return d}catch{}if(T&&typeof T.getModuleRegistry=="function")try{const d=T.getModuleRegistry(m);if(d)return d}catch{}return Pe(m)})(),oe=(function(){if(A&&typeof A.getPendingQueueKey=="function")try{const p=A.getPendingQueueKey();if(typeof p=="string"&&p)return p}catch{}if(I&&typeof I.getPendingQueueKey=="function")try{const p=I.getPendingQueueKey();if(typeof p=="string"&&p)return p}catch{}return T&&typeof T.PENDING_QUEUE_KEY=="string"?T.PENDING_QUEUE_KEY:"__cinePendingModuleRegistrations__"})();function ne(d){if(!d||typeof d!="object")return{};const p={},b=Object.keys(d);for(let G=0;G<b.length;G+=1){const L=b[G];p[L]=d[L]}return p}function ge(d,p,b){if(!m||typeof m!="object")return!1;const G=Object.freeze({name:d,api:p,options:Object.freeze(ne(b))});let L=m[oe];if(!Array.isArray(L))try{Object.defineProperty(m,oe,{configurable:!0,enumerable:!1,writable:!0,value:[]}),L=m[oe]}catch{try{Array.isArray(m[oe])||(m[oe]=[]),L=m[oe]}catch{return!1}}try{L.push(G)}catch{L[L.length]=G}return!0}function J(d,p,b){if(A&&typeof A.queueModuleRegistration=="function")try{if(A.queueModuleRegistration(d,p,b,m))return!0}catch{}if(I&&typeof I.queueModuleRegistration=="function")try{if(I.queueModuleRegistration(d,p,b))return!0}catch{}return T&&typeof T.queueModuleRegistration=="function"?T.queueModuleRegistration(d,p,b,m):ge(d,p,b)}function he(d,p,b,G){if(q&&typeof q.register=="function")try{return q.register(d,p,b),!0}catch(L){if(typeof G=="function")try{G(L)}catch{}}return J(d,p,b),!1}const ke=(function(){return A&&typeof A.registerOrQueueModule=="function"?function(b,G,L,P){try{if(A.registerOrQueueModule(b,G,L,P,m,q))return!0}catch{}return he(b,G,L,P)}:I&&typeof I.registerOrQueueModule=="function"?function(b,G,L,P){try{if(I.registerOrQueueModule(b,G,L,P,m,q))return!0}catch{}return he(b,G,L,P)}:T&&typeof T.registerOrQueueModule=="function"?function(b,G,L,P){return T.registerOrQueueModule(b,G,L,P,m,q)}:he})();function nt(d){if(!d||typeof process>"u"||!process)return!1;if(d===process)return!0;if(typeof d=="object"){try{if(d.constructor&&d.constructor.name==="process")return!0}catch{}if(typeof d.pid=="number"&&typeof d.nextTick=="function"&&typeof d.emit=="function"&&typeof d.binding=="function")return!0}if(typeof d=="function"){if(d===process.binding||d===process._linkedBinding||d===process.dlopen)return!0;try{const p=d.name||"";if(p&&(p==="binding"||p==="dlopen")){const b=Function.prototype.toString.call(d);if(b&&b.indexOf("[native code]")!==-1)return!0}}catch{}}return!1}function pt(d){if(!d||typeof d=="function"||typeof d!="object"&&typeof d!="function")return!1;if(nt(d)||typeof process<"u"&&process&&process.release&&process.release.name==="node")return!0;try{if(typeof d.pipe=="function"&&typeof d.unpipe=="function")return!0;if(typeof d.on=="function"&&typeof d.emit=="function"){if(typeof d.write=="function"||typeof d.read=="function")return!0;const p=d.constructor&&d.constructor.name;if(p&&/Stream|Emitter|Port/i.test(p))return!0}if(typeof Symbol<"u"&&d[Symbol.toStringTag]){const p=d[Symbol.toStringTag];if(typeof p=="string"&&/Stream|Port/i.test(p))return!0}}catch{}return!1}function Gt(d){if(d&&typeof d.has=="function"&&typeof d.add=="function")return d;if(Array.isArray(d))return{has(b){return d.indexOf(b)!==-1},add(b){d.indexOf(b)===-1&&d.push(b)}};if(typeof WeakSet=="function")try{return new WeakSet}catch{}const p=[];return{has(b){return p.indexOf(b)!==-1},add(b){p.indexOf(b)===-1&&p.push(b)}}}function Kt(d,p){if(!d||typeof d!="object"||pt(d))return d;if(typeof process<"u"&&process&&Pb&&Pb.JEST_WORKER_ID){try{typeof Object.freeze=="function"&&Object.freeze(d)}catch{}return d}const b=Gt(p);if(b.has(d))return d;b.add(d);const G=Object.getOwnPropertyNames(d);for(let L=0;L<G.length;L+=1){const P=G[L];let V;try{V=d[P]}catch{V=void 0}!V||typeof V=="function"||typeof V!="object"&&typeof V!="function"||Kt(V,b)}try{return Object.freeze(d)}catch{return d}}let Je;function ro(d,p){return $t()(d,p)}function $t(){return Je||(Je=Eo()),Je}function Eo(){return A&&typeof A.freezeDeep=="function"?A.freezeDeep:I&&typeof I.freezeDeep=="function"?function(p,b){try{return I.freezeDeep(p,b)}catch{return Kt(p,b)}}:T&&typeof T.freezeDeep=="function"?T.freezeDeep:Kt}function Co(d,p){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof p>"u"?console.warn(d):console.warn(d,p)}catch{}}const ve=(function(){return A&&typeof A.safeWarn=="function"?A.safeWarn:I&&typeof I.safeWarn=="function"?function(b,G){try{I.safeWarn(b,G)}catch{Co(b,G)}}:T&&typeof T.safeWarn=="function"?T.safeWarn:Co})();S=ae({status:"unknown",source:"cineOffline"});const Ao=700,et=3500,no=180;let eo=!1;function Oe(d){return!d||typeof d.then!="function"?Promise.resolve(!1):d.then(()=>!0).catch(()=>!1)}function Fe(d){if(!d)return!1;let p="";try{p=typeof d.message=="string"?d.message:""}catch{p=""}let b="";try{b=typeof d.name=="string"?d.name:""}catch{b=""}const G=p.toLowerCase(),L=b.toLowerCase();return L.includes("cors")||L.includes("accesscontrol")?!0:G?!!(G.includes("access control")||G.includes("cors")||G.includes("cross-origin")):!1}function br(d,p){if(!d)return!1;let b="";try{b=typeof d.message=="string"?d.message:""}catch{b=""}let G="";try{G=typeof d.name=="string"?d.name:""}catch{G=""}const L=b.toLowerCase(),P=G.toLowerCase();if(Fe(d)||P==="aborted"||P==="aborterror"||L.includes("load failed")||L.includes("cancelled")||L.includes("canceled"))return!0;if(typeof DOMException=="function")try{if(d instanceof DOMException&&(d.name==="NetworkError"||d.code===DOMException.NETWORK_ERR))return!0}catch{}if(p&&typeof p=="string")try{const V=typeof location=="object"&&location?wt(location):void 0,H=typeof URL=="function"?new URL(p,V||void 0):null;if(H&&H.protocol&&H.protocol!=="http:"&&H.protocol!=="https:")return!0}catch{}return!1}function Do(d,p){const b=p||xt();if(b&&typeof b.safari=="object"&&b.safari&&typeof b.safari.pushNotification=="object")return!0;const G=d&&typeof d.vendor=="string"?d.vendor:"",L=d&&typeof d.userAgent=="string"?d.userAgent:"";if(!G&&!L)return!1;const V=G.toLowerCase().trim(),H=L.toLowerCase(),W=["crios","fxios","edgios","edga","edge","opr/","opt/","opera","chrome","chromium"];for(let yt=0;yt<W.length;yt+=1){const Rt=W[yt];if(H.includes(Rt))return!1}const te=V.includes("apple"),pe=H.includes("safari"),ee=H.includes("applewebkit"),ie=H.includes("version/"),Ie=H.includes("mobile/"),Ce=H.includes("macintosh")||H.includes("iphone")||H.includes("ipad")||H.includes("ipod")||H.includes("watch")||H.includes("apple tv"),He=V.length===0,Me=pe||ee&&(ie||Ie||Ce),Dt=He&&ee&&Me;if(!te&&!Dt)return!1;if(te&&Me||Dt)return!0;let Vt=!1;if(d&&typeof d.standalone=="boolean"?Vt=d.standalone:b&&b.navigator&&typeof b.navigator.standalone=="boolean"&&(Vt=b.navigator.standalone),!Vt&&b&&typeof b.matchMedia=="function")try{const yt=b.matchMedia("(display-mode: standalone)");yt&&yt.matches&&(Vt=!0)}catch{}return Vt}function Mt(d,p){return typeof Qe(p)!="function"?!1:Do(d,p)}function sr(d={}){const p=typeof d.nextHref=="string"?d.nextHref:"";if(!p)return null;const b=xt(d.window),G=to(d.fetch,b);if(typeof G!="function")return null;const L=d.location&&typeof d.location=="object"?d.location:b&&b.location?b.location:null;if(!Ro(L,p))return null;const P=tr(d.navigator);if(P&&P.onLine===!1)return null;const V=Mt(P,b);let H=null;if(typeof AbortController=="function")try{H=new AbortController}catch{H=null}let W=!1,te=!1;const pe=[],ee=at=>{typeof at=="function"&&pe.push(at)},ie=Oe(d.serviceWorkerPromise).then(at=>(W=!0,at)),Ie=Oe(d.cachePromise).then(at=>(te=!0,at)),Ce=d.allowCache===!0,He=(()=>{const at=wt(L),Lo=or(L);if(!Lo)return!1;const qt=Br(p,at);return!!qt&&qt===Lo})(),Me="same-origin",Dt=He?"same-origin":"omit",Vt=(()=>{const at=wt(L),qt=No(L,typeof at=="string"&&at?at:p,p);if(typeof qt!="string"||!qt)return"";const ao=or(L);if(typeof URL=="function"){const io=typeof at=="string"&&at?at:void 0;try{const Et=new URL(qt,io);if(ao&&Et.origin&&Et.origin!==ao)return"";const Go=`${Et.pathname||""}${Et.search||""}${Et.hash||""}`;if(Go)return Go;if(ao&&(!Et.pathname||Et.pathname==="/"))return"/"}catch{}}if(typeof ao=="string"&&ao&&typeof qt=="string"&&qt.startsWith(ao)){const io=qt.slice(ao.length);if(!io||io.startsWith("/")||io.startsWith("?")||io.startsWith("#"))return io||"/"}return typeof qt=="string"&&(qt.startsWith("/")||!qt.includes("://"))?qt:""})(),Rt=(async()=>{const at=typeof d.warmupWaitMs=="number"?d.warmupWaitMs:no;try{await Promise.allSettled([Fo(ie,at),Fo(Ie,at)])}catch{}const Lo=Ce&&W&&te,qt=(Ze={})=>{const ze={cache:Lo?"reload":"no-store",credentials:Dt,mode:Me,redirect:"follow"};return H&&H.signal&&(ze.signal=H.signal),Object.assign(ze,Ze)},ao=async(Ze={})=>{const ze=qt(Ze),Ot=Vt||p;return G.call(b||void 0,Ot,ze)};H&&ee(()=>{try{H.abort()}catch{}});const io=()=>{if(!V)return null;const Ze=Qe(b);if(typeof Ze!="function")return null;const ze=Vt||p;if(!ze)return null;let Ot;try{Ot=new Ze}catch{Ot=null}if(!Ot)return null;let To=!1;ee(()=>{if(Ot){To=!0;try{Ot.abort()}catch{}}});const fr=new Promise(lo=>{const Mr=st=>{lo&&lo(st)};Ot.addEventListener("load",()=>{if(To){Mr(!1);return}try{Ot.responseText}catch{}const st=typeof Ot.status=="number"?Ot.status:0;if(!st){Mr(!0);return}Mr(st>=200&&st<400)}),Ot.addEventListener("error",()=>{Mr(!1)}),Ot.addEventListener("abort",()=>{Mr(!1)}),Ot.addEventListener("timeout",()=>{Mr(!1)})});try{Ot.open("GET",ze,!0)}catch{return null}try{Ot.responseType="text"}catch{}try{Ot.send(null)}catch{return null}return fr.then(lo=>!!lo)},Et=()=>H&&H.signal&&H.signal.aborted===!0;let Go=null,Ho=null,_e=!V;if(V)try{const Ze=await io();if(Ze===!0)return!0;Ze===!1?_e=!1:_e=!0}catch{_e=!0}if(_e)try{Go=await ao()}catch(Ze){Ho=Ze}if(!Go){if(Et()||Fe(Ho))return!1;let Ze=null,ze=Ho;const Ot=Lo?"reload":"no-store",To=[];Lo&&To.push("no-cache"),To.push("no-store"),To.push("default");for(let fr=0;fr<To.length&&!Ze;fr+=1){const lo=To[fr];if(lo!==Ot)try{Ze=await ao({cache:lo}),ze=null}catch(Mr){ze=Mr||ze||Ho,Ze=null}}if(!Ze){if(Et())return!1;const fr=br(ze||Ho,p);return!eo&&!fr&&(eo=!0,ve("Reload warmup fetch failed",ze||Ho)),!1}Go=Ze}if(!Go)return!1;try{const Ze=typeof Go.clone=="function"?Go.clone():Go;Ze&&typeof Ze.text=="function"&&Ze.bodyUsed!==!0&&await Ze.text()}catch{}return!0})();return Rt&&typeof Rt.catch=="function"&&Rt.catch(()=>{}),{cancel(){for(let at=0;at<pe.length;at+=1){const Lo=pe[at];if(typeof Lo=="function")try{Lo()}catch{}}},promise:Rt,done:Rt}}function Fo(d,p,b,G){if(!d||typeof d.then!="function")return Promise.resolve({timedOut:!1,result:d});const L=typeof p=="number"&&p>=0?p:null,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null;if(L===null||!P)return d.then(te=>({timedOut:!1,result:te}));let H=!1,W=null;return new Promise((te,pe)=>{d.then(ee=>{if(H)return ee;if(H=!0,W!=null&&V)try{V(W)}catch{}return te({timedOut:!1,result:ee}),ee},ee=>{if(H){if(typeof G=="function")try{G(ee)}catch{}return null}if(H=!0,W!=null&&V)try{V(W)}catch{}return pe(ee),null}),W=P(()=>{if(!H){if(H=!0,typeof b=="function")try{b()}catch{}te({timedOut:!0,result:void 0})}},L),W&&typeof W.unref=="function"&&W.unref()})}function xo(d,p){if(!m||typeof m!="object")return!1;try{return Object.defineProperty(m,d,{configurable:!0,enumerable:!1,value:p,writable:!1}),!0}catch{try{return m[d]=p,!0}catch{return!1}}}const cr=(function(){return A&&typeof A.exposeGlobal=="function"?function(b,G,L){try{return A.exposeGlobal(b,G,L)}catch{return xo(b,G)}}:I&&typeof I.exposeGlobal=="function"?function(b,G,L){try{return I.exposeGlobal(b,G,L)}catch{return xo(b,G)}}:T&&typeof T.exposeGlobal=="function"?function(b,G,L){return T.exposeGlobal(b,G,m,L)}:xo})(),ur=["cameraPowerPlanner_schemaCache","cinePowerPlanner_schemaCache"],on=["","__backup","__legacyMigrationBackup"],jt=new Set;let er=null;function vt(d){if(!(!m||typeof m!="object"&&typeof m!="function"))try{return m[d]}catch{return}}function xt(d){return d||(typeof window<"u"?window:vt("window"))}function tr(d){if(d)return d;if(typeof navigator<"u")return navigator;const p=xt();return p&&typeof p.navigator<"u"?p.navigator:vt("navigator")}function gi(d){return!d||typeof d!="object"||typeof d.onLine!="boolean"?!1:d.onLine===!1}function kr(d){if(d)return d;if(typeof caches<"u")return caches;const p=xt();return p&&typeof p.caches<"u"?p.caches:vt("caches")}function En(d){if(d&&typeof d=="object")return d;const p=xt();return p&&p.location&&typeof p.location=="object"?p.location:vt("location")}function to(d,p){if(typeof d=="function")return d;if(typeof fetch=="function")return fetch;const b=p||xt();if(b&&typeof b.fetch=="function")try{return b.fetch.bind(b)}catch{return b.fetch}const G=vt("fetch");return typeof G=="function"?G:null}function v(){if(typeof AbortController!="function")return null;try{return new AbortController}catch{return null}}function k(d){const p=new Error(d);return p.name="TimeoutError",p.code="ETIMEDOUT",p}function O(d,p,b,G){if(typeof d!="function")return Promise.resolve({successful:!1,error:new Error("Fetch unavailable"),timedOut:!1});const L=b?{...b}:{},P=v();let V=null,H=!1;if(P&&typeof P.signal<"u")try{L.signal=P.signal}catch{}let W=null;typeof G=="number"&&G>0&&typeof setTimeout=="function"&&(W=new Promise((ie,Ie)=>{try{V=setTimeout(()=>{if(H=!0,P&&typeof P.abort=="function")try{P.abort()}catch(Ce){}Ie(k("Connectivity probe timed out"))},G)}catch{W=null}}));const te=()=>{if(V)try{clearTimeout(V)}catch{}},pe=(()=>{try{return d(p,L)}catch(ie){return te(),Promise.reject(ie)}})();return(W?Promise.race([pe,W]):pe).then(ie=>(te(),{successful:!0,value:ie,timedOut:!1})).catch(ie=>(te(),{successful:!1,error:ie,timedOut:H}))}function B(d){if(!d)return!1;try{if(d.ok===!0)return!0}catch{}let p=0;try{p=typeof d.status=="number"?d.status:0}catch{p=0}return p===0?!0:p>=200&&p<400}function z(d,p){if(!d||typeof d!="string"||typeof p>"u"||p===null)return d;let b;if(typeof p=="string")b=p;else try{b=String(p)}catch{return d}if(!b)return d;let G=d,L="";const P=G.indexOf("#");P!==-1&&(L=G.slice(P),G=G.slice(0,P));const V=G.indexOf("?")===-1?"?":"&",H=encodeURIComponent(o),W=encodeURIComponent(b);return`${G}${V}${H}=${W}${L}`}function Y(d){if(!d||!d.headers||typeof d.headers.get!="function")return null;try{const p=d.headers.get(n);if(typeof p=="string"&&p)return p.toLowerCase()}catch{}return null}function se(d,p){if(d&&typeof d.nextHref=="string"&&d.nextHref)return d.nextHref;if(d&&typeof d.originalHref=="string"&&d.originalHref)return d.originalHref;const b=wt(p);if(b)return b;const G=Rn(p);return G||"index.html"}async function fe({navigatorLike:d,windowLike:p,locationLike:b,fetchFn:G,forceReloadUrl:L,timeoutMs:P}){if(gi(d))return{reachable:!1,reason:"offline"};const V=G||to(void 0,p);if(typeof V!="function")return{reachable:!0,reason:"fetch-unavailable"};const H=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2)}`,W=z(se(L,b),H),te={"Cache-Control":"no-store, max-age=0",Pragma:"no-cache"};typeof H=="string"&&H&&(te[r]=H);let pe=null;const ee=await O(V,W,{method:"HEAD",cache:"no-store",credentials:"same-origin",headers:te},P);if(ee.successful){let Ie=0;try{Ie=ee.value&&typeof ee.value.status=="number"?ee.value.status:0}catch{Ie=0}const Ce=Y(ee.value);if(Ce&&Ce!==a)pe={source:"head",status:Ie,probeResult:Ce||l};else{if(B(ee.value))return{reachable:!0,reason:"head-ok"};pe={source:"head",status:Ie}}}else{if(ee.timedOut)return{reachable:!1,reason:"timeout",detail:ee.error};ee.error&&(pe={source:"head",error:ee.error})}const ie=await O(V,W,{method:"GET",cache:"no-store",credentials:"same-origin",headers:{...te}},P);if(ie.successful){const Ie=Y(ie.value);return Ie&&Ie!==a?{reachable:!1,reason:"cache-fallback",detail:{status:ie.value&&typeof ie.value.status=="number"?ie.value.status:void 0,head:pe,probeResult:Ie||l}}:B(ie.value)?{reachable:!0,reason:"get-ok"}:{reachable:!1,reason:"get-failed",detail:{status:ie.value&&typeof ie.value.status=="number"?ie.value.status:void 0,head:pe}}}return ie.timedOut?{reachable:!1,reason:"timeout",detail:ie.error}:{reachable:!1,reason:"unreachable",detail:ie.error||pe||ee.error}}function Te(d){return typeof d!="function"?function(){}:(C.add(d),function(){try{C.delete(d)}catch{}})}function Be(d){if(typeof d=="function")try{C.delete(d)}catch{}}function Ve(d,p){if(!d||typeof d!="object")return;const b=d.detail&&typeof d.detail=="object"?{...d.detail,stage:p&&p.stage||"probe",source:p&&p.source||"probe"}:{stage:p&&p.stage||"probe",source:p&&p.source||"probe"};if(d.reachable){ae({status:"online",reason:typeof d.reason=="string"&&d.reason?d.reason:"probe-ok",detail:b,source:p&&p.source||"probe"});return}const G=d.reason==="offline"?"offline":"degraded";ae({status:G,reason:typeof d.reason=="string"&&d.reason?d.reason:"unknown",detail:b,source:p&&p.source||"probe"})}function Qe(d){const p=d||xt();if(p&&typeof p.XMLHttpRequest=="function")return p.XMLHttpRequest;if(typeof XMLHttpRequest=="function")return XMLHttpRequest;const b=vt("XMLHttpRequest");return typeof b=="function"?b:null}function Tt(d,p,b){if(!p||typeof p!="object"&&typeof p!="function")return;const G=typeof p.removeItem=="function",L=typeof p.delete=="function";!G&&!L||d.add(p)}function _t(d,p,b){if(!p||typeof p!="object"&&typeof p!="function")return;try{Tt(d,p.SAFE_LOCAL_STORAGE,`${b}.SAFE_LOCAL_STORAGE`)}catch(L){const P=`${b}.SAFE_LOCAL_STORAGE`;jt.has(P)||(jt.add(P),ve(`Unable to inspect ${P} while clearing UI caches`,L))}try{Tt(d,p.localStorage,`${b}.localStorage`)}catch(L){const P=`${b}.localStorage`;jt.has(P)||(jt.add(P),ve(`Unable to inspect ${P} while clearing UI caches`,L))}try{Tt(d,p.sessionStorage,`${b}.sessionStorage`)}catch(L){const P=`${b}.sessionStorage`;jt.has(P)||(jt.add(P),ve(`Unable to inspect ${P} while clearing UI caches`,L))}let G=null;try{G=p.__cineGlobal}catch(L){const P=`${b}.__cineGlobal`;jt.has(P)||(jt.add(P),ve(`Unable to inspect ${P} while clearing UI caches`,L))}G&&G!==p&&_t(d,G,`${b}.__cineGlobal`)}function mt(d={}){const p=new Set,b=typeof d.resolveSafeLocalStorage=="function"?d.resolveSafeLocalStorage:typeof vt("resolveSafeLocalStorage")=="function"?vt("resolveSafeLocalStorage"):null,G=d.safeLocalStorage||vt("SAFE_LOCAL_STORAGE");try{const H=b?b():null;Tt(p,H,"safeLocalStorage")}catch(H){ve("resolveSafeLocalStorage() failed while collecting UI cache storages",H)}if(G)try{Tt(p,G,"SAFE_LOCAL_STORAGE")}catch(H){const W="SAFE_LOCAL_STORAGE";jt.has(W)||(jt.add(W),ve("Unable to inspect SAFE_LOCAL_STORAGE while clearing UI caches",H))}const L=d.scopeCandidates||[{scope:vt("globalThis"),label:"globalThis"},{scope:xt(d.window),label:"window"},{scope:typeof self<"u"?self:vt("self"),label:"self"},{scope:vt("global"),label:"global"}],P=typeof m<"u"?m.__cineGlobal:void 0;typeof P<"u"&&L.push({scope:P,label:"__cineGlobal"}),L.forEach(({scope:H,label:W})=>{_t(p,H,W)});const V=xt(d.window);if(V){try{Tt(p,V.localStorage,"window.localStorage")}catch(H){const W="window.localStorage";jt.has(W)||(jt.add(W),ve("Unable to inspect window.localStorage while clearing UI caches",H))}try{Tt(p,V.sessionStorage,"window.sessionStorage")}catch(H){const W="window.sessionStorage";jt.has(W)||(jt.add(W),ve("Unable to inspect window.sessionStorage while clearing UI caches",H))}}return p}function Ut(d={}){const p=d.storages||mt(d);if(!p||!p.size)return!1;let b=!1;return p.forEach(G=>{ur.forEach(L=>{typeof L!="string"||!L||on.forEach(P=>{const V=P?`${L}${P}`:L;try{typeof G.removeItem=="function"?(G.removeItem(V),b=!0):typeof G.delete=="function"&&(G.delete(V),b=!0)}catch(H){ve("Failed to remove UI cache entry",{entryKey:V,error:H})}})})}),b}async function Ir(d){const p=tr(d);if(!p||!p.serviceWorker)return[];const{serviceWorker:b}=p,G=[],L=P=>{P&&G.push(P)};try{if(typeof b.getRegistrations=="function"){const P=await b.getRegistrations();Array.isArray(P)&&P.forEach(L)}else if(typeof b.getRegistration=="function"){const P=await b.getRegistration();L(P)}else if(b.ready&&typeof b.ready.then=="function")try{const P=await b.ready;L(P)}catch(P){ve("Failed to await active service worker",P)}}catch(P){ve("Failed to query service worker registrations",P)}return G}async function wo(d){if(!d)return[];try{const p=await Promise.resolve(d);return Array.isArray(p)?p.filter(b=>!!b):[]}catch(p){ve("Failed to resolve prefetched service worker registrations",p)}return[]}async function Sr(d,p){const b=tr(d);if(!b||!b.serviceWorker)return!1;let G=await wo(p);return G.length||(G=await Ir(b)),G.length?(await Promise.all(G.map(L=>!L||typeof L.unregister!="function"?Promise.resolve(!1):L.unregister().catch(P=>(ve("Service worker unregister failed",P),!1)))),!0):!1}function Pr(d){const p=tr(d);if(!p||!p.serviceWorker)return null;const{serviceWorker:b}=p;if(!b)return null;let G=!1,L=null,P=null,V=!1;const H=te=>{if(G)return;G=!0;const pe=P;if(P=null,typeof L=="function"){try{L()}catch{}L=null}if(typeof pe=="function")try{pe(te)}catch{}},W=new Promise(te=>{if(P=te,b.controller){H(!0);return}const pe=()=>{H(!0)};try{if(typeof b.addEventListener=="function")b.addEventListener("controllerchange",pe),L=()=>{try{b.removeEventListener("controllerchange",pe)}catch(ee){}},V=!0;else if("oncontrollerchange"in b){const ee=b.oncontrollerchange;b.oncontrollerchange=function(Ie){if(typeof ee=="function")try{ee.call(this,Ie)}catch(Ce){ve("Existing service worker controllerchange handler failed",Ce)}pe(Ie)},L=()=>{try{b.oncontrollerchange=ee}catch(ie){}},V=!0}else H(!1)}catch(ee){ve("Failed to observe service worker controllerchange",ee),H(!1)}});return!V&&!b.controller?(H(!1),null):{promise:W,cancel(){H(!1)}}}const Cn=["cine-power-planner","cinepowerplanner"];function An(){const d=vt("CINE_CACHE_NAME");return typeof d=="string"&&d?d:null}function we(d,p,b){if(typeof d!="string"||!d)return!1;if(p&&(d===p||d.toLowerCase()===b))return!0;const G=d.toLowerCase();for(let L=0;L<Cn.length;L+=1)if(G.includes(Cn[L]))return!0;return!1}async function wn(d){const p=kr(d);if(!p||typeof p.keys!="function")return!1;const b=An(),G=b?b.toLowerCase():null;try{const L=await p.keys();if(!Array.isArray(L)||!L.length)return!1;const P=L.filter(H=>we(H,b,G));if(!P.length)return!1;let V=!1;return await Promise.all(P.map(H=>!H||typeof p.delete!="function"?Promise.resolve(!1):p.delete(H).then(W=>(V=V||!!W,W)).catch(W=>(ve("Failed to delete cache",{key:H,error:W}),!1)))),V}catch(L){return ve("Cache clear failed",L),!1}}function wt(d){if(!d||typeof d!="object")return"";try{const p=d.href;return typeof p=="string"?p:""}catch{return""}}function Rn(d){if(!d||typeof d!="object")return"";try{const p=d.pathname;return typeof p=="string"?p:""}catch{return""}}function or(d){if(!d||typeof d!="object")return"";try{const G=d.origin;if(typeof G=="string"&&G)return G}catch{}const p=wt(d);if(!p)return"";if(typeof URL=="function")try{return new URL(p).origin}catch{}const b=p.match(/^([a-zA-Z][a-zA-Z\d+.-]*:\/\/[^/]+)/);return b&&b[1]?b[1]:""}function Br(d,p){if(typeof d!="string"||!d)return"";const b=typeof p=="string"&&p?p:void 0;if(typeof URL=="function")try{const L=new URL(d,b);if(L&&typeof L.origin=="string")return L.origin}catch{}const G=d.match(/^([a-zA-Z][a-zA-Z\d+.-]*:\/\/[^/]+)/);return G&&G[1]?G[1]:""}function Ro(d,p){if(typeof p!="string"||!p)return!1;const b=d&&typeof d=="object"?d:typeof window<"u"&&window&&window.location?window.location:null,G=wt(d)||wt(b),L=Br(p,G);if(!L)return!0;const P=or(d)||or(b);return P?L===P:!1}function Tl(d,p){const b=[],G=new Set,L=W=>{if(typeof W!="string")return;const te=W.trim();!te||G.has(te)||(G.add(te),b.push(te))},P=wt(d);P&&L(P),typeof p=="string"&&p&&L(p);const V=or(d),H=Rn(d);if(V&&(H&&L(`${V}${H}`),L(`${V}/`)),typeof window<"u"&&window&&window.location){const W=wt(window.location);W&&L(W)}return b}function rr(d,p){if(typeof d!="string")return"";const b=d.trim();if(!b)return"";if(typeof URL=="function")try{return new URL(b).toString()}catch{if(typeof p=="string"&&p)try{return new URL(b,p).toString()}catch{}}return b}function No(d,p,b){if(Ro(d,b))return b;const G=wt(d),L=typeof p=="string"&&p?p:"",P=[];G&&Ro(d,G)&&P.push(G),L&&Ro(d,L)&&P.push(L);const V=P.length?P[0]:G,H=or(d);if(typeof URL=="function"&&V)try{const W=new URL(b,V),te=`${W.origin||""}${W.pathname||""}${W.search||""}${W.hash||""}`;if(te&&Ro(d,te))return te}catch{}if(typeof b=="string"&&H){const W=/^[a-zA-Z][a-zA-Z\d+.-]*:\/\/[^/]+(.*)$/,te=b.match(W);if(te&&te[1]){const pe=`${H}${te[1]}`;if(Ro(d,pe))return pe}}return P.length?P[0]:H||""}function Ln(d,p,b="forceReload"){const G=p&&typeof p.param=="string"&&p.param?p.param:b,L=p&&typeof p.timestamp=="string"&&p.timestamp?p.timestamp:Date.now().toString(36),V=(p&&typeof p.originalHref=="string"&&p.originalHref?p.originalHref:wt(d))||wt(d),H=p&&typeof p.nextHref=="string"&&p.nextHref?p.nextHref:V,W=No(d,V,H);return{originalHref:V,nextHref:W,param:G,timestamp:L}}function Yn(d,p){const b=p,G=Date.now().toString(36),L=wt(d),P=Tl(d,L);if(!L)return{originalHref:L,nextHref:L,param:b,timestamp:G};if(typeof URL=="function"){const ie=[L,...P];for(let Ie=0;Ie<ie.length;Ie+=1){const Ce=ie[Ie];try{const He=Ie===0?new URL(Ce):new URL(L,Ce);He.searchParams.set(b,G);const Me=He.toString();return{originalHref:L,nextHref:No(d,L,Me),param:b,timestamp:G}}catch{}}}let V=L,H="";const W=V.indexOf("#");W!==-1&&(H=V.slice(W),V=V.slice(0,W));const te=new RegExp(`([?&])${b}=[^&]*`),pe=`$1${b}=${G}`;if(te.test(V)?V=V.replace(te,pe):V.indexOf("?")!==-1?V+=`&${b}=${G}`:V&&(V+=`?${b}=${G}`),typeof URL=="function")for(let ie=0;ie<P.length;ie+=1){const Ie=P[ie];try{const He=new URL(V+H,Ie).toString();return{originalHref:L,nextHref:No(d,L,He),param:b,timestamp:G}}catch{}}const ee=V?V+H:L;return{originalHref:L,nextHref:No(d,L,ee),param:b,timestamp:G}}function Gn(d,p){if(typeof d!="string"||!d)return!1;const b=d.trim();if(!b)return!1;const L=`#${typeof p=="string"&&p?p:"forceReload"}`;if(!b.startsWith(L))return!1;if(b.length===L.length)return!0;const P=b.slice(L.length);return/^[-=]/.test(P)}function dr(d,p){if(typeof d!="string"||!d)return d;if(typeof URL=="function"){const b=typeof p=="string"&&p?p:void 0;try{const G=new URL(d,b);return`${G.pathname||""}${G.search||""}${G.hash||""}`||G.toString()}catch{}}return d}function rn(d,p="forceReload"){const b=xt(d);if(!b||!b.location)return!1;const{location:G}=b,L=wt(G);if(!L)return!1;const P=typeof p=="string"&&p?p:"forceReload";let V=L,H=!1,W=!1;if(typeof URL=="function")try{const ee=new URL(L);ee.searchParams&&typeof ee.searchParams.delete=="function"&&ee.searchParams.has(P)&&(ee.searchParams.delete(P),H=!0),Gn(ee.hash,P)&&(ee.hash="",W=!0),V=ee.toString()}catch{}if(!H){let ee=V,ie="";const Ie=ee.indexOf("#");Ie!==-1&&(ie=ee.slice(Ie),ee=ee.slice(0,Ie));const Ce=ee.indexOf("?");if(Ce!==-1){const He=ee.slice(0,Ce),Dt=ee.slice(Ce+1).split("&"),Vt=[];for(let yt=0;yt<Dt.length;yt+=1){const Rt=Dt[yt];if(!Rt)continue;const at=Rt.indexOf("=");if((at===-1?Rt:Rt.slice(0,at))===P){H=!0;continue}Vt.push(Rt)}ee=Vt.length?`${He}?${Vt.join("&")}`:He}V=ie?`${ee}${ie}`:ee}if(!W&&Gn(b.location&&b.location.hash,P)&&(W=!0,V=V.replace(/#.*$/,"")),!H&&!W)return!1;const te=rr(L,L)||L;let pe=null;try{pe=b.history||null}catch(ee){ve("Force reload cleanup failed to access history object",ee),pe=null}if(pe&&typeof pe.replaceState=="function"){let ee=null,ie=!1;try{ee=pe.state,ie=!0}catch(Ce){ve("Force reload cleanup failed to snapshot history state",Ce)}const Ie=dr(V,te);try{return pe.replaceState(ie?ee:null,"",Ie),!0}catch(Ce){ve("Force reload cleanup failed to update history state",Ce)}}if(W)try{if(typeof b.location.hash=="string"&&Gn(b.location.hash,P))return b.location.hash="",!0}catch(ee){ve("Force reload cleanup failed to clear hash fallback",ee)}return!1}function Tn(d,p,b,G,L,P){let V=null;try{typeof window<"u"&&window&&typeof window.setTimeout=="function"&&(V=window.setTimeout.bind(window))}catch{}if(!V)if(typeof setTimeout=="function")V=setTimeout;else{ve("Forced reload navigation attempt did not update location",{description:b,before:G,after:P,expected:L});return}let H=!1;const W=()=>{const pe=wt(d),ee=rr(pe,p);return L&&(ee===L||ee===`${L}#`)||G!==ee&&ee&&(!L||ee===L)?(H=!0,{matched:!0,value:ee}):{matched:!1,value:ee}},te=[90,240,480];te.forEach((pe,ee)=>{const ie=ee===te.length-1,Ie=()=>{if(H)return;const Ce=W();Ce.matched||ie&&(H=!0,ve("Forced reload navigation attempt did not update location",{description:b,before:G,after:Ce.value,expected:L}))};try{V(Ie,pe)}catch{ie&&Ie()}})}function Qn(d,p,b,G,L){if(!d||typeof G!="function"||typeof p!="string"||!p)return!1;const P=wt(d),V=rr(P,b);try{G(p)}catch(pe){return ve("Forced reload navigation helper failed",{description:L,error:pe}),!1}const H=wt(d),W=rr(H,b),te=rr(p,b);return te&&(W===te||W===`${te}#`)||V!==W&&W&&(!te||W===te)?!0:(Tn(d,b,L,V,te,W),!1)}function hi(d,p,b,G){if(!d||!p||typeof b!="string"||!b)return!1;let L=null;try{L=d.history||null}catch(Ce){ve("Forced reload history access failed",Ce),L=null}if(!L||typeof L.replaceState!="function")return!1;const P=wt(p),V=rr(P,G),H=rr(b,G);let W=b;try{const Ce=P||G||void 0,He=typeof URL=="function"?new URL(b,Ce):null;He&&(W=`${He.pathname||""}${He.search||""}${He.hash||""}`||He.toString())}catch(Ce){ve("Forced reload history fallback URL parse failed",Ce),W=b}let te=null,pe=!1;try{te=L.state,pe=!0}catch(Ce){ve("Forced reload history state snapshot failed",Ce)}try{L.replaceState(pe?te:null,"",W)}catch(Ce){return ve("Forced reload history replaceState failed",Ce),!1}const ee=wt(p),ie=rr(ee,G);if(!(H&&(ie===H||ie===`${H}#`)||V!==ie&&ie&&(!H||ie===H)))return Tn(p,G,"history.replaceState",V,H,ie),!1;if(typeof p.reload=="function")try{return p.reload(),!0}catch(Ce){ve("Forced reload via history replaceState reload failed",Ce)}return!0}function Ra(d,p,b={}){if(!d||!p)return;let G=null;try{typeof d.setTimeout=="function"&&(G=d.setTimeout.bind(d))}catch{}if(!G)if(typeof setTimeout=="function")G=setTimeout;else return;const L=b.hasReload===!0&&typeof p.reload=="function",P=typeof b.baseHref=="string"?b.baseHref:"",V=typeof b.nextHref=="string"?b.nextHref:"",H=typeof b.originalHref=="string"?b.originalHref:"",W=V||P||H||"",te=W?W.split("#")[0]:P||H||"",pe=typeof b.timestamp=="string"&&b.timestamp?b.timestamp:Date.now().toString(36),ee=te?`${te}#forceReload-${pe}`:"",ie=[];let Ie=120;const Ce=120,He=Me=>{ie.push({delay:Ie,run:Me}),Ie+=Ce};if(W&&(typeof p.assign=="function"&&He(()=>{try{p.assign(W)}catch(Me){ve("Forced reload fallback via location.assign failed",Me)}}),typeof p.replace=="function"&&He(()=>{try{p.replace(W)}catch(Me){ve("Forced reload fallback via location.replace failed",Me)}}),He(()=>{try{p.href=W}catch(Me){ve("Forced reload fallback via href assignment failed",Me)}})),ee&&ee!==W&&He(()=>{try{p.href=ee}catch(Me){ve("Forced reload fallback via hash injection failed",Me)}}),L){const Me=ie.length?Math.max(Ie,280):280;ie.push({delay:Me,run(){try{p.reload()}catch(Dt){ve("Timed force reload fallback failed",Dt)}}})}ie.length&&ie.forEach(Me=>{try{G(Me.run,Me.delay)}catch(Dt){ve("Unable to schedule forced reload fallback",Dt)}})}function On(d,p){const b=xt(d);if(!b||!b.location)return!1;const{location:G}=b,L=G&&typeof G.replace=="function",P=G&&typeof G.assign=="function",V=G&&typeof G.reload=="function";let H=!1;const W=p&&typeof p=="object"?p:Yn(G,"forceReload"),te=Ln(G,W,"forceReload"),ee=(typeof te.originalHref=="string"&&te.originalHref?te.originalHref:wt(G))||wt(G),ie=typeof te.nextHref=="string"?te.nextHref:"",Ie=te.timestamp,Ce=rr(ee,ee)||ee;if(L&&ie&&(H=Qn(G,ie,Ce,Me=>{G.replace(Me)},"location.replace")),P&&!H&&ie&&(H=Qn(G,ie,Ce,Me=>{G.assign(Me)},"location.assign")),!H&&ie&&ie!==ee&&(H=Qn(G,ie,Ce,Me=>{G.href=Me},"location.href assignment")),!H&&b&&ie&&(H=hi(b,G,ie,Ce)),!H&&(!ie||ie===ee)&&V)try{G.reload(),H=!0}catch(Me){ve("Forced reload via location.reload failed",Me)}return H||Ra(b,G,{originalHref:ee,baseHref:Ce,nextHref:ie,hasReload:V,timestamp:Ie}),H}async function bi(d={}){const p=xt(d.window),b=En(d.location||p&&p.location),G=Ln(b,Yn(b,"forceReload"),"forceReload"),L=tr(d.navigator),P=await fe({navigatorLike:L,windowLike:p,locationLike:b,fetchFn:to(d.fetch,p),forceReloadUrl:G,timeoutMs:typeof d.connectivityProbeTimeoutMs=="number"?d.connectivityProbeTimeoutMs:et});if(Ve(P,{stage:"reload-app-probe",source:"reloadApp.probe"}),!P.reachable){const _e=typeof d.onOfflineReloadBlocked=="function"?d.onOfflineReloadBlocked:vt("announceForceReloadOfflineNotice");if(typeof _e=="function")try{_e({reason:P.reason||"offline",source:"reloadApp"})}catch(Ze){ve("Failed to announce offline reload guard",Ze)}return P.detail&&P.reason!=="offline"&&ve("Connectivity probe blocked forced reload",P.detail),ae({status:"degraded",reason:"reload-blocked",detail:{previousReason:P.reason||"offline",stage:"reload-app",source:"reloadApp.blocked"},source:"reloadApp.blocked"}),{blocked:!0,reason:P.reason||"offline",uiCacheCleared:!1,serviceWorkersUnregistered:!1,serviceWorkerStatusKnown:!1,warmupCompleted:!1,cachesCleared:!1,reloadTriggered:!1,navigationTriggered:!1}}const V=L&&L.serviceWorker?Ir(L):Promise.resolve([]);let H=!1;const W=typeof d.clearUiCacheStorageEntries=="function"?d.clearUiCacheStorageEntries:typeof vt("clearUiCacheStorageEntries")=="function"?vt("clearUiCacheStorageEntries"):null;if(W)try{W(),H=!0}catch(_e){ve("Failed to clear UI caches via storage helper",_e)}if(!H)try{H=Ut(d)}catch(_e){ve("Fallback UI cache clear failed",_e)}const te=(async()=>{try{return await Sr(d.navigator,V)}catch(_e){return ve("Service worker cleanup failed",_e),!1}})(),pe=(async()=>{try{return await wn(d.caches)}catch(_e){return ve("Cache clear failed",_e),!1}})(),ee=sr({window:p,navigator:d.navigator,fetch:d.fetch,nextHref:G.nextHref,serviceWorkerPromise:te,cachePromise:pe,allowCache:!0,warmupWaitMs:typeof d.warmupWaitMs=="number"?d.warmupWaitMs:void 0}),ie=_e=>!_e||typeof _e!="object"?null:_e.promise&&typeof _e.promise.then=="function"?_e.promise:_e.done&&typeof _e.done.then=="function"?_e.done:null,Ie=(_e,Ze)=>!Ze||typeof Ze.then!="function"?Promise.resolve({source:_e,value:Ze,successful:!0,error:null}):Promise.resolve(Ze).then(ze=>({source:_e,value:ze,successful:!0,error:null})).catch(ze=>({source:_e,value:void 0,successful:!1,error:ze})),Ce=ie(ee),He=Pr(d.navigator),Me=He?Ie("controllerChange",He.promise):null;let Dt=!1;const yt=Ie("serviceWorker",te).then(_e=>(!_e.successful&&_e.error&&!Dt&&(Dt=!0,ve("Service worker cleanup promise rejected",_e.error)),_e)),Rt=Ce?Ie("warmup",Ce):null,at=[yt];Rt&&at.push(Rt),Me&&at.push(Me);const Lo=at.length>1?Promise.race(at):at[0];let qt=!1,ao=!1,io=!1;try{const _e=typeof d.cleanupTimeoutMs=="number"?d.cleanupTimeoutMs:Ao,Ze=await Fo(Lo,_e,()=>{ve("Service worker cleanup or warmup timed out before reload, continuing anyway.",{timeoutMs:_e})},ze=>{if(ze&&ze.source==="warmup"){const To=ze.error||ze;ve("Reload warmup failed after reload triggered",To);return}const Ot=ze&&ze.error?ze.error:ze;ve("Service worker cleanup failed after reload triggered",Ot)});if(Ze&&Ze.timedOut!==!0){const ze=Ze.result;ze&&ze.source==="serviceWorker"?(io=!0,ze.successful?qt=!!ze.value:!Dt&&ze.error&&(Dt=!0,ve("Service worker cleanup promise rejected",ze.error))):ze&&ze.source==="controllerChange"?(io=!0,!ze.successful&&ze.error&&ve("Service worker controllerchange watcher rejected",ze.error)):ze&&ze.source==="warmup"&&(ao=ze.successful&&ze.value===!0,!ze.successful&&ze.error&&ve("Reload warmup promise rejected before reload triggered",ze.error))}}catch(_e){const Ze=_e&&_e.error?_e.error:_e;ve("Reload preparation gate failed",Ze)}finally{if(He)try{He.cancel()}catch{}}let Et=!1;const Go=typeof d.reloadWindow=="function"?d.reloadWindow:On;try{Et=Go(d.window,G)}catch(_e){ve("Forced reload handler failed",_e),Et=On(d.window,G)}if(!Et&&p&&p.location&&typeof p.location.reload=="function")try{p.location.reload(),Et=!0}catch(_e){ve("Final reload attempt failed",_e)}let Ho=!1;try{Ho=await pe}catch(_e){ve("Cache cleanup promise rejected",_e),Ho=!1}return{uiCacheCleared:H,serviceWorkersUnregistered:qt,serviceWorkerStatusKnown:io,warmupCompleted:ao,cachesCleared:Ho,reloadTriggered:Et,navigationTriggered:Et}}function D(d){if(!d||!d.document)return!1;const{document:p}=d;return typeof p.readyState=="string"?p.readyState==="complete":!1}function X(d="service-worker.js",p={}){const b=xt(p.window),G=tr(p.navigator);if(!G||!G.serviceWorker||typeof G.serviceWorker.register!="function")return Promise.resolve(null);const L=()=>{try{const H=G.serviceWorker.register(d,p.registrationOptions);return H.catch(W=>{ve("Service worker registration failed",W)}),H}catch(H){return ve("Service worker registration threw an exception",H),Promise.reject(H)}},P=H=>{const W=Promise.resolve(H).finally(()=>{er=null});return er=W,W};if(!b||typeof b.addEventListener!="function")return L();if(er)return er;if(D(b)||p.immediate===!0)return P(Promise.resolve().then(()=>L()));const V=new Promise((H,W)=>{const te=()=>{try{b.removeEventListener("load",te)}catch{}try{H(L())}catch(pe){W(pe)}};b.addEventListener("load",te,{once:!0})});return P(V)}function N(d){const p=d||xt();!p||typeof p.addEventListener!="function"||(p.addEventListener("online",()=>{ae({status:"online",source:"navigator"})}),p.addEventListener("offline",()=>{ae({status:"offline",source:"navigator"})}),typeof p.navigator<"u"&&p.navigator.onLine===!1&&ae({status:"offline",source:"navigator-init"}))}const ue={registerServiceWorker:X,reloadApp:bi,getConnectivityState(){return S},subscribeConnectivityStatus:Te,unsubscribeConnectivityStatus:Be,__internal:{collectFallbackUiCacheStorages:mt,clearUiCacheEntriesFallback:Ut,unregisterServiceWorkers:Sr,clearCacheStorage:wn,triggerReload:On,cleanupForceReloadArtifacts:rn,coerceForceReloadUrlDescriptor:Ln,scheduleReloadWarmup:sr,initConnectivityListeners:N,updateOfflineUi:Ee,emitConnectivityState:ae}};if(rn(),N(),ro(ue),Z("cineOffline",ue),ke("cineOffline",ue,{category:"offline",description:"Offline helpers for service worker registration and cache recovery.",replace:!0,connections:["cineModuleGlobals","cineModuleEnvironment","cineEnvironmentBridge","cineModuleContext"]},d=>{ve("Unable to register cineOffline in module registry.",d)}),m&&typeof m=="object"){let d=null;try{d=m.cineOffline||null}catch{d=null}d!==ue&&(cr("cineOffline",ue,{configurable:!0,enumerable:!1,writable:!1})||ve("Unable to expose cineOffline globally."))}typeof module<"u"&&module&&module.exports&&(module.exports=ue)})();var Bb={};function sT(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}var ph=sT();function Yf(e){var t=[];function o(r){!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)}return o(e),typeof globalThis<"u"&&o(globalThis),typeof window<"u"&&o(window),typeof self<"u"&&o(self),typeof global<"u"&&o(global),t}function Mb(e){return null}function mh(e){for(var t=Yf(ph),o=0;o<t.length;o+=1){var r=t[o];if(r&&typeof r[e]=="object")return r[e]}return null}var ht=(function(){return zo&&typeof zo=="object"?zo:mh("cineModuleBase")})(),bt=(function(){return Zi&&typeof Zi=="object"?Zi:mh("cineModuleEnvironment")})(),dt=(function(){return Lp&&typeof Lp=="object"?Lp:mh("cineEnvironmentBridge")})(),Yt=(dt&&typeof dt.getGlobalScope=="function"?dt.getGlobalScope():null)||(bt&&typeof bt.getGlobalScope=="function"?bt.getGlobalScope():null)||(ht&&typeof ht.getGlobalScope=="function"?ht.getGlobalScope():null)||ph,ka=(function(){if(dt&&typeof dt.getPendingQueueKey=="function")try{var t=dt.getPendingQueueKey();if(typeof t=="string"&&t)return t}catch{}return bt&&typeof bt.PENDING_QUEUE_KEY=="string"&&bt.PENDING_QUEUE_KEY?bt.PENDING_QUEUE_KEY:ht&&typeof ht.PENDING_QUEUE_KEY=="string"&&ht.PENDING_QUEUE_KEY?ht.PENDING_QUEUE_KEY:"__cinePendingModuleRegistrations__"})();function wC(e){var t=e||Yt;if(!t||typeof t!="object")return null;var o=null;try{o=t[ka]}catch{o=null}if(Array.isArray(o))return o;try{Object.defineProperty(t,ka,{configurable:!0,enumerable:!1,writable:!0,value:[]}),o=t[ka]}catch{try{Array.isArray(t[ka])||(t[ka]=[]),o=t[ka]}catch{return null}}return o}function cT(e){if(!e||typeof process>"u"||!process)return!1;if(e===process)return!0;if(typeof e=="object"){try{if(e.constructor&&e.constructor.name==="process")return!0}catch{}if(typeof e.pid=="number"&&typeof e.nextTick=="function"&&typeof e.emit=="function"&&typeof e.binding=="function")return!0}if(typeof e=="function"){if(e===process.binding||e===process._linkedBinding||e===process.dlopen)return!0;try{const t=e.name||"";if(t&&(t==="binding"||t==="dlopen")){const o=Function.prototype.toString.call(e);if(o&&o.indexOf("[native code]")!==-1)return!0}}catch{}}return!1}function uT(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;if(cT(e)||typeof process<"u"&&process&&process.release&&process.release.name==="node")return!0;try{if(typeof e.pipe=="function"&&typeof e.unpipe=="function")return!0;if(typeof e.on=="function"&&typeof e.emit=="function"){if(typeof e.write=="function"||typeof e.read=="function")return!0;var t="";try{t=e.constructor&&e.constructor.name}catch(r){}if(t&&/Stream|Emitter|Port/i.test(t))return!0}if(typeof Symbol<"u"&&e[Symbol.toStringTag]){var o=e[Symbol.toStringTag];if(typeof o=="string"&&/Stream|Port/i.test(o))return!0}}catch{}return!1}function _b(e,t){var o=t;if(!o)if(typeof WeakSet=="function")o=new WeakSet;else{var r=[];o={add:function(a){r.push(a)},has:function(a){return r.indexOf(a)!==-1}}}if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function"||uT(e))return e;if(typeof process<"u"&&process&&Bb&&Bb.JEST_WORKER_ID){try{typeof Object.freeze=="function"&&Object.freeze(e)}catch{}return e}if(e===ph||typeof globalThis<"u"&&e===globalThis||typeof window<"u"&&e===window||typeof self<"u"&&e===self||typeof global<"u"&&e===global)return e;try{if(typeof o.has=="function"&&o.has(e))return e}catch{}try{typeof o.add=="function"&&o.add(e)}catch{}try{Object.freeze(e)}catch{}return e}var RC=(function(){return dt&&typeof dt.freezeDeep=="function"?function(o,r){try{return dt.freezeDeep(o,r)}catch{return _b(o,r)}}:bt&&typeof bt.freezeDeep=="function"?bt.freezeDeep:ht&&typeof ht.freezeDeep=="function"?ht.freezeDeep:_b})();function Db(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}var yh=(function(){return dt&&typeof dt.safeWarn=="function"?function(o,r){try{dt.safeWarn(o,r)}catch{Db(o,r)}}:bt&&typeof bt.safeWarn=="function"?bt.safeWarn:ht&&typeof ht.safeWarn=="function"?ht.safeWarn:Db})();function dT(e,t,o,r){if(!o||typeof o!="object")return!1;var n={configurable:!r||r.configurable!==!1,enumerable:!!(r&&r.enumerable),value:t,writable:!!(r&&r.writable===!0)};try{return Object.defineProperty(o,e,n),!0}catch{try{return o[e]=t,!0}catch{return!1}}}function eg(e,t,o,r){var n=o||Yt;if(dt&&typeof dt.exposeGlobalScoped=="function")try{var a=dt.exposeGlobalScoped(e,t,n,r||{});if(typeof a<"u")return a}catch{}if(dt&&typeof dt.exposeGlobal=="function")try{return dt.exposeGlobal(e,t,r||{})}catch{}if(bt&&typeof bt.exposeGlobal=="function")try{return bt.exposeGlobal(e,t,n,r||{})}catch{}if(ht&&typeof ht.exposeGlobal=="function")try{return ht.exposeGlobal(e,t,n,r||{})}catch{}return dT(e,t,n,r)}var fT=(function(){return dt&&typeof dt.tryRequire=="function"?function(o){var r=dt.tryRequire(o);return typeof r>"u"?Mb():r}:bt&&typeof bt.tryRequire=="function"?bt.tryRequire:ht&&typeof ht.tryRequire=="function"?ht.tryRequire:Mb})();function tg(e){var t=e||Yt;if(dt&&typeof dt.getModuleRegistry=="function")try{var o=dt.getModuleRegistry(t);if(o)return o}catch{}if(bt&&typeof bt.getModuleRegistry=="function")try{var r=bt.getModuleRegistry(t);if(r)return r}catch{}if(ht&&typeof ht.getModuleRegistry=="function")try{var n=ht.getModuleRegistry(t);if(n)return n}catch{}if(Ko&&typeof Ko=="object")return Ko;for(var a=Yf(t),l=0;l<a.length;l+=1){var s=a[l];if(s&&typeof s.cineModules=="object")return s.cineModules}return null}var Fb=null,xb=!1;function Cc(e){return e&&e!==Yt?tg(e):(xb||(Fb=tg(Yt),xb=!0),Fb)}function pT(e){if(!e||typeof e!="object")return{};var t={},o=[];try{o=Object.keys(e)}catch{o=[]}for(var r=0;r<o.length;r+=1){var n=o[r];try{t[n]=e[n]}catch{}}return t}function gh(e,t,o,r){if(dt&&typeof dt.queueModuleRegistration=="function")try{var n=dt.queueModuleRegistration(e,t,o);if(typeof n<"u")return n}catch{}if(bt&&typeof bt.queueModuleRegistration=="function")try{return bt.queueModuleRegistration(e,t,o,r||Yt)}catch{}if(ht&&typeof ht.queueModuleRegistration=="function")try{return ht.queueModuleRegistration(e,t,o,r||Yt)}catch{}var a=wC(r||Yt);if(!a)return!1;var l=Object.freeze({name:e,api:t,options:Object.freeze(pT(o))});try{a.push(l)}catch{a[a.length]=l}return!0}function LC(e,t,o,r,n,a){var l=n||Yt,s=a||Cc(l);if(ht&&typeof ht.registerOrQueueModule=="function")try{var u=ht.registerOrQueueModule(e,t,o,r,l,s);if(u)return Dn(e,t),!0}catch{}if(dt&&typeof dt.registerOrQueueModule=="function")try{var f=dt.registerOrQueueModule(e,t,o,r,l,s);if(f)return Dn(e,t),!0}catch{}if(bt&&typeof bt.registerOrQueueModule=="function")try{var y=bt.registerOrQueueModule(e,t,o,r,l,s);if(y)return Dn(e,t),!0}catch{}if(s&&typeof s.register=="function")try{return s.register(e,t,o||{}),Dn(e,t),!0}catch(_){if(typeof r=="function")try{r(_)}catch{}}var R=gh(e,t,o,l);return R&&Dn(e,t),R}var qs=Object.create(null),Ji=Object.create(null);function mT(e,t){if(Ji[e]){var o=Ji[e].slice();Ji[e].length=0;for(var r=0;r<o.length;r+=1){var n=o[r];try{n(t)}catch{}}}}function Dn(e,t){return typeof e!="string"||!e||!t?!1:(qs[e]=t,mT(e,t),!0)}function GC(e,t){if(typeof e!="string"||!e)return null;if(Object.prototype.hasOwnProperty.call(qs,e))return qs[e];var o=t&&t.scope?t.scope:Yt;try{if(o&&typeof o=="object"&&typeof o[e]<"u")return o[e]}catch{}var r=Cc(o);if(r&&typeof r.get=="function")try{var n=r.get(e);if(n)return n}catch{}return null}function yT(e,t){if(typeof e!="string"||!e||typeof t!="function")return!1;var o=GC(e);if(o){try{t(o)}catch{}return!0}return Ji[e]||(Ji[e]=[]),Ji[e].push(t),!0}function gT(){return Object.freeze(Object.keys(qs))}function hT(){for(var e=[{name:"cineModuleBase",value:ht},{name:"cineModuleEnvironment",value:bt},{name:"cineEnvironmentBridge",value:dt},{name:"cineModules",value:Cc(Yt)}],t=0;t<e.length;t+=1){var o=e[t];o.value&&Dn(o.name,o.value)}}hT();var sd={scope:Yt,moduleBase:ht,moduleEnvironment:bt,environmentBridge:dt,getModuleRegistry:Cc,resolveModuleRegistry:tg,queueModuleRegistration:gh,registerOrQueueModule:LC,freezeDeep:RC,safeWarn:yh,exposeGlobal:function(t,o,r){return eg(t,o,Yt,r||{})},exposeGlobalScoped:function(t,o,r,n){return eg(t,o,r||Yt,n||{})},tryRequire:fT,collectCandidateScopes:function(t){var o=Yf(t||Yt);return Object.freeze(o.slice())},getPendingQueueKey:function(){return ka},ensureQueue:function(t){return wC(t||Yt)},recordModule:Dn,getModule:GC,whenModuleAvailable:yT,listRecordedModules:gT},Mn=null,Nb=Yf(Yt);for(var Gp=0;Gp<Nb.length;Gp+=1){var Tp=Nb[Gp];if(Tp&&typeof Tp.cineModuleGlobals=="object"){Mn=Tp.cineModuleGlobals;break}}if(Mn&&Mn!==sd){try{for(var Hb=Object.getOwnPropertyNames(Mn),Op=0;Op<Hb.length;Op+=1){var kp=Hb[Op];typeof sd[kp]>"u"&&(sd[kp]=Mn[kp])}}catch{}if(typeof Mn.listRecordedModules=="function")try{var Ip=Mn.listRecordedModules();if(Array.isArray(Ip))for(var Pp=0;Pp<Ip.length;Pp+=1){var Bp=Ip[Pp];if(!qs[Bp]&&typeof Mn.getModule=="function"){var jb=Mn.getModule(Bp);jb&&Dn(Bp,jb)}}}catch{}}var Qf=RC(sd);Dn("cineModuleGlobals",Qf);var bT=LC("cineModuleGlobals",Qf,{category:"infrastructure",description:"Shared module globals for cross-script coordination.",replace:!0,connections:["cineModuleBase","cineModuleEnvironment","cineEnvironmentBridge"]},function(e){yh("Unable to register cineModuleGlobals module.",e)},Yt,Cc(Yt));bT||gh("cineModuleGlobals",Qf,{category:"infrastructure",description:"Shared module globals for cross-script coordination.",replace:!0,connections:["cineModuleBase","cineModuleEnvironment","cineEnvironmentBridge"]},Yt);var ST=eg("cineModuleGlobals",Qf,Yt,{configurable:!0,enumerable:!1,writable:!1});ST||yh("Unable to expose cineModuleGlobals globally.");var Ub={};const Qd="__cinePendingModuleRegistrations__";function Ws(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}function Xd(e,t){const o=[];function r(n){!n||typeof n!="object"&&typeof n!="function"||o.indexOf(n)===-1&&o.push(n)}return r(e||t),typeof globalThis<"u"&&r(globalThis),typeof window<"u"&&r(window),typeof self<"u"&&r(self),typeof global<"u"&&r(global),o}function TC(e){return null}function hh(e,t,o){if(!e||typeof e!="object"&&typeof e!="function")return!1;try{return Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o}),!0}catch{}try{return e[t]=o,!0}catch{}return!1}function bh(e,t,o){const r=e||o,n=typeof t=="string"&&t?t:Qd;if(!r||typeof r!="object")return null;let a=r[n];return Array.isArray(a)?a:!hh(r,n,[])||(a=r[n],!Array.isArray(a))?null:a}function vT(e){if(!e||typeof process>"u"||!process)return!1;if(e===process)return!0;if(typeof e=="object"){try{if(e.constructor&&e.constructor.name==="process")return!0}catch{}if(typeof e.pid=="number"&&typeof e.nextTick=="function"&&typeof e.emit=="function"&&typeof e.binding=="function")return!0}if(typeof e=="function"){if(e===process.binding||e===process._linkedBinding||e===process.dlopen)return!0;try{const t=e.name||"";if(t&&(t==="binding"||t==="dlopen")){const o=Function.prototype.toString.call(e);if(o&&o.indexOf("[native code]")!==-1)return!0}}catch{}}return!1}function ET(e){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return!1;if(vT(e)||typeof process<"u"&&process&&process.release&&process.release.name==="node")return!0;try{if(typeof e.pipe=="function"&&typeof e.unpipe=="function")return!0;if(typeof e.on=="function"&&typeof e.emit=="function"){if(typeof e.write=="function"||typeof e.read=="function")return!0;const t=e.constructor&&e.constructor.name;if(t&&/Stream|Emitter|Port/i.test(t))return!0}if(typeof Symbol<"u"&&e[Symbol.toStringTag]){const t=e[Symbol.toStringTag];if(typeof t=="string"&&/Stream|Port/i.test(t))return!0}}catch{}return!1}function CT(e){if(e&&typeof e.has=="function"&&typeof e.add=="function")return e;if(Array.isArray(e))return{has(o){return e.indexOf(o)!==-1},add(o){e.indexOf(o)===-1&&e.push(o)}};if(typeof WeakSet=="function")try{return new WeakSet}catch{}const t=[];return{has(o){return t.indexOf(o)!==-1},add(o){t.indexOf(o)===-1&&t.push(o)}}}function Sh(e,t){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function"||ET(e))return e;if(typeof process<"u"&&process&&Ub&&Ub.JEST_WORKER_ID){try{typeof Object.freeze=="function"&&Object.freeze(e)}catch{}return e}const o=CT(t);if(o.has(e))return e;o.add(e);const r=Object.getOwnPropertyNames(e);for(let n=0;n<r.length;n+=1){const a=r[n];let l;try{l=e[a]}catch{l=void 0}!l||typeof l=="function"||typeof l!="object"&&typeof l!="function"||Sh(l,o)}try{return Object.freeze(e)}catch{return e}}function OC(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}function kC(e,t,o){const r=t||{},n=typeof r.predicate=="function"?r.predicate:null,a=Array.isArray(r.scopes)?r.scopes.slice():Xd(r.primaryScope||o,o);for(let l=0;l<a.length;l+=1){const s=a[l];if(!s||typeof s!="object"&&typeof s!="function")continue;if(n){try{if(n(s,e))return s}catch{}continue}const u=s[e];if(typeof u<"u")return u}return null}function AT(e,t,o,r,n,a){const s=bh(e||n,a,n);if(!s)return!1;const u=Object.freeze({name:t,api:o,options:Object.freeze({...r||{}})});try{return s.push(u),!0}catch{}try{return s[s.length]=u,!0}catch{}return!1}function wT(e){const t=e||Ws();return{detectGlobalScope:Ws,getGlobalScope(){return t},collectCandidateScopes(o){return Xd(o||t,t)},tryRequire:TC,defineHiddenProperty:hh,ensureQueue(o,r){return bh(o||t,r,t)},freezeDeep:Sh,safeWarn:OC,resolveFromScopes(o,r){return kC(o,r,t)},queueModuleRegistration(o,r,n,a){return AT(o||t,r,n,a,t,Qd)},getPendingQueueKey(){return Qd},resolveModuleRegistry(o){const n=Xd(o||t,t);for(let a=0;a<n.length;a+=1){const l=n[a];if(l&&typeof l.cineModules=="object")return l.cineModules}return null}}}function RT(e){const t=e||Ws();return t&&typeof t.cineModuleArchitectureKernel=="object"?t.cineModuleArchitectureKernel:null}const IC=Ws(),LT=RT(IC),ot=LT||wT(IC);function og(){if(ot&&typeof ot.detectGlobalScope=="function")try{const e=ot.detectGlobalScope();if(e)return e}catch{}return Ws()}const Bt=ot&&typeof ot.getGlobalScope=="function"?(function(){try{const t=ot.getGlobalScope();if(t)return t}catch{}return og()})():og();let Ks=ot&&typeof ot.getPendingQueueKey=="function"?ot.getPendingQueueKey():Qd;function GT(e){if(ot&&typeof ot.collectCandidateScopes=="function")try{const t=ot.collectCandidateScopes(e||Bt);if(Array.isArray(t)&&t.length>0)return t}catch{}return Xd(e||Bt,Bt)}function Ac(e){const t=GT(e||Bt);return Array.isArray(t)?t:[]}function TT(e){if(ot&&typeof ot.tryRequire=="function")try{const t=ot.tryRequire(e);if(typeof t<"u")return t}catch{}return TC()}function PC(e,t,o){if(ot&&typeof ot.defineHiddenProperty=="function")try{if(ot.defineHiddenProperty(e,t,o))return!0}catch{}return hh(e,t,o)}function OT(e){if(ot&&typeof ot.freezeDeep=="function")try{return ot.freezeDeep(e)}catch{}return Sh(e)}function qo(e,t){if(ot&&typeof ot.safeWarn=="function")try{ot.safeWarn(e,t);return}catch{}OC(e,t)}function Xf(e,t){const o=t?{...t}:{};if(o.primaryScope||(o.primaryScope=Bt),o.scopes||(o.scopes=Ac(o.primaryScope)),ot&&typeof ot.resolveFromScopes=="function")try{const r=ot.resolveFromScopes(e,o);if(r)return r}catch(r){qo(`cineModuleSystem: resolveFromScopes failed for "${e}".`,r)}return kC(e,o,Bt)}let zb=null,Vb=!1;function qb(e){e&&typeof e.PENDING_QUEUE_KEY=="string"&&e.PENDING_QUEUE_KEY&&(Ks=e.PENDING_QUEUE_KEY)}function Wb(e){const t=e||Bt;if(zo&&typeof zo=="object")return qb(zo),zo;const o=Xf("cineModuleBase",{primaryScope:t,scopes:Ac(t)});return o&&typeof o=="object"?(qb(o),o):null}function Zf(e){return e&&e!==Bt?Wb(e):(Vb||(zb=Wb(Bt),Vb=!0),zb)}function kT(e){const t=e||Bt;if(Ko&&typeof Ko=="object")return Ko;const o=Xf("cineModules",{primaryScope:t,scopes:Ac(t)});return o&&typeof o=="object"?o:null}let Kb=null,$b=!1;function Yb(e){const t=e||Bt;if(ot&&typeof ot.resolveModuleRegistry=="function")try{const r=ot.resolveModuleRegistry(t);if(r&&typeof r=="object")return r}catch(r){qo("cineModuleSystem: Kernel resolveModuleRegistry failed.",r)}const o=Zf(t);if(o&&typeof o.resolveModuleRegistry=="function")try{const r=o.resolveModuleRegistry(t);if(r&&typeof r=="object")return r}catch(r){qo("cineModuleSystem: Base resolveModuleRegistry failed.",r)}return kT(t)}function vh(e){return e&&e!==Bt?Yb(e):($b||(Kb=Yb(Bt),$b=!0),Kb)}function IT(e,t,o,r={}){const n=o||Bt;if(!n||typeof n!="object")return!1;const a={configurable:r.configurable!==!1,enumerable:!!r.enumerable,value:t,writable:r.writable===!0};try{return Object.defineProperty(n,e,a),!0}catch{}try{return n[e]=t,!0}catch{}return!1}function BC(e,t,o,r){const n=o||Bt,a=Zf(n);if(a&&typeof a.exposeGlobal=="function")try{return a.exposeGlobal(e,t,n,r||{})}catch(l){qo(`cineModuleSystem: Failed to expose "${e}" through module base.`,l)}return IT(e,t,n,r||{})}function MC(e){const t=e||Bt;if(ot&&typeof ot.ensureQueue=="function")try{const o=ot.ensureQueue(t,Ks);if(Array.isArray(o))return o}catch(o){qo("cineModuleSystem: ensureQueue failed via kernel.",o)}return bh(t,Ks,Bt)}function _C(e){if(typeof e=="string"&&e.trim())return e.trim();if(typeof e=="number"&&Number.isFinite(e))return String(e);throw new TypeError("cineModuleSystem expected module name to be a non-empty string.")}function DC(e,t,o,r){const n=r||Bt;if(ot&&typeof ot.queueModuleRegistration=="function")try{if(ot.queueModuleRegistration(n,e,t,o))return!0}catch(u){qo("cineModuleSystem: queueModuleRegistration failed via kernel.",u)}const a=MC(n);if(!a)return qo("cineModuleSystem: Unable to queue module registration.",{name:e}),!1;let l;try{l=_C(e)}catch(u){return qo("cineModuleSystem: Ignoring registration with invalid name.",u),!1}const s=Object.freeze({name:l,api:t,options:Object.freeze({...o||{}})});try{a.push(s)}catch{try{a[a.length]=s}catch(f){return qo("cineModuleSystem: Failed to record pending module registration.",f),!1}}return!0}function FC(e,t,o,r,n){const a=r||Bt,l=vh(a);if(l&&typeof l.register=="function")try{return l.register(e,t,o||{}),!0}catch(s){if(typeof n=="function")try{n(s)}catch(u){qo("cineModuleSystem: Error handler threw while processing registration failure.",u)}else qo(`cineModuleSystem: Unable to register module "${e}".`,s)}return DC(e,t,o,a),!1}function PT(e){const t=e||Bt,o=Zf(t);if(o&&typeof o.getGlobalScope=="function")try{const r=o.getGlobalScope();if(r)return r}catch(r){qo("cineModuleSystem: Unable to obtain global scope from module base.",r)}return t}function BT(e,t={}){const o=_C(e),r=t.scope||Bt,n=vh(r);if(n&&typeof n.get=="function")try{const u=n.get(o);if(u)return u}catch(u){qo("cineModuleSystem: Registry lookup failed.",u)}const a=t.propertyName||o,l=Array.isArray(t.scopes)&&t.scopes.length>0?t.scopes:Ac(r),s=Xf(a,{primaryScope:r,scopes:l,predicate:t.predicate});if(s)return s;if(typeof t.fallback=="function")try{return t.fallback()}catch(u){qo("cineModuleSystem: Fallback resolver threw while resolving module.",u)}return null}function MT(e,t,o,r,n){const a=r||Bt;return FC(e,t,o,a)?BC(e,t,a,n||{}):!1}function _T(e){return MC(e||Bt)}const xC={getArchitecture(){return ot&&ot.architecture||null},detectGlobalScope:og,getGlobalScope:PT,collectCandidateScopes:Ac,tryRequire:TT,resolveFromScopes:Xf,getModuleBase:Zf,getModuleRegistry:vh,queueModuleRegistration:DC,registerModule:FC,registerAndExpose:MT,resolveModule:BT,exposeGlobal:BC,defineHiddenProperty:PC,freezeDeep:OT,safeWarn:qo,getPendingQueue:_T,getPendingQueueKey(){return Ks}};Object.defineProperty(xC,"PENDING_QUEUE_KEY",{configurable:!1,enumerable:!0,get(){return Ks}});const NC=Object.freeze(xC);Bt&&typeof Bt=="object"&&!Bt.cineModuleSystem&&PC(Bt,"cineModuleSystem",NC);const Mp=NC,DT="__cinePendingModuleRegistrations__";function Zd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}function Jd(e){const t=[];function o(r){!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)}return o(e),typeof globalThis<"u"&&o(globalThis),typeof window<"u"&&o(window),typeof self<"u"&&o(self),typeof global<"u"&&o(global),t}function FT(e){return null}function xT(e,t,o){if(!e||typeof e!="object"&&typeof e!="function")return!1;try{return Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o}),!0}catch{}try{return e[t]=o,!0}catch{}return!1}function NT(e){if(e&&typeof e.has=="function"&&typeof e.add=="function")return e;if(Array.isArray(e))return{has(o){return e.indexOf(o)!==-1},add(o){e.indexOf(o)===-1&&e.push(o)}};if(typeof WeakSet=="function")try{return new WeakSet}catch{}const t=[];return{has(o){return t.indexOf(o)!==-1},add(o){t.indexOf(o)===-1&&t.push(o)}}}function HC(e,t){if(!e||typeof e=="function"||typeof e!="object"&&typeof e!="function")return e;const o=NT(t);if(o.has(e))return e;o.add(e);let r=[];try{r=Object.getOwnPropertyNames(e)}catch{}for(let n=0;n<r.length;n+=1){const a=r[n];let l;try{l=e[a]}catch{l=void 0}!l||typeof l=="function"||typeof l!="object"&&typeof l!="function"||HC(l,o)}try{try{return Object.freeze(e)}catch(n){return e}}catch{return e}}function HT(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}function jT(e,t){const o=t||{},r=typeof o.predicate=="function"?o.predicate:null,n=Array.isArray(o.scopes)?o.scopes.slice():Jd(o.primaryScope);for(let a=0;a<n.length;a+=1){const l=n[a];if(!l||typeof l!="object"&&typeof l!="function")continue;if(r){try{if(r(l,e))return l}catch{}continue}const s=l[e];if(typeof s<"u")return s}return null}function UT(e,t){if(!e||typeof e!="object")return null;let o=null;try{o=e[t]}catch{o=null}if(Array.isArray(o))return o;try{if(Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:[]}),o=e[t],Array.isArray(o))return o}catch{}try{e[t]=[],o=e[t]}catch{return null}return Array.isArray(o)?o:null}const Ll=Zd();function zT(e){const t=e||Ll;return t&&typeof t.cineModuleArchitecture=="object"?t.cineModuleArchitecture:null}function VT(e){const t=e||Ll;return t&&typeof t.cineModuleArchitectureHelpers=="object"?t.cineModuleArchitectureHelpers:null}function qT(e){const t=e||Ll;return Mp&&typeof Mp=="object"?Mp:t&&typeof t.cineModuleSystem=="object"?t.cineModuleSystem:null}const St=VT(Ll);let Es=St&&typeof St.pendingQueueKey=="string"?St.pendingQueueKey:DT;function cd(e){if(!(!e||typeof e!="object"&&typeof e!="function")){try{if(typeof e.getPendingQueueKey=="function"){const t=e.getPendingQueueKey();if(typeof t=="string"&&t){Es=t;return}}}catch{}typeof e.PENDING_QUEUE_KEY=="string"&&e.PENDING_QUEUE_KEY&&(Es=e.PENDING_QUEUE_KEY)}}const Ye=qT(Ll);Ye&&cd(Ye);const lt=(Ye&&typeof Ye.getArchitecture=="function"?Ye.getArchitecture():null)||zT(Ll);function Qb(){if(Ye&&typeof Ye.detectGlobalScope=="function"){try{const e=Ye.detectGlobalScope();if(e)return e}catch{}if(lt&&typeof lt.detectGlobalScope=="function")try{const e=lt.detectGlobalScope();if(e)return e}catch{}return Zd()}if(lt&&typeof lt.detectGlobalScope=="function")try{const e=lt.detectGlobalScope();if(e)return e}catch{}return Zd()}const jC=St&&typeof St.detectGlobalScope=="function"?function(){try{const t=St.detectGlobalScope();if(t)return t}catch{}return Qb()}:Qb,Qo=jC();function Xb(e){const t=e||Qo;if(Ye&&typeof Ye.collectCandidateScopes=="function"){try{const o=Ye.collectCandidateScopes(t);if(Array.isArray(o)&&o.length>0)return o}catch{}if(lt&&typeof lt.collectCandidateScopes=="function")try{const o=lt.collectCandidateScopes(t);if(Array.isArray(o)&&o.length>0)return o}catch{}return Jd(t)}if(lt&&typeof lt.collectCandidateScopes=="function")try{const o=lt.collectCandidateScopes(t);if(Array.isArray(o)&&o.length>0)return o}catch{}return Jd(t)}const ii=St&&typeof St.collectCandidateScopes=="function"?function(t){const o=t||Qo;try{const r=St.collectCandidateScopes(o);if(Array.isArray(r)&&r.length>0)return r}catch{}return Xb(o)}:Xb;function Zb(e){if(Ye&&typeof Ye.tryRequire=="function")try{const t=Ye.tryRequire(e);if(typeof t<"u")return t}catch{}if(lt&&typeof lt.tryRequire=="function")try{const t=lt.tryRequire(e);if(typeof t<"u")return t}catch{}return FT()}const UC=St&&typeof St.tryRequire=="function"?function(t){const o=St.tryRequire(t);return typeof o>"u"?Zb(t):o}:Zb;function Jb(e,t,o){if(Ye&&typeof Ye.defineHiddenProperty=="function")try{if(Ye.defineHiddenProperty(e,t,o))return!0}catch{}if(lt&&typeof lt.defineHiddenProperty=="function")try{if(lt.defineHiddenProperty(e,t,o))return!0}catch{}return xT(e,t,o)}const zC=St&&typeof St.defineHiddenProperty=="function"?function(t,o,r){try{if(St.defineHiddenProperty(t,o,r))return!0}catch{}return Jb(t,o,r)}:Jb;function eS(e){if(Ye&&typeof Ye.freezeDeep=="function")try{return Ye.freezeDeep(e)}catch{}if(lt&&typeof lt.freezeDeep=="function")try{return lt.freezeDeep(e)}catch{}return HC(e)}const rg=St&&typeof St.freezeDeep=="function"?function(t){try{return St.freezeDeep(t)}catch{}return eS(t)}:eS;function tS(e,t){if(Ye&&typeof Ye.safeWarn=="function")try{Ye.safeWarn(e,t);return}catch{}if(lt&&typeof lt.safeWarn=="function")try{lt.safeWarn(e,t);return}catch{}HT(e,t)}const yo=St&&typeof St.safeWarn=="function"?function(t,o){try{St.safeWarn(t,o);return}catch{}tS(t,o)}:tS,Jf=Ye&&typeof Ye.resolveFromScopes=="function"?function(t,o){const r={...o||{}};return r.primaryScope||(r.primaryScope=Qo),r.scopes||(r.scopes=ii(r.primaryScope)),Ye.resolveFromScopes(t,r)}:lt&&typeof lt.resolveFromScopes=="function"?function(t,o){const r={...o||{}};return r.primaryScope||(r.primaryScope=Qo),r.scopes||(r.scopes=ii(r.primaryScope)),lt.resolveFromScopes(t,r)}:function(t,o){const r={...o||{}};return r.primaryScope||(r.primaryScope=Qo),r.scopes||(r.scopes=Jd(r.primaryScope)),jT(t,r)};function ep(e){const t=e||Qo;if(Ye&&typeof Ye.getModuleBase=="function")try{const r=Ye.getModuleBase(t);if(r&&typeof r=="object")return cd(r),r}catch(r){yo("cineModuleContext: Unable to resolve module base through module system.",r)}if(zo&&typeof zo=="object")return cd(zo),zo;const o=Jf("cineModuleBase",{primaryScope:t,scopes:ii(t)});return o&&typeof o=="object"?(cd(o),o):null}function Eh(e){const t=e||Qo;if(St&&typeof St.ensureQueue=="function")try{const o=St.ensureQueue(t,Es);if(Array.isArray(o))return o}catch(o){yo("cineModuleContext: Unable to access pending queue via architecture helpers.",o)}if(Ye&&typeof Ye.getPendingQueue=="function")try{const o=Ye.getPendingQueue(t);if(Array.isArray(o))return o}catch(o){yo("cineModuleContext: Unable to access pending queue via module system.",o)}if(lt&&typeof lt.ensureQueue=="function")try{const o=lt.ensureQueue(t,Es);if(Array.isArray(o))return o}catch(o){yo("cineModuleContext: Unable to access pending queue via architecture.",o)}return UT(t,Es)}function Ch(e,t,o,r){const n=r||Qo;if(St&&typeof St.queueModuleRegistration=="function")try{if(St.queueModuleRegistration(n,e,t,o))return!0}catch(s){yo("cineModuleContext: Architecture helpers queueModuleRegistration failed.",s)}const a=Eh(n);if(!a)return!1;const l=Object.freeze({name:e,api:t,options:Object.freeze({...o||{}})});try{a.push(l)}catch{a[a.length]=l}return!0}function Ah(e){const t=e||Qo;if(St&&typeof St.resolveModuleRegistry=="function")try{const n=St.resolveModuleRegistry(t);if(n&&typeof n=="object")return n}catch(n){yo("cineModuleContext: Architecture helpers resolveModuleRegistry failed.",n)}if(Ye&&typeof Ye.getModuleRegistry=="function")try{const n=Ye.getModuleRegistry(t);if(n&&typeof n=="object")return n}catch(n){yo("cineModuleContext: Unable to resolve module registry via module system.",n)}const o=ep(t);if(o&&typeof o=="object"){if(typeof o.getModuleRegistry=="function")try{const n=o.getModuleRegistry(t);if(n&&typeof n=="object")return n}catch(n){yo("cineModuleContext: Module base getModuleRegistry failed.",n)}if(typeof o.resolveModuleRegistry=="function")try{const n=o.resolveModuleRegistry(t);if(n&&typeof n=="object")return n}catch(n){yo("cineModuleContext: Module base resolveModuleRegistry failed.",n)}}if(Ko&&typeof Ko=="object")return Ko;const r=Jf("cineModules",{primaryScope:t,scopes:ii(t)});return r&&typeof r=="object"?r:null}function wh(e,t,o,r){const n=r||Qo;if(Ye&&typeof Ye.registerModule=="function")try{if(Ye.registerModule(e,t,o||{},n))return!0}catch(s){yo("cineModuleContext: Module system failed to register module.",s)}const a=Ah(n),l=ep(n);if(l&&typeof l.registerOrQueueModule=="function")try{if(l.registerOrQueueModule(e,t,o||{},u=>{yo("cineModuleContext: Module base failed to register module.",u)},n,a))return!0}catch(s){yo("cineModuleContext: Module base threw while registering module.",s)}if(a&&typeof a.register=="function")try{return a.register(e,t,o||{}),!0}catch(s){yo("cineModuleContext: Registry registration failed.",s)}return Ch(e,t,o,n)}function Rh(e,t,o,r={}){const n=o||Qo;if(!n||typeof n!="object")return!1;if(Ye&&typeof Ye.exposeGlobal=="function")try{return Ye.exposeGlobal(e,t,n,r||{})}catch(l){yo("cineModuleContext: Module system failed to expose global.",l)}const a={configurable:r.configurable!==!1,enumerable:!!r.enumerable,value:t,writable:r.writable===!0};try{return Object.defineProperty(n,e,a),!0}catch{}try{return n[e]=t,!0}catch{}return!1}function WT(e={}){const t=e.scope||Qo,o=ep(t),r=Ah(t);return Object.freeze({getArchitecture(){return lt||null},getSystem(){return Ye||null},getScope(){return t},detectGlobalScope(a){const l=a||t;try{if(Ye&&typeof Ye.detectGlobalScope=="function"){const s=Ye.detectGlobalScope(l);if(s)return s}}catch(s){yo("cineModuleContext: detectGlobalScope via system failed.",s)}if(lt&&typeof lt.detectGlobalScope=="function")try{const s=lt.detectGlobalScope(l);if(s)return s}catch(s){yo("cineModuleContext: detectGlobalScope via architecture failed.",s)}return Zd()},collectCandidateScopes(a){return ii(a||t)},tryRequire(a){return UC(a)},resolveFromScopes(a,l){const s={...l||{}};return s.primaryScope||(s.primaryScope=t),s.scopes||(s.scopes=ii(s.primaryScope)),Jf(a,s)},defineHiddenProperty(a,l,s){return zC(a,l,s)},freezeDeep(a){return rg(a)},safeWarn(a,l){yo(a,l)},ensureQueue(a){return Eh(a||t)},getModuleBase(){return o},getModuleRegistry(){return r},queueModuleRegistration(a,l,s,u){return Ch(a,l,s,u||t)},registerModule(a,l,s,u){return wh(a,l,s,u||t)},exposeGlobal(a,l,s,u){return Rh(a,l,s||t,u||{})}})}const VC=rg({getArchitecture(){return lt},getModuleSystem(){return Ye},detectGlobalScope:jC,collectCandidateScopes:ii,tryRequire:UC,resolveFromScopes:Jf,defineHiddenProperty:zC,freezeDeep:rg,safeWarn:yo,ensureQueue:Eh,resolveModuleBase:ep,resolveModuleRegistry:Ah,queueModuleRegistration:Ch,registerOrQueue:wh,exposeGlobal:Rh,createModuleContext:WT,getPrimaryScope(){return Qo}});wh("cineModuleContext",VC,{category:"infrastructure",description:"Shared context helpers that unify architecture, system and registry lookups.",freeze:!1,connections:["cineModuleBase","cineModuleGlobals","cineModuleEnvironment","cineModuleArchitectureKernel"]},Qo);Rh("cineModuleContext",VC,Qo,{configurable:!0,enumerable:!1,writable:!1});const tp="__cinePendingModuleRegistrations__";function Lh(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}const wc=Lh();function KT(e){const t=[],o=e||wc;o&&typeof o=="object"&&t.push(o),typeof globalThis<"u"&&t.indexOf(globalThis)===-1&&t.push(globalThis),typeof window<"u"&&t.indexOf(window)===-1&&t.push(window),typeof self<"u"&&t.indexOf(self)===-1&&t.push(self),typeof global<"u"&&t.indexOf(global)===-1&&t.push(global);for(let r=0;r<t.length;r+=1){const n=t[r];if(n&&typeof n.cineModuleArchitectureCore=="object")return n.cineModuleArchitectureCore}return null}function $T(e){const t=e||wc;return t&&typeof t.cineModuleArchitecture=="object"?t.cineModuleArchitecture:null}const Ft=$T(wc),ud=KT(wc),Ht=ud&&typeof ud.createCore=="function"?ud.createCore({primaryScope:wc,pendingQueueKey:tp}):null;function qC(e){const t=[];function o(r){!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)}return o(e),typeof globalThis<"u"&&o(globalThis),typeof window<"u"&&o(window),typeof self<"u"&&o(self),typeof global<"u"&&o(global),t}function oS(){if(Ht&&typeof Ht.detectGlobalScope=="function")try{const e=Ht.detectGlobalScope();if(e)return e}catch{}if(Ft&&typeof Ft.detectGlobalScope=="function")try{const e=Ft.detectGlobalScope();if(e)return e}catch{}return Lh()}const WC=Ft&&typeof Ft.detectGlobalScope=="function"?function(){try{const t=Ft.detectGlobalScope();if(t)return t}catch{}return oS()}:oS,Bo=WC();function YT(e){const t=e||Bo;if(Ht&&typeof Ht.collectCandidateScopes=="function")try{const o=Ht.collectCandidateScopes(t);if(Array.isArray(o)&&o.length>0)return o}catch{}if(Ft&&typeof Ft.collectCandidateScopes=="function")try{const o=Ft.collectCandidateScopes(t);if(Array.isArray(o)&&o.length>0)return o}catch{}return qC(t)}const Gh=function(t){const o=t||Bo,r=YT(o);return Array.isArray(r)&&r.length>0?r:qC(o)};function QT(e){return null}function Th(e){if(Ht&&typeof Ht.tryRequire=="function")try{const t=Ht.tryRequire(e);if(typeof t<"u")return t}catch{}if(Ft&&typeof Ft.tryRequire=="function")try{const t=Ft.tryRequire(e);if(typeof t<"u")return t}catch{}return QT()}function KC(e){const t=e||Bo;if(Ht&&typeof Ht.resolveImmutability=="function")try{const n=Ht.resolveImmutability(t);if(n&&typeof n=="object")return n}catch{}if(Ft&&typeof Ft.tryRequire=="function")try{const n=Ft.tryRequire("./immutability.js");if(n&&typeof n=="object")return n}catch{}const o=Th("./immutability.js");if(o&&typeof o=="object")return o;const r=Gh(t);for(let n=0;n<r.length;n+=1){const a=r[n];if(a&&typeof a.cineModuleImmutability=="object")return a.cineModuleImmutability}return null}function XT(e,t,o){if(!e||typeof e!="object"&&typeof e!="function")return!1;try{return Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o}),!0}catch{}try{return e[t]=o,!0}catch{}return!1}function Oh(e,t,o){if(Ht&&typeof Ht.defineHiddenProperty=="function")try{if(Ht.defineHiddenProperty(e,t,o))return!0}catch{}if(Ft&&typeof Ft.defineHiddenProperty=="function")try{if(Ft.defineHiddenProperty(e,t,o))return!0}catch{}return XT(e,t,o)}function ZT(e,t){if(!e||typeof e!="object")return null;let o=null;try{o=e[t]}catch{o=null}if(Array.isArray(o)||Oh(e,t,[])&&(o=e[t],Array.isArray(o)))return o;try{e[t]=[],o=e[t]}catch{return null}return Array.isArray(o)?o:null}function $C(e,t){const o=typeof t=="string"&&t?t:tp,r=e||Bo;if(Ht&&typeof Ht.ensureQueue=="function")try{const n=Ht.ensureQueue(r,o);if(Array.isArray(n))return n}catch{}if(Ft&&typeof Ft.ensureQueue=="function")try{const n=Ft.ensureQueue(r,o);if(Array.isArray(n))return n}catch{}return ZT(r,o)}function JT(){function e(o){if(!o||typeof o=="function"||typeof o!="object"&&typeof o!="function")return!1;try{if(typeof o.pipe=="function"&&typeof o.unpipe=="function")return!0;if(typeof o.on=="function"&&typeof o.emit=="function"){if(typeof o.write=="function"||typeof o.read=="function")return!0;const r=o.constructor&&o.constructor.name;if(r&&/Stream|Emitter|Port/i.test(r))return!0}if(typeof Symbol<"u"&&o[Symbol.toStringTag]){const r=o[Symbol.toStringTag];if(typeof r=="string"&&/Stream|Port/i.test(r))return!0}}catch{}return!1}function t(o,r=new WeakSet){if(!o||typeof o=="function"||typeof o!="object"&&typeof o!="function"||e(o)||r.has(o))return o;r.add(o);const n=Object.getOwnPropertyNames(o);for(let a=0;a<n.length;a+=1){const l=n[a];let s;try{s=o[l]}catch{s=void 0}!s||typeof s=="function"||typeof s!="object"&&typeof s!="function"||t(s,r)}try{return Object.freeze(o)}catch(a){return console.warn("fallbackCreateImmutability (helpers): Object.freeze failed",a),o}}return{shouldBypassDeepFreeze:e,freezeDeep:t}}const kh=JT();let Ol=KC(Bo)||kh;function eO(){if(Ol!==kh)return Ol;const e=KC(Bo);return e&&e!==Ol&&(Ol=e),Ol}function ng(e){if(Ht&&typeof Ht.freezeDeep=="function")try{return Ht.freezeDeep(e)}catch{}const t=eO();try{return t.freezeDeep(e)}catch{}return kh.freezeDeep(e)}function tO(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}function YC(e,t){if(Ht&&typeof Ht.safeWarn=="function")try{Ht.safeWarn(e,t);return}catch{}if(Ft&&typeof Ft.safeWarn=="function")try{Ft.safeWarn(e,t);return}catch{}tO(e,t)}function QC(e){const t=e||Bo,o=Th("./registry.js");if(o&&typeof o=="object")return o;const r=Gh(t);for(let n=0;n<r.length;n+=1){const a=r[n];if(a&&typeof a.cineModules=="object")return a.cineModules}return null}function ag(e,t,o,r){const a=$C(e||Bo,tp);if(!a)return!1;const l=ng({name:t,api:o,options:Object.freeze({...r||{}})});try{a.push(l)}catch{a[a.length]=l}return!0}const dd=ng({architecture:Ft,architectureCore:ud,detectGlobalScope:WC,getPrimaryScope(){return Bo},collectCandidateScopes:Gh,tryRequire:Th,defineHiddenProperty:Oh,ensureQueue:$C,freezeDeep:ng,safeWarn:YC,resolveModuleRegistry:QC,queueModuleRegistration:ag,pendingQueueKey:tp,fallbackDetectGlobalScope:Lh}),_p=QC(Bo),Dp={category:"infrastructure",description:"Shared architecture helpers for scope detection, registry resolution and queue management.",replace:!0,connections:["cineModuleArchitectureKernel","cineModuleArchitectureCore"]};if(_p&&typeof _p.register=="function")try{_p.register("cineModuleArchitectureHelpers",dd,Dp)}catch(e){YC("cineModuleArchitectureHelpers: immediate registry registration failed.",e),ag(Bo,"cineModuleArchitectureHelpers",dd,Dp)}else ag(Bo,"cineModuleArchitectureHelpers",dd,Dp);Bo&&typeof Bo=="object"&&!Bo.cineModuleArchitectureHelpers&&Oh(Bo,"cineModuleArchitectureHelpers",dd);const Ih="__cinePendingModuleRegistrations__";function li(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}function oO(e){return null}function rO(e,t,o){if(!e||typeof e!="object"&&typeof e!="function")return!1;try{return Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o}),!0}catch{}try{return e[t]=o,!0}catch{}return!1}function XC(e,t,o){const r=typeof o=="function"?o:li,n=Array.isArray(t)?t:null,a=JC(r,n);if(a)return a(e);const l=[];function s(u){!u||typeof u!="object"&&typeof u!="function"||l.indexOf(u)===-1&&l.push(u)}e&&s(e);try{s(r())}catch{}if(Array.isArray(n))for(let u=0;u<n.length;u+=1)s(n[u]);return typeof globalThis<"u"&&s(globalThis),typeof window<"u"&&s(window),typeof self<"u"&&s(self),typeof global<"u"&&s(global),s(li()),l}function nO(e,t){const o=t||{},r=typeof o.predicate=="function"?o.predicate:null,n=Array.isArray(o.scopes)?o.scopes.slice():[],a=typeof o.detect=="function"?o.detect:li,l=Array.isArray(o.additionalScopes)?o.additionalScopes:void 0,s=o.primaryScope,u=XC(s,l,a);for(let f=0;f<u.length;f+=1)n.indexOf(u[f])===-1&&n.push(u[f]);for(let f=0;f<n.length;f+=1){const y=n[f];if(!(!y||typeof y!="object"&&typeof y!="function")){if(r)try{if(r(y,e))return y}catch{}try{if(e in y)return y}catch{}}}return null}const op=li();function aO(e){const t=e||op;if(Sp&&typeof Sp=="object")return Sp;const o=[];function r(n){!n||typeof n!="object"&&typeof n!="function"||o.indexOf(n)===-1&&o.push(n)}r(t),typeof globalThis<"u"&&r(globalThis),typeof window<"u"&&r(window),typeof self<"u"&&r(self),typeof global<"u"&&r(global);for(let n=0;n<o.length;n+=1){const a=o[n];try{const l=a&&a.cineScopeUtils;if(l&&typeof l=="object")return l}catch{}}return null}const Xo=aO(op),Gl=Xo&&typeof Xo.detectGlobalScope=="function"?function(){try{return Xo.detectGlobalScope()}catch{}return li()}:li,ig=Xo&&typeof Xo.tryRequire=="function"?Xo.tryRequire:oO,Ph=Xo&&typeof Xo.defineHiddenProperty=="function"?Xo.defineHiddenProperty:rO,Bh=Xo&&typeof Xo.collectCandidateScopes=="function"?function(t,o,r){const n=typeof r=="function"?r:Gl;return Xo.collectCandidateScopes(t,o,n)}:XC,ZC=Xo&&typeof Xo.resolveFromScopes=="function"?function(t,o){const r=o?Mh(o):{};return r.primaryScope||(r.primaryScope=op),r.detect||(r.detect=Gl),Xo.resolveFromScopes(t,r)||null}:nO;function iO(){if(vp&&typeof vp=="function")return{createCollector:vp};const e=Bh(op,null,Gl);for(let t=0;t<e.length;t+=1){const o=e[t];try{const r=o&&o.__cineScopeCollector;if(r&&typeof r.createCollector=="function")return r}catch{}}return null}const Fp=iO(),rS=Fp&&typeof Fp.createCollector=="function"?Fp.createCollector:null,lO={key:"defaultExtras"},xp=[];function JC(e,t){if(!rS)return null;const o=Array.isArray(t)?t:lO;for(let n=0;n<xp.length;n+=1){const a=xp[n];if(a.detect===e&&a.extras===o)return a.collector}const r=rS({detectGlobalScope:e,additionalScopes:Array.isArray(t)?t:void 0});return r?(xp.push({detect:e,extras:o,collector:r}),r):null}function Mh(e){if(!e||typeof e!="object")return{};const t={},o=Object.keys(e);for(let r=0;r<o.length;r+=1){const n=o[r];t[n]=e[n]}return t}function sO(){function e(o){if(!o||typeof o=="function"||typeof o!="object"&&typeof o!="function")return!1;try{if(typeof o.pipe=="function"&&typeof o.unpipe=="function")return!0;if(typeof o.on=="function"&&typeof o.emit=="function"){if(typeof o.write=="function"||typeof o.read=="function")return!0;const r=o.constructor&&o.constructor.name;if(r&&/Stream|Emitter|Port/i.test(r))return!0}if(typeof Symbol<"u"&&o[Symbol.toStringTag]){const r=o[Symbol.toStringTag];if(typeof r=="string"&&/Stream|Port/i.test(r))return!0}}catch{}return!1}function t(o,r=new WeakSet){if(!o||typeof o=="function"||typeof o!="object"&&typeof o!="function")return o;if(e(o))return process.stdout.write(`architecture.js bypassed freeze for value: ${typeof o}
`),o;if(r.has(o))return o;r.add(o);const n=Object.getOwnPropertyNames(o);for(let a=0;a<n.length;a+=1){const l=n[a];let s;try{s=o[l]}catch{s=void 0}!s||typeof s=="function"||typeof s!="object"&&typeof s!="function"||t(s,r)}try{return Object.freeze(o)}catch{return o}}return{shouldBypassDeepFreeze:e,freezeDeep:t}}const fd=sO();function eA(e,t){if(!e||typeof e!="object")return null;const o=typeof t=="string"&&t?t:Ih;let r=e[o];if(Array.isArray(r)||Ph(e,o,[])&&(r=e[o],Array.isArray(r)))return r;try{if(e[o]=[],r=e[o],Array.isArray(r))return r}catch{}return null}function _h(e,t){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof t>"u"?console.warn(e):console.warn(e,t)}catch{}}function cO(e){const t=Bh(e,null,Gl);for(let o=0;o<t.length;o+=1){const r=t[o];if(r&&typeof r.cineModuleArchitectureCore=="object")return r.cineModuleArchitectureCore}return null}function tA(e){const t=e||{},o=t&&(t.primaryScope||t.scope)&&(typeof t.primaryScope=="object"||typeof t.primaryScope=="function"?t.primaryScope:typeof t.scope=="object"||typeof t.scope=="function"?t.scope:null),r=typeof t.detectGlobalScope=="function"?t.detectGlobalScope:null,n=typeof t.resolveFromScopes=="function"?t.resolveFromScopes:null,a=typeof t.freezeDeep=="function"?t.freezeDeep:null,l=typeof t.safeWarn=="function"?t.safeWarn:null,s=typeof t.tryRequire=="function"?t.tryRequire:null,u=Array.isArray(t.additionalScopes)?t.additionalScopes.filter(function(j){return j&&(typeof j=="object"||typeof j=="function")}):[],f=typeof t.pendingQueueKey=="string"&&t.pendingQueueKey?t.pendingQueueKey:Ih;let y=null;function R(){try{if(r){const j=r();if(j)return y=j,j}}catch{}if(y)return y;const F=o||Gl();return y=F,F}function _(){return R()}function T(F){const j=F||o,$=JC(R,u);if($)return $(j);const x=[];function Q(le){!le||typeof le!="object"&&typeof le!="function"||x.indexOf(le)===-1&&x.push(le)}Q(j),Q(R()),typeof globalThis<"u"&&Q(globalThis),typeof window<"u"&&Q(window),typeof self<"u"&&Q(self),typeof global<"u"&&Q(global);for(let le=0;le<u.length;le+=1)Q(u[le]);return x}const I=s?function(j){try{return s(j)}catch{}return ig(j)}:ig;let m=null;function g(F){try{const $=I("./immutability.js");if($&&typeof $=="object")return m=$,$}catch{}const j=T(F);for(let $=0;$<j.length;$+=1){const x=j[$];if(x&&typeof x.cineModuleImmutability=="object")return m=x.cineModuleImmutability,m}return null}function A(F){if(m&&m!==fd)return m;const j=g(_());return j&&j!==m?(m=j,j):(m=fd,m)}function w(F,j){if(a)try{return a(F,j)}catch{}const $=A();try{return $.freezeDeep(F,j)}catch{}return fd.freezeDeep(F,j)}function E(F,j){const $=typeof j=="string"&&j?j:f;return eA(F||_(),$)}function S(F,j){if(n)try{return n(F,j)}catch{}const $=Mh(j);return $.scopes||($.scopes=T($.primaryScope)),ZC(F,$)}function C(F,j){if(l)try{l(F,j);return}catch{}_h(F,j)}return Object.freeze({detectGlobalScope:R,getPrimaryScope:_,collectCandidateScopes:T,tryRequire:I,resolveFromScopes:S,defineHiddenProperty:Ph,ensureQueue:E,freezeDeep:w,safeWarn:C})}const Np=cO(Gl()),Hp=Np&&typeof Np.createCore=="function"?Np.createCore:tA;function uO(e){const t=tA(e);if(!Hp||typeof Hp!="function")return{primary:t,fallback:t};try{const o=Hp(e||{});if(o&&typeof o=="object")return{primary:o,fallback:t}}catch(o){_h("cineModuleArchitecture: core factory failed; using fallback core.",o)}return{primary:t,fallback:t}}function nS(e,t,o,r,n){const a=e&&typeof e[o]=="function"?e[o]:null,l=t&&typeof t[o]=="function"?t[o]:null,s=typeof r=="function"?r:null,u=f=>!f||typeof f.message!="string"?!1:!!(f.message.includes("trap returned extra keys but proxy target is non-extensible")||f.message.includes("Cannot freeze"));return function(){const y=arguments;if(a)try{return a.apply(e,y)}catch(R){if(typeof n=="function")try{u(R)||n("cineModuleArchitecture."+o+": primary implementation failed, using fallback.",R)}catch{}}if(l)return l.apply(t,y);if(s)return s.apply(null,y)}}function oA(e){const t=uO(e||{}),o=t.primary,r=t.fallback,n=nS(o,r,"safeWarn",_h,null);function a(I,m){return nS(o,r,I,m,n)}const l=a("detectGlobalScope",li),s=a("getPrimaryScope",function(){return l()}),u=a("collectCandidateScopes",function(m){const g=m||s();return Bh(g)}),f=a("tryRequire",ig),y=a("resolveFromScopes",function(m,g){const A=Mh(g);return A.scopes||(A.scopes=u(A.primaryScope)),ZC(m,A)}),R=a("defineHiddenProperty",Ph),_=a("ensureQueue",function(m,g){const A=m||s();return eA(A,g)}),T=a("freezeDeep",function(m,g){return fd.freezeDeep(m,g)});return Object.freeze({detectGlobalScope:l,getPrimaryScope:s,collectCandidateScopes:u,tryRequire:f,resolveFromScopes:y,defineHiddenProperty:R,ensureQueue:_,freezeDeep:T,safeWarn:n})}const Uo=oA({}),Dh=Object.freeze({detectGlobalScope:Uo.detectGlobalScope,collectCandidateScopes:Uo.collectCandidateScopes,tryRequire:Uo.tryRequire,resolveFromScopes:Uo.resolveFromScopes,defineHiddenProperty:Uo.defineHiddenProperty,ensureQueue:Uo.ensureQueue,freezeDeep:Uo.freezeDeep,safeWarn:Uo.safeWarn});function rA(e){const t=e||{},o=t&&(t.primaryScope||t.scope)&&(typeof t.primaryScope=="object"||typeof t.primaryScope=="function"?t.primaryScope:typeof t.scope=="object"||typeof t.scope=="function"?t.scope:null),r=typeof t.detectGlobalScope=="function"?t.detectGlobalScope:function(){return o||Uo.detectGlobalScope()},n=Array.isArray(t.additionalScopes)?t.additionalScopes.filter(function(_){return _&&(typeof _=="object"||typeof _=="function")}):[],a=typeof t.tryRequire=="function"?t.tryRequire:Uo.tryRequire,l=typeof t.resolveFromScopes=="function"?t.resolveFromScopes:null,s=typeof t.pendingQueueKey=="string"&&t.pendingQueueKey?t.pendingQueueKey:Ih,u=typeof t.freezeDeep=="function"?t.freezeDeep:Uo.freezeDeep,f=typeof t.safeWarn=="function"?t.safeWarn:Uo.safeWarn,y=oA({primaryScope:o,detectGlobalScope:r,additionalScopes:n,tryRequire:a,resolveFromScopes:l,pendingQueueKey:s,freezeDeep:u,safeWarn:f});return Object.freeze({detectGlobalScope:y.detectGlobalScope,collectCandidateScopes:y.collectCandidateScopes,tryRequire:y.tryRequire,resolveFromScopes:y.resolveFromScopes,defineHiddenProperty:y.defineHiddenProperty,ensureQueue:y.ensureQueue,freezeDeep:y.freezeDeep,safeWarn:y.safeWarn})}const dO=Object.freeze({...Dh,createModuleArchitecture:rA}),ua=Uo.getPrimaryScope?Uo.getPrimaryScope():Uo.detectGlobalScope();ua&&typeof ua=="object"&&!ua.cineModuleArchitecture&&Dh.defineHiddenProperty(ua,"cineModuleArchitecture",dO);ua&&typeof ua=="object"&&!ua.cineModuleArchitectureFactory&&Dh.defineHiddenProperty(ua,"cineModuleArchitectureFactory",Object.freeze({createModuleArchitecture:rA}));var aS={};(function(){const e=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{};function t(){return typeof e<"u"?e:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null}function o(){if(typeof require=="function")try{const B=require("./runtime-environment-helpers.js");if(B&&typeof B=="object")return B}catch{}const v=[];function k(B){!B||typeof B!="object"&&typeof B!="function"||v.indexOf(B)===-1&&v.push(B)}const O=t();k(O),typeof e<"u"&&k(e),typeof window<"u"&&k(window),typeof self<"u"&&k(self),typeof global<"u"&&k(global);for(let B=0;B<v.length;B+=1){const z=v[B];try{const Y=z&&z.cineRuntimeEnvironmentHelpers;if(Y&&typeof Y=="object")return Y}catch{}}return null}const r=o();function n(v,k,O){if(r&&v&&typeof r[v]=="function")try{const B=r[v].apply(r,Array.isArray(k)?k:[]);if(typeof B<"u")return B}catch{}if(typeof O=="function")return O()}function a(){if(r&&typeof r.fallbackDetectGlobalScope=="function")try{const v=r.fallbackDetectGlobalScope();if(v)return v}catch{}return typeof e<"u"?e:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}function l(v){if(r&&typeof r.fallbackCollectCandidateScopes=="function")try{const B=r.fallbackCollectCandidateScopes(v);if(Array.isArray(B))return B}catch{}const k=[];function O(B){!B||typeof B!="object"&&typeof B!="function"||k.indexOf(B)===-1&&k.push(B)}return O(v),typeof e<"u"&&O(e),typeof window<"u"&&O(window),typeof self<"u"&&O(self),typeof global<"u"&&O(global),k}function s(v){return n("fallbackLoadModuleEnvironment",[v],function(){const O=y("./environment.js");if(O&&typeof O=="object")return O;const B=l(v);for(let z=0;z<B.length;z+=1){const Y=B[z];if(Y&&typeof Y.cineModuleEnvironment=="object")return Y.cineModuleEnvironment}return null})}function u(v){return n("fallbackLoadEnvironmentBridge",[v],function(){const O=y("./environment-bridge.js");if(O&&typeof O=="object")return O;const B=l(v);for(let z=0;z<B.length;z+=1){const Y=B[z];if(Y&&typeof Y.cineEnvironmentBridge=="object")return Y.cineEnvironmentBridge}return null})}function f(v){return n("fallbackResolveModuleGlobals",[v],function(){const O=y("./globals.js");if(O&&typeof O=="object")return O;const B=l(v);for(let z=0;z<B.length;z+=1){const Y=B[z];if(Y&&typeof Y.cineModuleGlobals=="object")return Y.cineModuleGlobals}return null})}function y(v){return n("fallbackTryRequire",[v],function(){if(typeof require!="function")return null;try{return require(v)}catch{return null}})}function R(v){return n("resolveModuleLinker",[v],function(){const O=y("./helpers/module-linker.js");if(O&&typeof O=="object")return O;const B=l(v);for(let z=0;z<B.length;z+=1){const Y=B[z];try{const se=Y&&Y.cineModuleLinker;if(se&&typeof se=="object")return se}catch{}}return null})}const _=a(),T=R(_);function I(v){return n("resolveModuleSystem",[v],function(){const O=v||_,B=y("./system.js");return B&&typeof B=="object"?B:O&&typeof O.cineModuleSystem=="object"?O.cineModuleSystem:null})}const m=I(_);function g(v){return n("resolveEnvironmentContext",[v||_],function(){const O=v||_,B=y("./environment-context.js");return B&&typeof B=="object"?B:O&&typeof O.cineModuleEnvironmentContext=="object"?O.cineModuleEnvironmentContext:null})}const A=g(_);function w(){if(A&&typeof A.detectGlobalScope=="function")try{const v=A.detectGlobalScope();if(v)return v}catch{}return a()}const E=m&&typeof m.detectGlobalScope=="function"?function(){try{const k=m.detectGlobalScope();if(k)return k}catch{}return w()}:w,S=(A&&typeof A.getPrimaryScope=="function"?A.getPrimaryScope():null)||E(),C=(function(){if(m&&typeof m.getGlobalScope=="function")try{const k=m.getGlobalScope(S);if(k)return k}catch{}if(A&&typeof A.getGlobalScope=="function")try{const k=A.getGlobalScope(S);if(k)return k}catch{}return S})(),F=typeof WeakMap=="function"?new WeakMap:null;function j(v){const k=v||C,O=!!F&&k&&(typeof k=="object"||typeof k=="function");if(O)try{const Y=F.get(k);if(Y&&Array.isArray(Y)&&Y.length>0)return Y.slice()}catch{}if(m&&typeof m.collectCandidateScopes=="function")try{const Y=m.collectCandidateScopes(k);if(Array.isArray(Y)&&Y.length>0){const se=Y.slice();if(O)try{const fe=typeof Object.freeze=="function"?Object.freeze(se.slice()):se.slice();F.set(k,fe)}catch(fe){}return se}}catch{}if(A&&typeof A.collectCandidateScopes=="function")try{const Y=A.collectCandidateScopes(k);if(Array.isArray(Y)&&Y.length>0){const se=Y.slice();if(O)try{const fe=typeof Object.freeze=="function"?Object.freeze(se.slice()):se.slice();F.set(k,fe)}catch(fe){}return se}}catch{}const B=l(k),z=Array.isArray(B)?B.slice():[];if(O&&z.length>0)try{const Y=typeof Object.freeze=="function"?Object.freeze(z.slice()):z.slice();F.set(k,Y)}catch{}return z}const $=(T&&typeof T.getModuleEnvironment=="function"?T.getModuleEnvironment():null)||(A&&typeof A.resolveModuleEnvironment=="function"?A.resolveModuleEnvironment(C):null)||s(C),x=(T&&typeof T.getEnvironmentBridge=="function"?T.getEnvironmentBridge():null)||(A&&typeof A.resolveEnvironmentBridge=="function"?A.resolveEnvironmentBridge(C):null)||u(C),Q=(T&&typeof T.getModuleGlobals=="function"?T.getModuleGlobals():null)||(A&&typeof A.resolveModuleGlobals=="function"?A.resolveModuleGlobals(C):null)||f(C);function le(v,k){if(T&&typeof T.recordModule=="function"&&T.recordModule(v,k),!(!Q||typeof Q.recordModule!="function"))try{Q.recordModule(v,k)}catch{}}const K=(function(){return T&&typeof T.tryRequire=="function"?T.tryRequire:m&&typeof m.tryRequire=="function"?function(O){const B=m.tryRequire(O);return typeof B>"u"?y(O):B}:A&&typeof A.tryRequire=="function"?function(O){const B=A.tryRequire(O);return typeof B>"u"?y(O):B}:Q&&typeof Q.tryRequire=="function"?Q.tryRequire:x&&typeof x.tryRequire=="function"?function(O){const B=x.tryRequire(O);return typeof B>"u"?y(O):B}:$&&typeof $.tryRequire=="function"?$.tryRequire:y})();function re(v){const k=v||C;if(T&&typeof T.getModuleRegistry=="function"){const z=T.getModuleRegistry(k);if(z)return z}if(Q&&typeof Q.resolveModuleRegistry=="function")try{const z=Q.resolveModuleRegistry(k);if(z)return z}catch{}if(x&&typeof x.getModuleRegistry=="function")try{const z=x.getModuleRegistry(k);if(z)return z}catch{}if($&&typeof $.resolveModuleRegistry=="function")try{return $.resolveModuleRegistry(k)}catch{}const O=K("./registry.js");if(O&&typeof O=="object")return O;const B=j(k);for(let z=0;z<B.length;z+=1){const Y=B[z];if(Y&&typeof Y.cineModules=="object")return Y.cineModules}return null}function Ee(v){const k=C;if(m&&typeof m.getModuleRegistry=="function")try{const O=m.getModuleRegistry(k);if(O)return O}catch{}if(A&&typeof A.resolveModuleRegistry=="function")try{const O=A.resolveModuleRegistry(k);if(O)return O}catch{}return re(k)}const ae=(function(){if(T&&typeof T.getModuleRegistry=="function"){const v=T.getModuleRegistry(C);if(v)return v}if(m&&typeof m.getModuleRegistry=="function")try{const v=m.getModuleRegistry(C);if(v)return v}catch{}if(Q&&typeof Q.getModuleRegistry=="function")try{const v=Q.getModuleRegistry(C);if(v)return v}catch{}if(x&&typeof x.getModuleRegistry=="function")try{const v=x.getModuleRegistry(C);if(v)return v}catch{}if($&&typeof $.getModuleRegistry=="function")try{const v=$.getModuleRegistry(C);if(v)return v}catch{}return Ee()})(),Z=(function(){if(T&&typeof T.getPendingQueueKey=="function"){const k=T.getPendingQueueKey();if(typeof k=="string"&&k)return k}if(m&&typeof m.getPendingQueueKey=="function")try{const k=m.getPendingQueueKey();if(typeof k=="string"&&k)return k}catch{}if(Q&&typeof Q.getPendingQueueKey=="function")try{const k=Q.getPendingQueueKey();if(typeof k=="string"&&k)return k}catch{}if(x&&typeof x.getPendingQueueKey=="function")try{const k=x.getPendingQueueKey();if(typeof k=="string"&&k)return k}catch{}return $&&typeof $.PENDING_QUEUE_KEY=="string"?$.PENDING_QUEUE_KEY:"__cinePendingModuleRegistrations__"})();function ce(v){if(!v||typeof v!="object")return{};const k={},O=Object.keys(v);for(let B=0;B<O.length;B+=1){const z=O[B];k[z]=v[z]}return k}function Le(v){return typeof v=="string"?v:""}function Pe(v,k){if(!Array.isArray(v)||!k)return;let O=0;for(let B=0;B<v.length;B+=1){const z=v[B];(z&&typeof z.name=="string"?z.name:"")!==k&&(v[O]=z,O+=1)}O<v.length&&(v.length=O)}function q(v,k,O){const B=Le(v);if(m&&typeof m.queueModuleRegistration=="function")try{if(m.queueModuleRegistration(B||v,k,O,C))return!0}catch{}if(Q&&typeof Q.queueModuleRegistration=="function")try{if(Q.queueModuleRegistration(B||v,k,O,C))return!0}catch{}if(x&&typeof x.queueModuleRegistration=="function")try{if(x.queueModuleRegistration(B||v,k,O))return!0}catch{}if($&&typeof $.queueModuleRegistration=="function")return $.queueModuleRegistration(B||v,k,O,C);if(!C||typeof C!="object"||!B)return!1;const z=Object.freeze({name:B,api:k,options:Object.freeze(ce(O))});let Y=C[Z];if(!Array.isArray(Y))try{Object.defineProperty(C,Z,{configurable:!0,enumerable:!1,writable:!0,value:[]}),Y=C[Z]}catch{try{Array.isArray(C[Z])||(C[Z]=[]),Y=C[Z]}catch{return!1}}Pe(Y,B);try{Y.push(z)}catch{Y[Y.length]=z}return!0}function oe(v,k,O){if(!ae||typeof ae.register!="function")return{ok:!1,error:null,reason:"missing-registry"};const B=typeof v=="string"?v:"";if(!B)return{ok:!1,error:new TypeError("cineRuntime expected a module name."),reason:"invalid-name"};if(typeof ae.has=="function")try{if(ae.has(B)){if(typeof ae.get=="function")try{const z=ae.get(B);z&&le(B,z)}catch(z){}return{ok:!0,alreadyRegistered:!0}}}catch(z){return{ok:!1,error:z,reason:"registry-check-failed"}}try{const z=ae.register(B,k,O);return le(B,z||k),{ok:!0,registered:!0}}catch(z){return{ok:!1,error:z,reason:"register-failed"}}}function ne(v,k,O,B){if(m&&typeof m.registerModule=="function")return m.registerModule(v,k,O,C,B)?(le(v,k),!0):!1;let z=null;const Y=oe(v,k,O);if(Y.ok)return!0;z=Y.error||null;const se=et({warn:!1});if(se&&(se.flushed&&se.flushed.processed>0||se.ok)){const fe=oe(v,k,O);if(fe.ok)return!0;fe.error&&(z=fe.error)}if(z&&typeof B=="function")try{B(z)}catch{}return q(v,k,O),!1}const ge=(function(){return m&&typeof m.registerModule=="function"?function(O,B,z,Y){return m.registerModule(O,B,z,C,Y)?(le(O,B),!0):!1}:Q&&typeof Q.registerOrQueueModule=="function"?function(O,B,z,Y){try{if(Q.registerOrQueueModule(O,B,z,Y,C,ae))return!0}catch{}return ne(O,B,z,Y)}:x&&typeof x.registerOrQueueModule=="function"?function(O,B,z,Y){try{if(x.registerOrQueueModule(O,B,z,Y,C,ae))return!0}catch{}return ne(O,B,z,Y)}:$&&typeof $.registerOrQueueModule=="function"?function(O,B,z,Y){return $.registerOrQueueModule(O,B,z,Y,C,ae)}:ne})();function J(v){if(!v||typeof process>"u"||!process)return!1;if(v===process)return!0;if(typeof v=="object"){try{if(v.constructor&&v.constructor.name==="process")return!0}catch{}if(typeof v.pid=="number"&&typeof v.nextTick=="function"&&typeof v.emit=="function"&&typeof v.binding=="function")return!0}if(typeof v=="function"){if(v===process.binding||v===process._linkedBinding||v===process.dlopen)return!0;try{const k=v.name||"";if(k&&(k==="binding"||k==="dlopen")){const O=Function.prototype.toString.call(v);if(O&&O.indexOf("[native code]")!==-1)return!0}}catch{}}return!1}function he(v){if(!v||typeof v=="function"||typeof v!="object"&&typeof v!="function")return!1;if(J(v)||typeof process<"u"&&process&&process.release&&process.release.name==="node")return!0;try{if(typeof module<"u"&&module&&typeof module.constructor=="function"&&v instanceof module.constructor)return!0}catch{}try{if(typeof v.pipe=="function"&&typeof v.unpipe=="function")return!0;if(typeof v.on=="function"&&typeof v.emit=="function"){if(typeof v.write=="function"||typeof v.read=="function")return!0;const k=v.constructor&&v.constructor.name;if(k&&/Stream|Emitter|Port/i.test(k))return!0}if(typeof Symbol<"u"&&v[Symbol.toStringTag]){const k=v[Symbol.toStringTag];if(typeof k=="string"&&/Stream|Port/i.test(k))return!0}}catch{}return!1}const ke=typeof WeakSet=="function"?new WeakSet:null;function nt(v){if(v&&typeof v.has=="function"&&typeof v.add=="function")return v;if(Array.isArray(v))return{has(O){return v.indexOf(O)!==-1},add(O){v.indexOf(O)===-1&&v.push(O)}};if(typeof WeakSet=="function")try{return new WeakSet}catch{}const k=[];return{has(O){return k.indexOf(O)!==-1},add(O){k.indexOf(O)===-1&&k.push(O)}}}function pt(v,k){if(!v||typeof v!="object"||he(v))return v;if(typeof process<"u"&&process&&aS&&aS.JEST_WORKER_ID){try{typeof Object.freeze=="function"&&Object.freeze(v)}catch{}return v}if(ke&&ke.has(v))return v;const O=nt(k);if(O.has(v))return v;O.add(v);let B=!1;if(typeof Object.isFrozen=="function")try{B=Object.isFrozen(v)}catch{B=!1}let z=[];try{z=Object.getOwnPropertyNames(v)}catch{if(typeof Reflect<"u"&&typeof Reflect.ownKeys=="function")try{z=Reflect.ownKeys(v).filter(function(fe){return typeof fe=="string"})}catch{z=[]}}for(let Y=0;Y<z.length;Y+=1){const se=z[Y];if(se==="web3"&&v===C)continue;let fe=!0;try{fe=Object.prototype.hasOwnProperty.call(v,se)}catch{fe=!0}if(!fe)continue;let Te;try{Te=v[se]}catch{Te=void 0}if(!(!Te||typeof Te=="function"||typeof Te!="object"&&typeof Te!="function"))try{pt(Te,O)}catch{}}if(B){if(ke)try{ke.add(v)}catch{}return v}try{const Y=Object.freeze(v);if(ke)try{ke.add(Y||v)}catch(se){}return Y}catch{return v}}const Gt=(function(){return m&&typeof m.freezeDeep=="function"?m.freezeDeep:Q&&typeof Q.freezeDeep=="function"?Q.freezeDeep:x&&typeof x.freezeDeep=="function"?function(O,B){try{return x.freezeDeep(O,B)}catch{return pt(O,B)}}:$&&typeof $.freezeDeep=="function"?$.freezeDeep:pt})();function Kt(v){if(!v||typeof v!="object"&&typeof v!="function")return v;try{typeof Object.preventExtensions=="function"&&Object.preventExtensions(v)}catch{}try{typeof Object.seal=="function"&&Object.seal(v)}catch{}const k=[];try{const O=Object.getOwnPropertyNames(v);for(let B=0;B<O.length;B+=1)k.push(O[B])}catch{}if(typeof Object.getOwnPropertySymbols=="function")try{const O=Object.getOwnPropertySymbols(v);for(let B=0;B<O.length;B+=1)k.push(O[B])}catch{}for(let O=0;O<k.length;O+=1){const B=k[O];let z;try{z=Object.getOwnPropertyDescriptor(v,B)}catch{z=null}if(!z||!(z.configurable===!0||"writable"in z&&z.writable===!0))continue;const se={configurable:!1,enumerable:!!z.enumerable};Object.prototype.hasOwnProperty.call(z,"value")?(se.value=z.value,se.writable=!1):(se.get=z.get,se.set=z.set);try{Object.defineProperty(v,B,se)}catch{}}return v}function Je(v){const k=Gt(v);if(Object.isFrozen(k))return k;try{const O=Object.freeze(k);if(Object.isFrozen(O))return O}catch{}return Kt(k),k}function ro(v,k){if(!(typeof console>"u"||typeof console.warn!="function"))try{typeof k>"u"?console.warn(v):console.warn(v,k)}catch{}}const $t=(function(){return m&&typeof m.safeWarn=="function"?m.safeWarn:Q&&typeof Q.safeWarn=="function"?Q.safeWarn:x&&typeof x.safeWarn=="function"?function(O,B){try{x.safeWarn(O,B)}catch{ro(O,B)}}:$&&typeof $.safeWarn=="function"?$.safeWarn:ro})();function Eo(v,k){if(!v||typeof v!="object"&&typeof v!="function")return{ok:!1,reason:"invalid-scope"};const O=k||ae;if(!O)return{ok:!1,reason:"missing-registry"};try{return v.cineModules===O?{ok:!0,already:!0}:(Object.defineProperty(v,"cineModules",{configurable:!0,enumerable:!1,value:O,writable:!0}),{ok:!0,updated:!0})}catch(B){try{if(v.cineModules=O,v.cineModules===O)return{ok:!0,updated:!0}}catch(z){return{ok:!1,reason:"expose-failed",error:z||B}}}return{ok:!0,updated:!0}}function Co(v,k){if(!v||typeof v!="object"&&typeof v!="function")return null;try{const O=v[k];return Array.isArray(O)?O:null}catch{return null}}function ve(v,k){if(!Array.isArray(v))return;const O=k&&typeof k.name=="string"?k.name:"";O&&Pe(v,O);try{v.push(k)}catch{v[v.length]=k}}function Ao(v={}){const k=v.registry||ae,O=typeof v.queueKey=="string"&&v.queueKey?v.queueKey:Z;if(!k||typeof k.register!="function")return Je({ok:!1,processed:0,requeued:0,scopes:0,queueKey:O,failures:Je([{reason:"missing-registry"}])});const B=Array.isArray(v.scopes)&&v.scopes.length>0?v.scopes.slice():j(v.scope||C);let z=0,Y=0,se=0;const fe=[];for(let Te=0;Te<B.length;Te+=1){const Be=B[Te],Ve=Co(Be,O);if(!Ve||Ve.length===0)continue;se+=1;const Qe=Ve.slice();Ve.length=0;for(let Tt=0;Tt<Qe.length;Tt+=1){const _t=Qe[Tt];if(!_t||typeof _t!="object")continue;const mt=typeof _t.name=="string"?_t.name:"";if(!mt)continue;const Ut=_t.api,Ir=ce(_t.options);if(typeof k.has=="function"){let wo=!1;try{wo=k.has(mt)}catch(Sr){fe.push({name:mt,message:Sr&&typeof Sr.message=="string"?Sr.message:null,reason:"has-check-failed",scopeIndex:Te})}if(wo){z+=1;continue}}try{const wo=k.register(mt,Ut,Ir);le(mt,wo||Ut),z+=1}catch(wo){Y+=1,ve(Ve,_t),fe.push({name:mt,message:wo&&typeof wo.message=="string"?wo.message:null,reason:"register-failed",scopeIndex:Te})}}}return fe.length>0&&v.warn&&$t("cineRuntime.flushPendingModuleQueues() encountered issues while replaying module registrations.",fe),Je({ok:fe.length===0,processed:z,requeued:Y,scopes:se,queueKey:O,failures:fe.length>0?Je(fe):Je([])})}function et(v={}){const k=v.registry||ae,O=typeof v.queueKey=="string"&&v.queueKey?v.queueKey:Z,B=Array.isArray(v.scopes)&&v.scopes.length>0?v.scopes.slice():j(v.scope||C),z=[],Y=[];for(let Be=0;Be<B.length;Be+=1){const Ve=B[Be],Qe=Eo(Ve,k);z.push({scopeIndex:Be,ok:!!Qe.ok,updated:!!Qe.updated,already:!!Qe.already,reason:typeof Qe.reason=="string"?Qe.reason:null}),!Qe.ok&&Qe.reason!=="missing-registry"&&Y.push({scopeIndex:Be,reason:Qe.reason||"expose-failed",message:Qe.error&&typeof Qe.error.message=="string"?Qe.error.message:null})}Y.length>0&&v.warn!==!1&&$t("cineRuntime.synchronizeModuleLinks() could not expose cineModules on every scope.",Y);const se=Ao({registry:k,queueKey:O,scopes:B,warn:v.warn!==!1}),fe=[];if(Array.isArray(se.failures))for(let Be=0;Be<se.failures.length;Be+=1)fe.push(se.failures[Be]);if(Y.length>0)for(let Be=0;Be<Y.length;Be+=1)fe.push(Y[Be]);const Te={ok:se.ok&&Y.length===0,queueKey:O,exposures:z,flushed:se,failures:fe};return Je(Te)}const no=et({warn:!1});function eo(v={}){const k=v.registry||ae;if(!k||typeof k.list!="function"||typeof k.describe!="function")return Je({ok:!1,reason:"missing-registry",modules:[],missingConnections:[],errors:[]});let O;try{O=k.list()}catch(Te){return Je({ok:!1,reason:"list-failed",modules:[],missingConnections:[],errors:Je([{type:"list",message:Te&&typeof Te.message=="string"?Te.message:null}])})}const B=Array.isArray(O)?O.slice():[],z=[],Y=[],se=[],fe=typeof k.has=="function"?function(Be){try{return k.has(Be)}catch(Ve){return se.push({type:"has",module:Be,message:Ve&&typeof Ve.message=="string"?Ve.message:null}),B.indexOf(Be)!==-1}}:function(Be){return B.indexOf(Be)!==-1};for(let Te=0;Te<B.length;Te+=1){const Be=B[Te];let Ve=null;try{Ve=k.describe(Be)}catch(mt){se.push({type:"describe",module:Be,message:mt&&typeof mt.message=="string"?mt.message:null})}const Qe=new Set,Tt=[],_t=[];if(Ve&&Ve.connections&&typeof Ve.connections[Symbol.iterator]=="function")for(const mt of Ve.connections){if(typeof mt!="string")continue;const Ut=mt.trim();!Ut||Qe.has(Ut)||(Qe.add(Ut),Tt.push(Ut),fe(Ut)||(_t.push(Ut),Y.push({from:Be,to:Ut})))}z.push(Je({name:Be,connections:Tt,missing:_t,ok:_t.length===0}))}return Je({ok:Y.length===0,modules:z,missingConnections:Y,errors:se})}function Oe(v,k){if(!C||typeof C!="object")return!1;try{return Object.defineProperty(C,v,{configurable:!0,enumerable:!1,value:k,writable:!1}),!0}catch{try{return C[v]=k,!0}catch{return!1}}}const Fe=(function(){return m&&typeof m.exposeGlobal=="function"?function(O,B,z){try{return m.exposeGlobal(O,B,C,z)}catch{return Oe(O,B)}}:Q&&typeof Q.exposeGlobal=="function"?function(O,B,z){try{return Q.exposeGlobal(O,B,z)}catch{return Oe(O,B)}}:x&&typeof x.exposeGlobal=="function"?function(O,B,z){try{return x.exposeGlobal(O,B,z)}catch{return Oe(O,B)}}:$&&typeof $.exposeGlobal=="function"?function(O,B,z){return $.exposeGlobal(O,B,C,z)}:Oe})(),br=["cinePersistence","cineOffline","cineUi"],Do=["storage.loadDeviceData","storage.saveDeviceData","storage.loadSetups","storage.saveSetups","storage.saveSetup","storage.loadSetup","storage.deleteSetup","storage.renameSetup","storage.loadSessionState","storage.saveSessionState","storage.saveProject","storage.loadProject","storage.deleteProject","storage.exportAllData","storage.importAllData","storage.clearAllData","storage.loadFavorites","storage.saveFavorites","storage.loadFeedback","storage.saveFeedback","storage.loadAutoGearRules","storage.saveAutoGearRules","storage.loadAutoGearBackups","storage.saveAutoGearBackups","storage.loadAutoGearSeedFlag","storage.saveAutoGearSeedFlag","storage.loadAutoGearBackupRetention","storage.saveAutoGearBackupRetention","storage.getAutoGearBackupRetentionDefault","storage.loadAutoGearPresets","storage.saveAutoGearPresets","storage.loadAutoGearActivePresetId","storage.saveAutoGearActivePresetId","storage.loadAutoGearAutoPresetId","storage.saveAutoGearAutoPresetId","storage.loadAutoGearMonitorDefaults","storage.saveAutoGearMonitorDefaults","storage.loadAutoGearBackupVisibility","storage.saveAutoGearBackupVisibility","storage.loadFullBackupHistory","storage.saveFullBackupHistory","storage.recordFullBackupHistoryEntry","storage.requestPersistentStorage","storage.clearUiCacheStorageEntries","storage.ensureCriticalStorageBackups","storage.getLastCriticalStorageGuardResult","autosave.saveSession","autosave.autoSaveSetup","autosave.saveGearList","autosave.restoreSessionState","backups.collectFullBackupData","backups.createSettingsBackup","backups.captureStorageSnapshot","backups.sanitizeBackupPayload","backups.autoBackup","backups.formatFullBackupFilename","backups.downloadPayload","backups.recordFullBackupHistoryEntry","restore.proceed","restore.abort","share.downloadProject","share.encodeSharedSetup","share.decodeSharedSetup","share.applySharedSetup","share.applySharedSetupFromUrl"],Mt=["registerServiceWorker","reloadApp"],sr=[{name:"deviceManagerSection",actions:["show","hide","toggle"]},{name:"shareDialog",actions:["open","submit","cancel","dismiss"]},{name:"sharedImportDialog",actions:["submit","cancel","dismiss","changeMode"]},{name:"backupSettings",actions:["execute"]},{name:"restoreSettings",actions:["openPicker","processFile"]}],Fo=["saveSetup","deleteSetup","shareOpen","shareSubmit","shareCancel","shareApplyFile","shareInputChange","sharedImportSubmit","sharedImportCancel","performBackup","openRestorePicker","applyRestoreFile"],xo=["saveSetup","autoBackupBeforeDeletion","shareProject","sharedImport","backupSettings","restoreSettings"];function cr(v){if(!v||!br.includes(v))throw new TypeError(`cineRuntime cannot resolve unknown module "${v}".`);if(ae&&typeof ae.get=="function")try{const k=ae.get(v);if(k)return k}catch{}if(C&&typeof C=="object")try{const k=C[v];if(k)return k}catch{}switch(v){case"cinePersistence":return K("./persistence.js");case"cineOffline":return K("./offline.js");case"cineUi":return K("./ui.js");default:return null}}function ur(v,k={}){const O=cr(v);if(!O&&k.optional)return null;if(!O)throw new Error(`cineRuntime could not locate ${v}.`);return O}function on(v){if(Array.isArray(v))return v.slice();if(typeof v=="string"&&v.trim())return v.split(".");throw new TypeError("cineRuntime expected check paths to be strings or arrays.")}function jt(v,k,O,B,z){const Y=on(k);let se=v,fe=`${z}`;for(let Ve=0;Ve<Y.length;Ve+=1){const Qe=Y[Ve];if(fe=fe?`${fe}.${Qe}`:Qe,!se||typeof se!="object"&&typeof se!="function"){O.push(fe),B[fe]=!1;return}se=se[Qe]}const Te=`${z}.${Y.join(".")}`,Be=typeof se=="function";Be||O.push(Te),B[Te]=Be}function er(v,k,O){if(!v||typeof v!="object")return;for(let Y=0;Y<Do.length;Y+=1)jt(v,Do[Y],k,O,"cinePersistence");const B=v.__internal,z=B&&typeof B.inspectBinding=="function"?B.inspectBinding.bind(B):null;if(!z){const Y="cinePersistence.__internal.inspectBinding";k.push(Y),O[Y]=!1;return}for(let Y=0;Y<Do.length;Y+=1){const se=Do[Y],fe=on(se),Te=fe[fe.length-1],Be=`cinePersistence.bindings.${Te}`;let Ve=null;try{Ve=z(Te,{refresh:!0})}catch{Ve=null}const Qe=!!(Ve&&Ve.available);Qe||k.push(Be),O[Be]=Qe,Ve&&(O[`${Be}.provider`]=Ve.providerName||null)}}function vt(v,k,O){for(let B=0;B<Mt.length;B+=1){const z=Mt[B],Y=v?v[z]:null,se=`cineOffline.${z}`,fe=typeof Y=="function";fe||k.push(se),O[se]=fe}}function xt(v,k,O){const B=v&&v.controllers,z=B&&typeof B.get=="function"?B.get.bind(B):null;for(let Y=0;Y<sr.length;Y+=1){const se=sr[Y],fe=`cineUi.controllers.${se.name}`;if(!z){k.push(fe),O[fe]=!1;continue}let Te=null;try{Te=z(se.name)}catch{Te=null}if(!(!!Te&&typeof Te=="object")){k.push(fe),O[fe]=!1;continue}O[fe]=!0;for(let Ve=0;Ve<se.actions.length;Ve+=1){const Qe=se.actions[Ve],Tt=`${fe}.${Qe}`,mt=typeof Te[Qe]=="function";mt||k.push(Tt),O[Tt]=mt}}}function tr(v,k,O){const B=v&&v.interactions,z=B&&typeof B.get=="function"?B.get.bind(B):null;for(let Y=0;Y<Fo.length;Y+=1){const se=Fo[Y],fe=`cineUi.interactions.${se}`;if(!z){k.push(fe),O[fe]=!1;continue}let Te=null;try{Te=z(se)}catch{Te=null}const Be=typeof Te=="function";Be||k.push(fe),O[fe]=Be}}function gi(v,k,O){const B=v&&v.help,z=B&&typeof B.resolve=="function"?B.resolve.bind(B):null;for(let Y=0;Y<xo.length;Y+=1){const se=xo[Y],fe=`cineUi.help.${se}`;if(!z){k.push(fe),O[fe]=!1;continue}let Te=null;try{Te=z(se)}catch{Te=null}const Be=typeof Te=="string"&&!!Te.trim();Be||k.push(fe),O[fe]=Be}}function kr(){return Je({cinePersistence:Do.slice(),cineOffline:Mt.slice(),cineUi:{controllers:sr.map(v=>({name:v.name,actions:v.actions.slice()})),interactions:Fo.slice(),help:xo.slice()}})}function En(v={}){const k=et({warn:v.warnOnFailure}),O=[],B={};k&&typeof k=="object"&&(B["synchronization.ok"]=!!k.ok,Array.isArray(k.failures)&&k.failures.length>0&&(B["synchronization.failures"]=k.failures),k.ok||O.push("cineRuntime synchronization"));let z=null;if(ae&&typeof ae.assertRegistered=="function")try{z=ae.assertRegistered(br)}catch(Qe){$t("cineRuntime.verifyCriticalFlows() could not inspect cineModules registry.",Qe)}const Y=cr("cinePersistence"),se=cr("cineOffline"),fe=cr("cineUi"),Te={cinePersistence:!!Y,cineOffline:!!se,cineUi:!!fe};if(z&&z.detail){const Qe={},Tt=Object.keys(z.detail);for(let _t=0;_t<Tt.length;_t+=1){const mt=Tt[_t],Ut=!!z.detail[mt];Qe[mt]=Ut,B[`${mt}.registered`]=Ut,Ut||O.push(`${mt} (not registered)`)}Te.registry=Qe}Y?(B.cinePersistence=!0,Object.isFrozen(Y)?B["cinePersistence.frozen"]=!0:(O.push("cinePersistence (not frozen)"),B["cinePersistence.frozen"]=!1),er(Y,O,B)):(O.push("cinePersistence"),B.cinePersistence=!1),se?(B.cineOffline=!0,Object.isFrozen(se)?B["cineOffline.frozen"]=!0:(O.push("cineOffline (not frozen)"),B["cineOffline.frozen"]=!1),vt(se,O,B)):(O.push("cineOffline"),B.cineOffline=!1),fe?(B.cineUi=!0,Object.isFrozen(fe)?B["cineUi.frozen"]=!0:(O.push("cineUi (not frozen)"),B["cineUi.frozen"]=!1),xt(fe,O,B),tr(fe,O,B),gi(fe,O,B)):(O.push("cineUi"),B.cineUi=!1);const Be=O.length===0,Ve=Je({ok:Be,missing:O.slice(),modules:Je(Te),details:Je(B),registry:z?Je(z):null,checks:kr(),synchronization:k});if(!Be&&(v.warnOnFailure&&$t("cineRuntime.verifyCriticalFlows() detected missing safeguards.",O),v.throwOnFailure)){const Qe=new Error("cineRuntime integrity verification failed.");throw Qe.details=Ve,Qe}return Ve}const to=Je({getPersistence(v){return ur("cinePersistence",v)},getOffline(v){return ur("cineOffline",v)},getUi(v){return ur("cineUi",v)},getModuleRegistry(){return ae||null},synchronizeModules(v){return et(v||{})},inspectModuleConnections(v){return eo(v||{})},listCriticalChecks:kr,verifyCriticalFlows:En,__internal:Je({resolveModule:cr,ensureModule:ur,listCriticalChecks:kr,moduleRegistry:ae||null,synchronizeModuleLinks:et,flushPendingModuleQueues:Ao,initialSynchronization:no,inspectModuleConnections:eo})});if(le("cineRuntime",to),ge("cineRuntime",to,{category:"runtime",description:"Runtime orchestrator ensuring persistence, offline, and UI safeguards stay intact.",replace:!0,connections:["cinePersistence","cineOffline","cineUi","cineModuleGlobals","cineModuleContext"]},v=>{$t("Unable to register cineRuntime module.",v)}),C&&typeof C=="object"){let v=null;try{v=C.cineRuntime||null}catch{v=null}v!==to&&(Fe("cineRuntime",to,{configurable:!0,enumerable:!1,writable:!1})||$t("Unable to expose cineRuntime globally."))}if(typeof module<"u"&&module&&module.exports)if(module.exports&&module.exports!==to&&typeof module.exports=="object"&&Object.keys(module.exports).length>0)try{module.exports.cineRuntime!==to&&Object.defineProperty(module.exports,"cineRuntime",{configurable:!0,enumerable:!1,value:to,writable:!0})}catch(v){$t("Unable to attach cineRuntime to existing module.exports.",v)}else module.exports=to;return to})();(function(){function e(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:{}}const t=e();function o(E){const S=E&&(typeof E=="object"||typeof E=="function")?E:e(),C=S&&(typeof S=="object"||typeof S=="function")?S:null;if(!C)return null;let F=null;try{C&&typeof C.cineModuleBase=="object"&&(F=C.cineModuleBase)}catch{F=null}if(F)return F;const j=Object.create(null),$=Object.create(null),x=(Z,ce)=>{if(typeof Z!="string"||!Z)return;const Le=$[Z];if(!(!Array.isArray(Le)||Le.length===0)){$[Z]=[];for(let Pe=0;Pe<Le.length;Pe+=1){const q=Le[Pe];if(typeof q=="function")try{q(ce)}catch{}}}},Q=(Z,ce)=>{typeof Z!="string"||!Z||(j[Z]=ce,x(Z,ce))},le=Z=>typeof Z!="string"||!Z?null:Object.prototype.hasOwnProperty.call(j,Z)?j[Z]:null,K=(Z,ce)=>{if(typeof ce!="function"||typeof Z!="string"||!Z)return!1;const Le=le(Z);if(Le){try{ce(Le)}catch{}return!0}return Array.isArray($[Z])||($[Z]=[]),$[Z].push(ce),!0},re=()=>{let Z=null;try{Z=C.cineModuleGlobals}catch{Z=null}(!Z||typeof Z!="object")&&(Z={}),typeof Z.getModule!="function"&&(Z.getModule=ce=>le(ce)),typeof Z.whenModuleAvailable!="function"&&(Z.whenModuleAvailable=(ce,Le)=>K(ce,Le)),typeof Z.register!="function"&&(Z.register=(ce,Le)=>(Q(ce,Le),!0));try{Object.defineProperty(C,"cineModuleGlobals",{configurable:!0,enumerable:!1,writable:!0,value:Z})}catch{try{C.cineModuleGlobals=Z}catch{}}return Z},Ee=()=>{let Z=null;try{Z=C.cineModules}catch{Z=null}(!Z||typeof Z!="object")&&(Z={}),typeof Z.get!="function"&&(Z.get=ce=>le(ce)),typeof Z.register!="function"&&(Z.register=(ce,Le)=>(Q(ce,Le),!0));try{Object.defineProperty(C,"cineModules",{configurable:!0,enumerable:!1,writable:!0,value:Z})}catch{try{C.cineModules=Z}catch{}}return Z},ae={freezeDeep(Z){return Z},safeWarn(Z,ce){if(!(typeof console>"u"||!console||typeof console.warn!="function"))try{typeof ce>"u"?console.warn(Z):console.warn(Z,ce)}catch{}},informModuleGlobals(Z,ce){const Le=re();if(Le&&typeof Le.register=="function")try{return Le.register(Z,ce),!0}catch{}return Q(Z,ce),!0},registerOrQueueModule(Z,ce){const Le=Ee();if(Le&&typeof Le.register=="function")try{Le.register(Z,ce)}catch{Q(Z,ce)}else Q(Z,ce);return re(),!0},exposeGlobal(Z,ce,Le,Pe={}){const q=Le&&(typeof Le=="object"||typeof Le=="function")?Le:C;if(!q||typeof q!="object"&&typeof q!="function")return!1;const oe={configurable:Pe.configurable!==!1,enumerable:!!Pe.enumerable,writable:Pe.writable===!0,value:ce};try{return Object.defineProperty(q,Z,oe),!0}catch{try{return q[Z]=ce,!0}catch{}}return!1}};return ae.registerOrQueueModule("cineModuleBase",ae),ae.exposeGlobal("cineModuleBase",ae,C,{configurable:!0,enumerable:!1,writable:!1}),re(),Ee(),ae}function r(E){if(typeof cineModuleBase=="object"&&cineModuleBase)return cineModuleBase;if(typeof require=="function")try{const S=require("./base.js");if(S&&typeof S=="object")return S}catch{}return E&&typeof E.cineModuleBase=="object"?E.cineModuleBase:null}const n=r(t)||o(t);if(!n)return;const a=typeof n.freezeDeep=="function"?function(S){try{return n.freezeDeep(S)}catch{}return S}:function(S){return S},l=typeof n.safeWarn=="function"?function(S,C){try{n.safeWarn(S,C)}catch{}}:function(S,C){if(!(typeof console>"u"||!console||typeof console.warn!="function"))try{typeof C>"u"?console.warn(S):console.warn(S,C)}catch{}},s=typeof n.informModuleGlobals=="function"?function(S,C){try{n.informModuleGlobals(S,C)}catch{}}:function(){},u=typeof n.registerOrQueueModule=="function"?function(S,C,F,j){try{n.registerOrQueueModule(S,C,F,j)}catch($){if(typeof j=="function")try{j($)}catch{}else l("cineSettingsAppearance: Unable to register module.",$)}}:function(){},f=typeof n.exposeGlobal=="function"?function(S,C,F){try{return n.exposeGlobal(S,C,t,F)}catch{return!1}}:function(S,C){if(!t||typeof t!="object")return!1;try{return t[S]=C,!0}catch{}return!1};function y(E){if(!E||typeof E!="object")return{};const S={},C=Object.keys(E);for(let F=0;F<C.length;F+=1){const j=C[F];S[j]=E[j]}return S}function R(){return{getDocument:()=>typeof document<"u"?document:null,getWindow:()=>typeof window<"u"?window:null,settings:{},elements:{},accent:{},icons:{},storage:{},preferences:{},autoBackups:{},mountVoltages:{},helpers:{}}}function _(E){if(!E)return null;if(typeof E.getDocument=="function")try{const S=E.getDocument();if(S&&typeof S=="object")return S}catch{}return E.document&&typeof E.document=="object"?E.document:typeof document<"u"&&document?document:null}function T(E){if(!E)return null;if(typeof E.getWindow=="function")try{const S=E.getWindow();if(S&&typeof S=="object")return S}catch{}return E.window&&typeof E.window=="object"?E.window:typeof window<"u"&&window?window:null}function I(E){const S=E.storage||{};if(S&&typeof S.getLocalStorage=="function")try{const C=S.getLocalStorage();if(C)return C}catch{}return S&&S.localStorage?S.localStorage:typeof localStorage<"u"?localStorage:null}function m(E,S,C){if(typeof E!="function")return C;try{return E.apply(null,Array.isArray(S)?S:[])}catch(F){return l("cineSettingsAppearance: helper invocation failed.",F),C}}function g(E){const S=y(R()),C=y(E),F=Object.keys(C);for(let D=0;D<F.length;D+=1){const X=F[D],N=C[X];N&&typeof N=="object"&&!Array.isArray(N)?S[X]=y(N):S[X]=N}const j=_(S),$=T(S),x=S.elements||{},Q=S.settings||{},le=S.accent||{},K=S.icons||{},re=S.preferences||{},Ee=S.autoBackups||{},ae=S.mountVoltages||{};S.helpers;const Z=S.storage||{},ce=(function(){const X=Object.create(null);return{getItem(N){return Object.prototype.hasOwnProperty.call(X,N)?X[N]:null},setItem(N,ue){X[N]=String(ue)},removeItem(N){Object.prototype.hasOwnProperty.call(X,N)&&delete X[N]}}})();function Le(){const D=[];function X(N,ue){if(!(!ue||typeof ue.getItem!="function")){for(let d=0;d<D.length;d+=1)if(D[d]&&D[d].storage===ue)return;D.push({name:N,storage:ue})}}if(Z&&typeof Z.getSafeLocalStorage=="function")try{X("safeLocalStorage",Z.getSafeLocalStorage())}catch(N){l("cineSettingsAppearance: getSafeLocalStorage failed for theme preference.",N)}if(Z&&typeof Z.resolveSafeLocalStorage=="function")try{X("resolvedSafeLocalStorage",Z.resolveSafeLocalStorage())}catch(N){l("cineSettingsAppearance: resolveSafeLocalStorage failed for theme preference.",N)}if(Z&&typeof Z.getLocalStorage=="function")try{X("localStorage",Z.getLocalStorage())}catch(N){l("cineSettingsAppearance: getLocalStorage failed for theme preference.",N)}return X("memoryStorage",ce),D}function Pe(D){const X=Le(),N=D?"true":"false";for(let ue=0;ue<X.length;ue+=1){const d=X[ue];if(!(!d||!d.storage||typeof d.storage.setItem!="function"))try{d.storage.setItem("darkMode",N)}catch(p){l("cineSettingsAppearance: Unable to persist theme preference.",{name:d.name,error:p})}}}function q(){const D=Le();for(let X=0;X<D.length;X+=1){const N=D[X];if(!(!N||!N.storage||typeof N.storage.getItem!="function"))try{const ue=N.storage.getItem("darkMode");if(ue==="true"||ue==="false")return ue==="true"}catch(ue){l("cineSettingsAppearance: Unable to read theme preference.",{name:N.name,error:ue})}}return null}let oe=null,ne=0,ge=0;const J=[];let he=null;const ke=S.pinkModeIconAnimationResetDelay||400,nt=S.pinkModeIconAnimationClass||"pink-mode-icon-animate",pt=S.pinkModeIconIntervalMs||1500,Gt=typeof S.pinkModeIconPressResetMs=="number"&&S.pinkModeIconPressResetMs>=0?S.pinkModeIconPressResetMs:0,Kt=typeof S.pinkModeIconPressBurstWindowMs=="number"&&S.pinkModeIconPressBurstWindowMs>=0?S.pinkModeIconPressBurstWindowMs:1200;let Je=!1,ro=!1,$t="celsius",Eo="metric",Co=!1;const ve="cameraPowerPlanner_pinkMode",Ao="pinkMode";function et(){return j&&j.documentElement?j.documentElement:null}function no(){return j&&j.body?j.body:null}function eo(){return typeof le.getAccentColor=="function"?le.getAccentColor():le.accentColor||"#001589"}function Oe(D){typeof le.setAccentColor=="function"?le.setAccentColor(D):le.accentColor=D}function Fe(){return typeof le.getPrevAccentColor=="function"?le.getPrevAccentColor():le.prevAccentColor||eo()}function br(D){typeof le.setPrevAccentColor=="function"?le.setPrevAccentColor(D):le.prevAccentColor=D}function Do(){return typeof le.getHighContrastAccentColor=="function"?le.getHighContrastAccentColor():le.highContrastAccentColor||"#ffffff"}function Mt(){if(typeof le.isHighContrastActive=="function")try{return!!le.isHighContrastActive()}catch(X){l("cineSettingsAppearance: isHighContrastActive failed.",X)}const D=no();return!!(D&&D.classList&&D.classList.contains("high-contrast"))}function sr(){if(typeof le.updateAccentColorResetButtonState=="function")try{le.updateAccentColorResetButtonState()}catch(D){l("cineSettingsAppearance: updateAccentColorResetButtonState failed.",D)}}function Fo(){if(typeof le.clearAccentColorOverrides=="function")try{le.clearAccentColorOverrides()}catch(D){l("cineSettingsAppearance: clearAccentColorOverrides failed.",D)}}function xo(D){if(typeof le.applyAccentColor=="function")try{le.applyAccentColor(D)}catch(X){l("cineSettingsAppearance: applyAccentColor failed.",X)}}function cr(D){if(typeof le.refreshDarkModeAccentBoost=="function")try{le.refreshDarkModeAccentBoost(D)}catch(X){l("cineSettingsAppearance: refreshDarkModeAccentBoost failed.",X)}}function ur(D){return typeof K.ensureSvgHasAriaHidden=="function"?K.ensureSvgHasAriaHidden(D):D}function on(D,X){if(typeof K.applyIconGlyph=="function")try{K.applyIconGlyph(D,X)}catch(N){l("cineSettingsAppearance: applyIconGlyph failed.",N)}}function jt(D){if(!D)return null;if(typeof K.getIconGlyph=="function")try{return K.getIconGlyph(D)}catch(N){return l("cineSettingsAppearance: getIconGlyph failed.",N),null}const X=K.registry&&typeof K.registry=="object"?K.registry:null;return X&&X[D]?X[D]:typeof t.ICON_GLYPHS=="object"&&t.ICON_GLYPHS&&t.ICON_GLYPHS[D]||null}function er(D){const X=j;if(!X||typeof X.querySelector!="function")return;const N=X.querySelector('meta[name="theme-color"]');if(N)try{N.setAttribute("content",D?"#1c1c1e":"#ffffff")}catch(ue){l("cineSettingsAppearance: unable to update theme-color meta tag.",ue)}}function vt(D,X){if(!D)return;let N=D.querySelector&&D.querySelector(".icon-glyph");if(!N&&j&&typeof j.createElement=="function"){N=j.createElement("span"),N.className="icon-glyph",N.setAttribute("aria-hidden","true");try{D.textContent="",D.appendChild(N)}catch(p){l("cineSettingsAppearance: unable to attach toggle icon.",p);return}}if(!N)return;if(N._lottieAnim){try{N._lottieAnim.destroy()}catch{}N._lottieAnim=null}const ue=X&&typeof X=="object"&&(X.markup||X.className||X.lottiePath)?X:{value:X},d=["icon-glyph"];if(ue.className&&d.push(ue.className),N.className=d.join(" "),(ue.lottiePath||ue.lottieData)&&typeof K.ensurePinkModeLottieRuntime=="function"){const p=()=>{N.classList.remove("pink-mode-icon-pop"),N.offsetWidth,N.classList.add("pink-mode-icon-pop");const b=Date.now()+Math.random();N._lottieRequestId=b,K.ensurePinkModeLottieRuntime().then(G=>{if(G&&N._lottieRequestId===b&&!(!N||!document.body.contains(D)))try{let L=N.querySelector(".lottie-container");L?L.innerHTML="":(L=j.createElement("div"),L.className="lottie-container",L.style.width="100%",L.style.height="100%",L.style.display="flex",L.style.justifyContent="center",L.style.alignItems="center",L.style.position="absolute",L.style.top="0",L.style.left="0",L.style.zIndex="2",N.appendChild(L),N.style.position="relative",getComputedStyle(N).display==="inline"&&(N.style.display="inline-block"));const P={container:L,renderer:"svg",loop:!0,autoplay:!0};ue.lottieData?P.animationData=ue.lottieData:ue.lottiePath&&(P.path=ue.lottiePath);const V=G.loadAnimation(P);N._lottieAnim=V;const H=()=>{const te=N.querySelector(".icon-fallback");te?(te.style.opacity="0",setTimeout(()=>{te.style.opacity==="0"&&(te.style.display="none",L&&(L.style.position="relative",L.style.top="",L.style.left=""))},200)):L&&(L.style.position="relative",L.style.top="",L.style.left="")};V.addEventListener("DOMLoaded",H);const W=()=>{L&&L.parentNode&&L.parentNode.removeChild(L);const te=N.querySelector(".icon-fallback");te&&(te.style.display="",te.style.opacity="1")};V.addEventListener("data_failed",W),V.addEventListener("error",W)}catch{}}).catch(()=>{})};if(ue.markup){const b=ur(ue.markup);let G=N.querySelector(".icon-fallback");if(!G){const L=N.querySelector("svg:not(.lottie-container svg)");L&&(L.classList.add("icon-fallback"),G=L)}if(G){const L=j.createElement("div");L.innerHTML=b;const P=L.firstElementChild;P&&(P.classList.add("icon-fallback"),P.style.transition="opacity 0.2s ease",G.parentNode===N&&N.replaceChild(P,G))}else{const L=j.createElement("div");L.innerHTML=b;const P=L.firstElementChild;P&&(P.classList.add("icon-fallback"),P.style.transition="opacity 0.2s ease",P.style.position="relative",P.style.zIndex="1",N.prepend(P))}}p()}else ue.markup?(N.innerHTML=ur(ue.markup),N.removeAttribute("data-icon-font"),N.classList.remove("pink-mode-icon-pop"),N.offsetWidth,N.classList.add("pink-mode-icon-pop")):on(N,ue.value)}function xt(D){const X=et(),N=no();if(!X||!N)return;if(D){if(N.classList.add("dark-mode"),X.classList.add("dark-mode"),N.classList.remove("light-mode"),X.classList.remove("light-mode"),x.darkModeToggle){const p=jt("sun");p&&vt(x.darkModeToggle,p),x.darkModeToggle.setAttribute("aria-pressed","true")}}else if(N.classList.remove("dark-mode"),X.classList.remove("dark-mode"),N.classList.add("light-mode"),X.classList.add("light-mode"),x.darkModeToggle){const p=jt("moon");p&&vt(x.darkModeToggle,p),x.darkModeToggle.setAttribute("aria-pressed","false")}const ue=Mt(),d=ue?Do():eo();cr({color:d,highContrast:ue}),er(D),Q.darkMode&&(Q.darkMode.checked=!!D)}function tr(){if(!$||typeof $.matchMedia!="function")return null;try{return!!$.matchMedia("(prefers-color-scheme: dark)").matches}catch(D){l("cineSettingsAppearance: matchMedia failed while detecting system theme preference.",D)}return null}function gi(D,X){if(X)return X;if(!D||typeof D.tagName!="string")return"button";const N=D.tagName.toLowerCase();return N==="select"?"select":N==="input"&&(typeof D.getAttribute=="function"?(D.getAttribute("type")||"").toLowerCase():"")==="checkbox"?"checkbox":"button"}function kr(D,X,N,ue){return typeof N=="function"?N:X==="select"?()=>!!(D&&D.value==="dark"):X==="checkbox"?()=>!!(D&&D.checked):()=>!ue()}function En(D,X,N){return typeof N=="function"?N:X==="select"?ue=>{if(!D)return;const d=ue?"dark":"light";D.value!==d&&(D.value=d)}:X==="checkbox"?ue=>{D&&(D.checked=!!ue)}:ue=>{!D||typeof D.setAttribute!="function"||D.setAttribute("aria-pressed",ue?"true":"false")}}function to(D,X){if(X)return X;if(!D||typeof D.tagName!="string")return"button";const N=D.tagName.toLowerCase();return N==="select"?"select":N==="input"&&(typeof D.getAttribute=="function"?(D.getAttribute("type")||"").toLowerCase():"")==="checkbox"?"checkbox":"button"}function v(D,X,N,ue){return typeof N=="function"?N:X==="select"?()=>!!(D&&D.value==="enabled"):X==="checkbox"?()=>!!(D&&D.checked):()=>!ue()}function k(D,X,N){return typeof N=="function"?N:X==="select"?ue=>{if(!D)return;const d=ue?"enabled":"disabled";D.value!==d&&(D.value=d)}:X==="checkbox"?ue=>{if(!D)return;const d=!!ue;D.checked!==d&&(D.checked=d)}:ue=>{!D||typeof D.setAttribute!="function"||D.setAttribute("aria-pressed",ue?"true":"false")}}function O(){const D=[];let X=!1,N=wt();const ue=()=>N;function d(P,V){const H=V&&typeof V=="object"?V:{},W=!!P,te=N;N=W,X=!0;try{for(let pe=0;pe<D.length;pe+=1){const ee=D[pe];if(!(!ee||ee===H.source||typeof ee.write!="function"))try{ee.write(W,{previous:te})}catch(ie){l("cineSettingsAppearance: Unable to sync pink mode control.",ie)}}try{wn(W)}catch(pe){l("cineSettingsAppearance: applyPinkMode failed during update.",pe)}}finally{X=!1}if(H.source&&typeof H.source.write=="function")try{H.source.write(W,{previous:te})}catch(pe){l("cineSettingsAppearance: Unable to sync source pink mode control.",pe)}return H.persist!==!1&&Rn(W),te!==W}function p(P,V){if(!P)return()=>{};const H=V&&typeof V=="object"?V:{},W=to(P,H.type),te=v(P,W,H.read,ue),pe=k(P,W,H.write),ee=H.event||(W==="button"?"click":"change"),ie={element:P,type:W,read:te,write:pe,eventType:ee},Ie=Ce=>{if(X)return;let He;try{He=ie.read(N,Ce)}catch(Me){l("cineSettingsAppearance: Unable to read pink mode control value.",Me),He=N}d(!!He,{source:ie})};typeof P.addEventListener=="function"&&P.addEventListener(ee,Ie),ie.handler=Ie,D.push(ie);try{ie.write(N)}catch(Ce){l("cineSettingsAppearance: Unable to apply pink mode preference to control during registration.",Ce)}return function(){for(let He=D.length-1;He>=0;He-=1){const Me=D[He];if(!(!Me||Me.element!==P)){D.splice(He,1),P&&typeof P.removeEventListener=="function"&&P.removeEventListener(Me.eventType,Me.handler);break}}}}function b(P,V){d(P,{persist:(V&&typeof V=="object"?V:{}).persist!==!1})}function G(){return N}function L(P){const V=P&&typeof P=="object"?P:{};let H=null;try{const W=localStorage.getItem(ve)||localStorage.getItem(Ao);(W==="true"||W==="false")&&(H=W==="true")}catch{}return H===null?(V.persist!==!1&&Rn(N),N):(d(H,{persist:V.persist!==!1}),H)}return{registerControl:p,setValue:b,getValue:G,reloadFromStorage:L,persist:Rn}}function B(D){const X=D&&typeof D=="object"?D:{},N=[];let ue=!1,d=!1;const p=()=>d;function b(te,pe){const ee=pe&&typeof pe=="object"?pe:{},ie=!!te,Ie=d;d=ie,ue=!0;try{for(let Ce=0;Ce<N.length;Ce+=1){const He=N[Ce];if(!(!He||He===ee.source||typeof He.write!="function"))try{He.write(ie,{previous:Ie})}catch(Me){l("cineSettingsAppearance: Unable to sync theme control.",Me)}}try{xt(ie)}catch(Ce){l("cineSettingsAppearance: applyDarkMode failed during theme update.",Ce)}}finally{ue=!1}if(ee.source&&typeof ee.source.write=="function")try{ee.source.write(ie,{previous:Ie})}catch(Ce){l("cineSettingsAppearance: Unable to sync source theme control.",Ce)}return ee.persist!==!1&&Pe(ie),Ie!==ie}function G(te,pe){if(!te)return()=>{};const ee=pe&&typeof pe=="object"?pe:{},ie=gi(te,ee.type),Ie=kr(te,ie,ee.read,p),Ce=En(te,ie,ee.write),He=ee.event||(ie==="button"?"click":"change"),Me={element:te,type:ie,read:Ie,write:Ce,eventType:He},Dt=Vt=>{if(ue)return;let yt;try{yt=Me.read(d,Vt)}catch(Rt){l("cineSettingsAppearance: Unable to read theme control value.",Rt),yt=d}typeof yt=="string"&&(yt=yt==="dark"),b(!!yt,{source:Me})};typeof te.addEventListener=="function"&&te.addEventListener(He,Dt),Me.handler=Dt,N.push(Me);try{Me.write(d)}catch(Vt){l("cineSettingsAppearance: Unable to apply theme preference to control during registration.",Vt)}return function(){for(let yt=N.length-1;yt>=0;yt-=1){const Rt=N[yt];if(!(!Rt||Rt.element!==te)){N.splice(yt,1),te&&typeof te.removeEventListener=="function"&&te.removeEventListener(Rt.eventType,Rt.handler);break}}}}function L(te,pe){const ee=pe&&typeof pe=="object"?pe:{};b(te,{persist:ee.persist!==!1,source:ee.source||null})}function P(){return d}function V(te){const pe=te&&typeof te=="object"?te:{},ee=q();return ee===null?(pe.persist!==!1&&Pe(d),d):(b(ee,{persist:pe.persist!==!1}),ee)}const H=q();let W=typeof H=="boolean"?H:null;if(W===null){if(typeof X.detectSystemPreference=="function")try{const te=X.detectSystemPreference();typeof te=="boolean"&&(W=te)}catch(te){l("cineSettingsAppearance: detectSystemPreference option failed.",te)}if(W===null){const te=tr();typeof te=="boolean"&&(W=te)}}return W===null&&(W=!1),b(W,{persist:!0}),{registerControl:G,setValue:L,getValue:P,reloadFromStorage:V,persist:Pe}}function z(D){const X=et(),N=no();X&&(D?(N&&N.classList.add("high-contrast"),X.classList.add("high-contrast"),xo(eo()),N&&N.classList.contains("pink-mode")&&Fo()):(N&&N.classList.remove("high-contrast"),X.classList.remove("high-contrast"),N&&N.classList.contains("pink-mode")?Fo():xo(eo())),Q.highContrast&&(Q.highContrast.checked=!!D))}function Y(D){const X=et(),N=no();X&&X.classList.toggle("reduce-motion",!!D),N&&N.classList.toggle("reduce-motion",!!D),Q.reduceMotion&&(Q.reduceMotion.checked=!!D),D?we():wt()&&An()}function se(D){const X=et(),N=no();X&&X.classList.toggle("relaxed-spacing",!!D),N&&N.classList.toggle("relaxed-spacing",!!D),Q.relaxedSpacing&&(Q.relaxedSpacing.checked=!!D)}function fe(){if(oe){try{clearInterval(oe)}catch(D){l("cineSettingsAppearance: unable to stop pink mode rotation.",D)}oe=null}}function Te(D,X){if(!D)return;const N=X&&X.animate===!0,ue=x.pinkModeToggle||null,d=x.pinkModeHelpIcon||null;ue&&vt(ue,D),d&&(d.className="help-icon icon-glyph icon-svg pink-mode-icon",d.innerHTML=D.markup||""),N&&Be()}function Be(){const D=[],X=x.pinkModeToggle||null;if(X){const N=X.querySelector&&X.querySelector(".pink-mode-icon");N&&D.push(N)}if(x.pinkModeHelpIcon&&D.push(x.pinkModeHelpIcon),!!D.length)for(let N=0;N<D.length;N+=1){const ue=D[N];try{ue.classList.remove(nt),typeof ue.getBoundingClientRect=="function"&&ue.getBoundingClientRect(),ue.classList.add(nt)}catch(d){l("cineSettingsAppearance: unable to animate pink mode icon.",d)}ke>0&&setTimeout(()=>{try{ue.classList.remove(nt)}catch(d){l("cineSettingsAppearance: failed to reset pink mode animation.",d)}},ke)}}function Ve(){const N='<svg viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 40c0-8 3-17 3-17a4.84 4.84 0 0 0-1.829-3.064 1 1 0 0 1 .45-1.716 19.438 19.438 0 0 1 4.379-.22c.579-2.317-1.19-3.963-2.782-4.938a1 1 0 0 1 .393-1.85 14.128 14.128 0 0 1 6.389.788c0-.958-1.147-2.145-2.342-3.122a1 1 0 0 1 .708-1.773 40.655 40.655 0 0 1 6.634.895 3.723 3.723 0 0 0-1.049-2.264 1 1 0 0 1 .823-1.652c6.151.378 9.226 1.916 9.226 1.916l10-1s8.472-2.311 15.954.5a1 1 0 0 1-.084 1.9c-1.455.394-2.87 1.143-2.87 2.6 0 0 4.426.738 5.675 4.114a1 1 0 0 1-1.228 1.317c-1.64-.48-4.273-.88-6.447.569Z" fill="#805333" /><path d="m30.18 42.82c1.073 2.7 2.6 9.993 3.357 13.8a2 2 0 0 1-1.964 2.38h-28.573a2 2 0 0 1-2-2v-18c0-2.55 10.03-22.11 23.99-23.87Z" fill="#a56a43" /><path d="m55.67 48.46-6.34 2.97a6 6 0 0 1-7.98-2.88l-.25-.54-.76-1.6a4.956 4.956 0 0 0-4.68-2.87c-.22.01-.44.02-.66.02a16.019 16.019 0 0 1-8.28-29.66c-1.81-2.97-3.45-8.03 2.03-12.49a2.1 2.1 0 0 1 2.5 0c4.23 3.45 4.21 7.25 3.16 10.17a16 16 0 0 1 15.91 11.36l5.31 11.31 2.92 6.22a6.008 6.008 0 0 1-2.88 7.99Z" fill="#cb8252" /><circle cx="42" cy="26" r="3" fill="#2c2f38" /><circle cx="54" cy="43" r="1" fill="#805333" /><path d="m58.55 40.47-2.92-6.22-14.53 13.76.25.54a6 6 0 0 0 7.98 2.88l6.34-2.97a6.008 6.008 0 0 0 2.88-7.99Zm-4.55 3.53a1 1 0 1 1 1-1 1 1 0 0 1-1 1Z" fill="#cf976a" /><circle cx="41" cy="25" r="1.25" fill="#ecf0f1" /></svg>'.replace("</svg>",'<path d="m40 18 12-14-4 15.5z" filter="drop-shadow(0 0 2px #fff)" fill="#ffd700" />'+"</svg>"),ue=N.replace(/#805333/g,"#d63384").replace(/#a56a43/g,"#e83e8c").replace(/#cb8252/g,"#fd7e14").replace(/#cf976a/g,"#ffc0cb"),d=N.replace(/#805333/g,"#6f42c1").replace(/#a56a43/g,"#d63384").replace(/#cb8252/g,"#e83e8c").replace(/#cf976a/g,"#e0cffc"),p=N.replace(/#805333/g,"#0dcaf0").replace(/#a56a43/g,"#6f42c1").replace(/#cb8252/g,"#d63384").replace(/#cf976a/g,"#9ec5fe"),G=[{className:"icon-svg pink-mode-icon",markup:ue,lottiePath:"src/animations/unicorn.json"},{className:"icon-svg pink-mode-icon",markup:d,lottiePath:"src/animations/horn.json"},{className:"icon-svg pink-mode-icon",markup:p,lottiePath:"src/animations/rainbow.json"}];if(console.log("Pink Mode Rotation Start. Sequence Length:",G?G.length:"undefined"),!G.length){Te(K.pinkModeIcons?K.pinkModeIcons.off:null,{animate:!1});return}fe();const L=x.pinkModeToggle||null,P=x.pinkModeHelpIcon||null;if(!(!L&&!P)){ne=0,Te(G[ne],{animate:!0});try{if(oe=setInterval(()=>{ne=(ne+1)%G.length,Te(G[ne],{animate:!0})},pt),oe&&typeof oe.unref=="function")try{oe.unref()}catch(V){}}catch(V){oe&&clearInterval(oe),oe=null,l("cineSettingsAppearance: unable to schedule pink mode rotation.",V)}}}function Qe(){if(he){try{clearTimeout(he)}catch(D){l("cineSettingsAppearance: unable to clear pink mode press reset timer.",D)}he=null}}function Tt(){if(!(Gt<=0)){Qe();try{he=setTimeout(()=>{he=null,ge=0,J.length=0},Gt),he&&typeof he.unref=="function"&&he.unref()}catch(D){he=null,l("cineSettingsAppearance: unable to schedule pink mode press reset.",D)}}}function _t(){ge=0,Qe(),J.length=0}function mt(){const D=Date.now();J.push(D);const X=Math.max(Kt,0);if(X>0){const N=D-X;for(;J.length&&J[0]<N;)J.shift()}return J.length}class Ut{constructor(){this.active=!1}activate(){this.active=!0,document.body.classList.add("pink-mode-active")}deactivate(){this.active=!1,document.body.classList.remove("pink-mode-active")}triggerRain(){}}const Ir=new Ut;function wo(){}function Sr(){ge=mt(),Gt>0&&Tt(),!(ge<3)&&Gt<=0&&ge>3&&(ge=3)}function Pr(){Ir.activate(),typeof K.startPinkModeAnimatedIcons=="function"&&K.startPinkModeAnimatedIcons()}function Cn(){Ir.deactivate(),typeof K.stopPinkModeAnimatedIcons=="function"&&K.stopPinkModeAnimatedIcons()}function An(){Ve(),Pr()}function we(){Cn(),fe(),_t()}function wn(D){const X=et(),N=no();!X||!N||(D?(N.classList.add("pink-mode"),X.classList.add("pink-mode"),le.accentColorInput&&(le.accentColorInput.disabled=!0),Fo(),x.pinkModeToggle&&x.pinkModeToggle.setAttribute("aria-pressed","true"),An()):(we(),N.classList.remove("pink-mode"),X.classList.remove("pink-mode"),le.accentColorInput&&(le.accentColorInput.disabled=!1),xo(eo()),K.pinkModeIcons&&K.pinkModeIcons.off&&Te(K.pinkModeIcons.off,{animate:!1}),x.pinkModeToggle&&x.pinkModeToggle.setAttribute("aria-pressed","false")),Q.pinkMode&&(Q.pinkMode.checked=!!D),sr())}function wt(){const D=no();return!!(D&&D.classList&&D.classList.contains("pink-mode"))}function Rn(D){Je=!!D,wn(Je);const X=I(S);if(X){try{X.setItem(ve,Je)}catch(N){l("cineSettingsAppearance: Could not save pink mode preference.",N)}try{X.setItem(Ao,Je)}catch(N){l("cineSettingsAppearance: Could not save pink mode preference.",N)}}}function or(){ro=wt()}function Br(){wt()!==ro&&Rn(ro)}function Ro(){return typeof re.getTemperatureUnit=="function"?re.getTemperatureUnit():re.temperatureUnit||"celsius"}function Tl(D){typeof re.setTemperatureUnit=="function"?re.setTemperatureUnit(D):re.temperatureUnit=D}function rr(){return typeof re.getFocusScale=="function"?re.getFocusScale():re.focusScale||"metric"}function No(D){typeof re.setFocusScale=="function"?re.setFocusScale(D):re.focusScale=D}function Ln(){const D=Ro();$t=typeof D=="string"?D:"celsius"}function Yn(){const D=typeof $t=="string"?$t:"celsius",X=re.applyTemperatureUnitPreference;if(typeof X=="function")if(Ro()!==D)try{X(D,{persist:!1,forceUpdate:!0}),Tl(D)}catch(N){l("cineSettingsAppearance: Failed to revert temperature unit preference.",N)}else Q.temperatureUnit&&(Q.temperatureUnit.value=D);else Q.temperatureUnit&&(Q.temperatureUnit.value=D)}function Gn(){const D=rr();Eo=typeof D=="string"?D:"metric"}function dr(){const D=typeof Eo=="string"?Eo:"metric",X=re.applyFocusScalePreference;if(typeof X=="function")if(rr()!==D)try{X(D,{persist:!1,forceUpdate:!0}),No(D)}catch(N){l("cineSettingsAppearance: Failed to revert focus scale preference.",N)}else Q.focusScale&&(Q.focusScale.value=D);else Q.focusScale&&(Q.focusScale.value=D)}function rn(){return typeof re.getShowAutoBackups=="function"?!!re.getShowAutoBackups():typeof re.showAutoBackups=="boolean"?re.showAutoBackups:!1}function Tn(D){typeof re.setShowAutoBackups=="function"?re.setShowAutoBackups(D):re.showAutoBackups=!!D}function Qn(D,X){const N=X&&typeof X=="object"?X:{},ue=N.persist!==!1,d=!!N.forceRepopulate,p=!!D,b=rn(),G=p!==b;if(Tn(p),p&&typeof re.ensureAutoBackupsFromProjects=="function"&&m(re.ensureAutoBackupsFromProjects),ue){const W=I(S);if(W)try{W.setItem("showAutoBackups",p)}catch(te){l("cineSettingsAppearance: Could not save auto backup visibility preference.",te)}}if(!G&&!d){Q.showAutoBackups&&(Q.showAutoBackups.checked=p);return}const L=Ee.setupSelect||null,P=Ee.setupNameInput||null,V=L?L.value:"",H=P?P.value:"";if(typeof Ee.populateSetupSelect=="function")try{Ee.populateSetupSelect()}catch(W){l("cineSettingsAppearance: Failed to refresh setup selector.",W)}if(L)try{p||!V||!V.startsWith("auto-backup-")?L.value=V:L.value=""}catch(W){l("cineSettingsAppearance: Failed to update setup select after auto backup change.",W)}if(P)try{P.value=H}catch(W){l("cineSettingsAppearance: Unable to restore setup name after auto backup change.",W)}Q.showAutoBackups&&(Q.showAutoBackups.checked=p)}function hi(){Co=!!rn()}function Ra(){const D=!!Co;!!rn()!==D?Qn(D,{forceRepopulate:!0}):Q.showAutoBackups&&(Q.showAutoBackups.checked=D)}function On(){if(typeof ae.rememberBaseline=="function"){try{ae.rememberBaseline()}catch(D){l("cineSettingsAppearance: rememberBaseline for mount voltages failed.",D)}return}if(typeof ae.getPreferencesClone=="function")try{ae.settingsInitial=ae.getPreferencesClone()}catch(D){l("cineSettingsAppearance: Failed to clone mount voltage preferences.",D)}}function bi(){if(typeof ae.revertBaseline=="function"){try{ae.revertBaseline()}catch(P){l("cineSettingsAppearance: revertBaseline for mount voltages failed.",P)}return}const D=ae.getPreferencesClone,X=ae.applyPreferences,N=ae.updateInputsFromState,ue=ae.warnMissingHelper||(()=>{}),d=Array.isArray(ae.supportedTypes)?ae.supportedTypes:[],p=ae.defaultVoltages&&typeof ae.defaultVoltages=="object"?ae.defaultVoltages:{};let b=ae.settingsInitial;!b&&typeof D=="function"&&(b=D());let G=b;if(typeof D=="function")try{G=D()}catch(P){ue("getMountVoltagePreferencesClone",P)}if(d.some(P=>{const V=b&&b[P]?b[P]:p[P],H=G&&G[P]?G[P]:p[P];return!V||!H?!1:Number(V.high)!==Number(H.high)||Number(V.low)!==Number(H.low)})){if(typeof X=="function")try{X(b,{persist:!0,triggerUpdate:!0})}catch(P){ue("applyMountVoltagePreferences",P)}}else if(typeof N=="function")try{N()}catch(P){ue("updateMountVoltageInputsFromState",P)}}return a({updateThemeColor:er,setToggleIcon:vt,applyDarkMode:xt,applyHighContrast:z,applyReduceMotion:Y,applyRelaxedSpacing:se,applyPinkMode:wn,persistPinkModePreference:Rn,rememberSettingsPinkModeBaseline:or,revertSettingsPinkModeIfNeeded:Br,rememberSettingsTemperatureUnitBaseline:Ln,revertSettingsTemperatureUnitIfNeeded:Yn,rememberSettingsFocusScaleBaseline:Gn,revertSettingsFocusScaleIfNeeded:dr,applyShowAutoBackupsPreference:Qn,rememberSettingsShowAutoBackupsBaseline:hi,revertSettingsShowAutoBackupsIfNeeded:Ra,rememberSettingsMountVoltagesBaseline:On,revertSettingsMountVoltagesIfNeeded:bi,handlePinkModeIconPress:Sr,triggerPinkModeIconAnimation:Be,triggerPinkModeIconRain:wo,startPinkModeIconRotation:Ve,stopPinkModeIconRotation:fe,applyPinkModeIcon:Te,startPinkModeAnimatedIcons:Pr,stopPinkModeAnimatedIcons:Cn,startPinkModeAnimatedIconRotation:An,stopPinkModeAnimatedIconRotation:we,isPinkModeActive:wt,createThemePreferenceController:B,createPinkModePreferenceController:O,setAccentColor:Oe,setPrevAccentColor:br,getAccentColor:eo,getPrevAccentColor:Fe,setShowAutoBackups:Tn,getShowAutoBackups:rn})}function A(E){return g(E||{})}const w=a({initialize:A});s("cineSettingsAppearance",w),u("cineSettingsAppearance",w,{category:"ui",description:"Appearance and settings helpers for the application UI.",replace:!0,connections:["cineModuleGlobals","cineModuleEnvironment","cineUi"]},E=>{l("cineSettingsAppearance: Unable to register module.",E)}),f("cineSettingsAppearance",w,{configurable:!0,enumerable:!1,writable:!1}),typeof module<"u"&&module&&module.exports&&(module.exports=w)})();function fO(e){return e&&e.MOUNT_VOLTAGE_RUNTIME_EXPORTS&&typeof e.MOUNT_VOLTAGE_RUNTIME_EXPORTS=="object"?e.MOUNT_VOLTAGE_RUNTIME_EXPORTS:null}function Dc(e,t){const o=fO(e);return o&&typeof o[t]=="function"?o[t]:null}function Xn(e,t,o){if(!(!e||typeof o!="function")&&typeof e[t]!="function")try{e[t]=o}catch{}}function pO(e){const t={},o=["V-Mount","Gold-Mount","B-Mount"];for(const r of o){const n=e&&e[r]?e[r]:null,a=n&&typeof n.high=="number"&&Number.isFinite(n.high)?n.high:r==="B-Mount"?33.6:14.4,l=n&&typeof n.low=="number"&&Number.isFinite(n.low)?n.low:r==="B-Mount"?21.6:12;t[r]={high:a,low:l}}return t}function kl(e,t){const o=e.DEFAULT_MOUNT_VOLTAGES||pO({}),r=e.SUPPORTED_MOUNT_VOLTAGE_TYPES||["V-Mount","Gold-Mount","B-Mount"],n={},a=(l,s)=>typeof l=="number"?Math.round(Math.min(1e3,Math.max(.1,l))*100)/100:typeof s=="number"?Math.round(Math.min(1e3,Math.max(.1,s))*100)/100:0;for(const l of r){const s=t&&t[l]?t[l]:o[l],u=o[l]||{high:0,low:0};n[l]={high:a(s?.high,u.high),low:a(s?.low,u.low)}}return n}function iS(e,t){try{if(!e.localStorage)return!1;const o=JSON.stringify(t),r=e.MOUNT_VOLTAGE_STORAGE_KEY||"cameraPowerPlanner_mountVoltages";return e.localStorage.setItem(r,o),e.localStorage.setItem(r+"__backup",o),!0}catch{return!1}}function mO(e){if(!e)return;const t={preferences:kl(e,null)},o=(s,u)=>{let f=Number.parseFloat(String(s).replace(",","."));return Number.isFinite(f)||(f=Number.parseFloat(String(u).replace(",","."))),Number.isFinite(f)?Math.round(Math.min(1e3,Math.max(.1,f))*100)/100:0},r=s=>{const u=Dc(e,"cloneMountVoltageMap");return u?u(s):kl(e,s)},n=(s,u)=>{const f=Dc(e,"applyMountVoltagePreferences");return f?f(s,u):(t.preferences=kl(e,s),u?.persist!==!1&&iS(e,t.preferences),t.preferences)},a=s=>{const u=Dc(e,"parseStoredMountVoltages");if(u)return u(s);if(!s)return null;try{const f=typeof s=="string"?JSON.parse(s):s;return kl(e,f)}catch{return null}};function l(s,u){return function(...y){const R=Dc(e,s);return R?R.apply(this,y):u.apply(this,y)}}Xn(e,"parseVoltageValue",l("parseVoltageValue",o)),Xn(e,"cloneMountVoltageMap",l("cloneMountVoltageMap",r)),Xn(e,"applyMountVoltagePreferences",l("applyMountVoltagePreferences",n)),Xn(e,"parseStoredMountVoltages",l("parseStoredMountVoltages",a)),Xn(e,"resetMountVoltagePreferences",l("resetMountVoltagePreferences",s=>n(null,s))),Xn(e,"updateMountVoltageInputsFromState",l("updateMountVoltageInputsFromState",()=>{})),Xn(e,"persistMountVoltagePreferences",l("persistMountVoltagePreferences",s=>iS(e,s))),Xn(e,"getMountVoltagePreferencesClone",l("getMountVoltagePreferencesClone",()=>kl(e,t.preferences))),typeof e.mountVoltageInputs>"u"&&(e.mountVoltageInputs=null)}function ef(e){if(e===null||typeof e>"u")return null;const t=Number(e);if(!Number.isFinite(t))return null;const o=Math.round(t);return Number.isFinite(o)?o:null}function Rc(e,t,o){let r;try{r=e[t]}catch{}return typeof r>"u"?o:r}function da(e,t,o){try{e[t]=o}catch{}return o}function Il(e,t,o=""){let r=Rc(e,t);return typeof r!="string"&&(r=o),da(e,t,r)}function Fc(e,t){let o=Rc(e,t);return Array.isArray(o)||(o=[]),da(e,t,o)}function In(e,t,o){let r=Rc(e,t);return typeof r!="function"&&(r=o),da(e,t,r)}function Er(e,t){let o=Rc(e,t);return typeof o>"u"&&(o=null),da(e,t,o)}function yO(e){const t=nA(e);let o=null;const r=[];Object.prototype.hasOwnProperty.call(e,"AUTO_GEAR_BACKUP_RETENTION_MAX")&&r.push(e.AUTO_GEAR_BACKUP_RETENTION_MAX),Object.prototype.hasOwnProperty.call(e,"MAX_AUTO_BACKUPS")&&r.push(e.MAX_AUTO_BACKUPS),e.__cineStorageApi&&Object.prototype.hasOwnProperty.call(e.__cineStorageApi,"AUTO_GEAR_BACKUP_RETENTION_MAX")&&r.push(e.__cineStorageApi.AUTO_GEAR_BACKUP_RETENTION_MAX);for(const n of r){const a=ef(n);if(typeof a!="number")continue;const l=a<t?t:a;(o===null||l>o)&&(o=l)}return o===null&&(o=Math.max(t,120)),{min:t,max:o}}function nA(e){const t=[];Object.prototype.hasOwnProperty.call(e,"AUTO_GEAR_BACKUP_RETENTION_MIN")&&t.push(e.AUTO_GEAR_BACKUP_RETENTION_MIN),e.__cineStorageApi&&Object.prototype.hasOwnProperty.call(e.__cineStorageApi,"AUTO_GEAR_BACKUP_RETENTION_MIN")&&t.push(e.__cineStorageApi.AUTO_GEAR_BACKUP_RETENTION_MIN);for(const o of t){const r=ef(o);if(typeof r=="number"&&r>=1)return r<1?1:r}return 1}function gO(e){const t=yO(e),o=t.min,r=t.max,n=[];typeof e.getAutoGearBackupRetentionDefault=="function"&&n.push(()=>e.getAutoGearBackupRetentionDefault()),e.__cineStorageApi&&typeof e.__cineStorageApi.getAutoGearBackupRetentionDefault=="function"&&n.push(()=>e.__cineStorageApi.getAutoGearBackupRetentionDefault()),n.push(()=>Object.prototype.hasOwnProperty.call(e,"AUTO_GEAR_BACKUP_RETENTION_DEFAULT")?e.AUTO_GEAR_BACKUP_RETENTION_DEFAULT:null);for(const l of n)try{const s=ef(l());if(typeof s=="number")return s<o?o:s>r?r:s}catch{}let a=ef(36);return typeof a!="number"&&(a=o),a<o&&(a=o),a>r&&(a=r),a}function hO(e){if(!e||typeof e!="object")return"";try{const t=Object.keys(e);if(!t.length)return"";const o=t[0],r=e[o],n=typeof o=="string"?o.replace(/_/g," "):"connector";return r?`${n}: ${r}`:n}catch{return""}}function bO(e,t){const o=e==null?"":String(e),r=t==null?"":String(t);try{return o.localeCompare(r,void 0,{sensitivity:"accent",numeric:!0})}catch{return o<r?-1:o>r?1:0}}function SO(e){const t={},o=["V-Mount","Gold-Mount","B-Mount"];for(const r of o){const n=e&&e[r]?e[r]:null,a=n&&typeof n.high=="number"&&Number.isFinite(n.high)?n.high:r==="B-Mount"?33.6:14.4,l=n&&typeof n.low=="number"&&Number.isFinite(n.low)?n.low:r==="B-Mount"?21.6:12;t[r]={high:a,low:l}}return t}function vO(e){if(!e||typeof e!="object")return;Il(e,"autoGearAutoPresetId",""),Fc(e,"baseAutoGearRules"),Er(e,"autoGearScenarioModeSelect"),Er(e,"autoGearRuleNameInput"),Il(e,"autoGearSummaryFocus","all"),Fc(e,"autoGearMonitorDefaultControls"),Er(e,"iosPwaHelpDialog"),Er(e,"iosPwaHelpClose"),Er(e,"totalPowerElem"),In(e,"safeGenerateConnectorSummary",hO),Er(e,"CORE_RUNTIME_SHARED"),Er(e,"CORE_GLOBAL_SCOPE"),Er(e,"autoGearAddOwnGearSelect"),Er(e,"autoGearRemoveOwnGearSelect"),Er(e,"newSubcategorySelect"),In(e,"syncAutoGearMonitorFieldVisibility",()=>{}),Il(e,"currentLang","en"),In(e,"localeSort",bO),In(e,"resolveAutoGearBackupRetentionMin",()=>{const a=nA(e);return e&&(typeof e.AUTO_GEAR_BACKUP_RETENTION_MIN!="number"||!Number.isFinite(e.AUTO_GEAR_BACKUP_RETENTION_MIN))&&(e.AUTO_GEAR_BACKUP_RETENTION_MIN=a),a}),In(e,"resolveAutoGearBackupRetentionDefault",()=>{const a=gO(e);return e&&(typeof e.AUTO_GEAR_BACKUP_RETENTION_DEFAULT!="number"||!Number.isFinite(e.AUTO_GEAR_BACKUP_RETENTION_DEFAULT))&&(e.AUTO_GEAR_BACKUP_RETENTION_DEFAULT=a),a}),In(e,"getLanguageTexts",a=>{const l=e.texts||{},s=(a||e.DEFAULT_LANGUAGE||"en").trim().toLowerCase();if(l[s])return l[s];const u=s.substring(0,2);return l[u]?l[u]:l.en?l.en:Object.values(l)[0]||{}}),In(e,"resolveTextEntry",(a,l,s,u)=>{const f=[a,l].filter(y=>y&&typeof y=="object");for(const y of f)try{const R=y[s];if(typeof R=="string"&&R.trim())return R.trim()}catch{}return u!==void 0?String(u):""}),Il(e,"TEMPERATURE_STORAGE_KEY","cameraPowerPlanner_temperatureUnit"),In(e,"resolveTemperatureStorageKey",()=>e.TEMPERATURE_STORAGE_KEY);const t=e.TEMPERATURE_UNITS,o={celsius:(t?.celsius||"celsius").trim().toLowerCase(),fahrenheit:(t?.fahrenheit||"fahrenheit").trim().toLowerCase()};da(e,"TEMPERATURE_UNITS",o);const r=Rc(e,"TEMPERATURE_SCENARIOS",[]),n=Array.isArray(r)?r.filter(a=>a&&a.id&&a.key&&a.label):[];da(e,"TEMPERATURE_SCENARIOS",n),da(e,"FEEDBACK_TEMPERATURE_MIN",-20),da(e,"FEEDBACK_TEMPERATURE_MAX_LIMIT",50),Il(e,"FOCUS_SCALE_STORAGE_KEY","cameraPowerPlanner_focusScale"),Fc(e,"FOCUS_SCALE_VALUES"),e.FOCUS_SCALE_VALUES.length===0&&(e.FOCUS_SCALE_VALUES=["metric","imperial"]),Fc(e,"SUPPORTED_MOUNT_VOLTAGE_TYPES"),e.SUPPORTED_MOUNT_VOLTAGE_TYPES.length===0&&(e.SUPPORTED_MOUNT_VOLTAGE_TYPES=["V-Mount","Gold-Mount","B-Mount"]),Er(e,"DEFAULT_MOUNT_VOLTAGES"),e.DEFAULT_MOUNT_VOLTAGES||(e.DEFAULT_MOUNT_VOLTAGES=SO({})),Er(e,"MOUNT_VOLTAGE_RUNTIME_EXPORTS"),e.MOUNT_VOLTAGE_RUNTIME_EXPORTS||(e.MOUNT_VOLTAGE_RUNTIME_EXPORTS={}),mO(e),In(e,"syncMountVoltageResetButtonGlobal",a=>(e.cineCoreMountVoltage?.syncMountVoltageResetButtonGlobal?e.cineCoreMountVoltage.syncMountVoltageResetButtonGlobal(a):e.mountVoltageResetButton=a,a))}(function(){const e=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null;e&&vO(e)})();function aA(){const e=[];return typeof CORE_GLOBAL_SCOPE<"u"&&CORE_GLOBAL_SCOPE&&e.push(CORE_GLOBAL_SCOPE),typeof globalThis<"u"&&globalThis&&e.push(globalThis),typeof window<"u"&&window&&e.push(window),typeof self<"u"&&self&&e.push(self),typeof global<"u"&&global&&e.push(global),e}function pi(){const e=aA();for(let t=0;t<e.length;t+=1){const o=e[t];if(o&&typeof o=="object")return o}return null}function iA(){const e=pi();return e&&typeof e.cineCoreRuntimeModuleLoader=="object"&&e.cineCoreRuntimeModuleLoader?e.cineCoreRuntimeModuleLoader:typeof cineCoreRuntimeModuleLoader<"u"&&cineCoreRuntimeModuleLoader&&typeof cineCoreRuntimeModuleLoader=="object"?cineCoreRuntimeModuleLoader:null}function lg(e,t){const o=iA();if(o&&typeof o.resolveCoreRuntimeModule=="function")try{return o.resolveCoreRuntimeModule(e,t)}catch{}return null}function tf(e,t){if(typeof e!="string"||!e)return;const o=pi();if(!o||typeof o!="object")return;let r=null;try{r=Object.getOwnPropertyDescriptor(o,e)}catch{r=null}if(!(r&&r.configurable===!1&&r.writable===!1)){try{o[e]=t;return}catch{}try{Object.defineProperty(o,e,{configurable:!0,writable:!0,value:t})}catch(n){typeof console<"u"&&typeof console.warn=="function"&&console.warn(`Unable to expose ${e} globally`,n)}}}function EO(e){!e||typeof e!="object"||Object.keys(e).forEach(t=>{tf(t,e[t])})}const pd=(function(t){const o="__coreRuntimeBootQueue",r=t&&typeof t=="object"?t:pi();if(r){const n=r.__cineCoreBootQueueKey,a=r.CORE_BOOT_QUEUE_KEY;if(typeof a=="string"&&a){try{r.__cineCoreBootQueueKey=a}catch{r.__cineCoreBootQueueKey=a}return a}if(typeof n=="string"&&n){if(typeof r.CORE_BOOT_QUEUE_KEY!="string"||!r.CORE_BOOT_QUEUE_KEY)try{r.CORE_BOOT_QUEUE_KEY=n}catch{r.CORE_BOOT_QUEUE_KEY=n}return n}}if(r){try{r.__cineCoreBootQueueKey=o}catch{r.__cineCoreBootQueueKey=o}try{r.CORE_BOOT_QUEUE_KEY=o}catch{r.CORE_BOOT_QUEUE_KEY=o}}return o})(typeof CORE_GLOBAL_SCOPE=="object"&&CORE_GLOBAL_SCOPE?CORE_GLOBAL_SCOPE:null),$s=(function(t){if(Array.isArray(t))return t;const o=typeof CORE_GLOBAL_SCOPE=="object"&&CORE_GLOBAL_SCOPE?CORE_GLOBAL_SCOPE:pi();if(o&&typeof o=="object"){const r=o.cineCoreShared;if(r&&typeof r=="object"){const n=r[pd];if(Array.isArray(n))return n;if(Object.isExtensible(r))return r[pd]=[],r[pd]}return Array.isArray(o.CORE_BOOT_QUEUE)||(o.CORE_BOOT_QUEUE=[]),o.CORE_BOOT_QUEUE}return[]})(typeof CORE_GLOBAL_SCOPE=="object"&&CORE_GLOBAL_SCOPE?CORE_GLOBAL_SCOPE.CORE_BOOT_QUEUE:null);typeof CORE_GLOBAL_SCOPE=="object"&&CORE_GLOBAL_SCOPE&&CORE_GLOBAL_SCOPE.CORE_BOOT_QUEUE!==$s&&(CORE_GLOBAL_SCOPE.CORE_BOOT_QUEUE=$s);function CO(e){if(typeof e=="function")try{$s.push(e)}catch{try{e()}catch(o){console.error("Failed to run fallback core boot task",o)}}}function lA(){const e=$s;if(console.log("[Runtime Bootstrap] Processing boot queue. Length:",Array.isArray(e)?e.length:"invalid"),!Array.isArray(e))return;const t=e.splice(0,e.length);console.log("[Runtime Bootstrap] Snapshot size:",t.length);for(let o=0;o<t.length;o+=1){const r=t[o];if(typeof r=="function")try{r()}catch(n){console.error("Failed to process core boot task",n)}}console.log("[Runtime Bootstrap] Queue processing complete.")}const si="__cineGridSnapState";function Fh(){const e=[],t=typeof CORE_RUNTIME_STATE<"u"&&CORE_RUNTIME_STATE&&typeof CORE_RUNTIME_STATE=="object"?CORE_RUNTIME_STATE:null;if(t&&typeof t.getScopes=="function")try{const r=t.getScopes();if(Array.isArray(r))for(let n=0;n<r.length;n+=1){const a=r[n];a&&e.indexOf(a)===-1&&e.push(a)}}catch{}const o=aA();for(let r=0;r<o.length;r+=1){const n=o[r];n&&e.indexOf(n)===-1&&e.push(n)}return e}function Sa(e,t=!1){if(e===!0||e===!1)return e===!0;if(typeof e=="string"){const o=e.trim().toLowerCase();return o?["true","1","yes","on","enabled","enable"].includes(o)?!0:["false","0","no","off","disabled","disable"].includes(o)?!1:t:t}if(typeof e=="number")return Number.isFinite(e)?e>0:t;if(e&&typeof e=="object"){if(Object.prototype.hasOwnProperty.call(e,"enabled"))return Sa(e.enabled,t);if(Object.prototype.hasOwnProperty.call(e,"value"))return Sa(e.value,t)}return t}function sA(){const e=Fh();for(let t=0;t<e.length;t+=1){const o=e[t];if(!(!o||typeof o!="object")){try{if(Object.prototype.hasOwnProperty.call(o,si)){const r=o[si],n=Sa(r,void 0);if(typeof n=="boolean")return n}}catch{}try{if(Object.prototype.hasOwnProperty.call(o,"gridSnap")){const r=o.gridSnap,n=Sa(r,void 0);if(typeof n=="boolean")return n}}catch{}}}}let ga=Sa(sA(),!1);function AO(e,t){if(!(!e||typeof e!="object")){try{e[si]=t}catch{try{Object.defineProperty(e,si,{configurable:!0,writable:!0,value:t})}catch{}}try{e.gridSnap=t}catch{try{Object.defineProperty(e,"gridSnap",{configurable:!0,writable:!0,value:t})}catch{}}}}function rp(e,t=null,o={}){const r=Fh(),n=o&&o.persist!==!1;for(let l=0;l<r.length;l+=1){const s=r[l];if(!(!s||typeof s!="object")){if(n!==!1)try{s[si]=e}catch{try{Object.defineProperty(s,si,{configurable:!0,writable:!0,value:e})}catch{}}if(t!==s)try{s.gridSnap=e}catch{try{Object.defineProperty(s,"gridSnap",{configurable:!0,writable:!0,value:e})}catch{}}}}const a=pi();return a&&typeof a=="object"&&n!==!1&&AO(a,e),e}function wO(){return ga}function RO(e){const t=Sa(e,ga);return ga=t,rp(t),ga}function LO(e){const t=Sa(e,ga);return ga=t,rp(t,null,{persist:!1}),ga}rp(ga);function GO(e){if(!e||typeof e!="object")return;const t=pi();if(!t||typeof t!="object")return;const o=t.cineRuntimeBootstrapExports;if(o&&typeof o=="object"){Object.keys(e).forEach(r=>{o[r]=e[r]});return}try{t.cineRuntimeBootstrapExports=e}catch{}}const sg={fallbackResolveRuntimeModuleLoader:iA,fallbackRequireCoreRuntimeModule:lg,exposeCoreRuntimeConstant:tf,exposeCoreRuntimeConstants:EO,CORE_BOOT_QUEUE_KEY:pd,CORE_BOOT_QUEUE:$s,enqueueCoreBootTask:CO,processCoreBootQueue:lA,GRID_SNAP_STATE_STORAGE_KEY:si,getGridSnapStateScopes:Fh,normaliseGridSnapPreference:Sa,readInitialGridSnapPreference:sA,syncGridSnapStateToScopes:rp,getGridSnapState:wO,setGridSnapState:RO,applyLegacyGridSnapValue:LO};if(typeof CORE_GLOBAL_SCOPE=="object"&&CORE_GLOBAL_SCOPE)CORE_GLOBAL_SCOPE.fallbackRequireCoreRuntimeModule||(CORE_GLOBAL_SCOPE.fallbackRequireCoreRuntimeModule=lg),CORE_GLOBAL_SCOPE.exposeCoreRuntimeConstant||(CORE_GLOBAL_SCOPE.exposeCoreRuntimeConstant=tf);else{const e=pi();e&&(e.fallbackRequireCoreRuntimeModule||(e.fallbackRequireCoreRuntimeModule=lg),e.exposeCoreRuntimeConstant||(e.exposeCoreRuntimeConstant=tf))}typeof window<"u"&&(window.processCoreBootQueue=lA);if(typeof module<"u"&&module)try{module.exports=sg}catch{}else if(typeof exports<"u"&&exports)try{exports.runtimeBootstrapExports=sg}catch{}GO(sg);const Lc=typeof $r=="function"?$r:()=>null,cg=typeof CORE_RUNTIME_SHARED<"u"?CORE_RUNTIME_SHARED:null,ug=typeof CORE_ENVIRONMENT_HELPERS<"u"?CORE_ENVIRONMENT_HELPERS:null,TO=Lc("cineCoreRuntimeCandidateScopes","./modules/core/runtime-candidate-scopes.js"),el=Lc("cineCoreAppRuntimeCandidateScopeSupport","./modules/app-core/runtime.js"),lS=(el&&typeof el.resolveRuntimeCandidateScopeSupport=="function"?el.resolveRuntimeCandidateScopeSupport:null)||(function(){const t=[typeof CORE_PART1_RUNTIME_SCOPE<"u"?CORE_PART1_RUNTIME_SCOPE:null,typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let o=0;o<t.length;o+=1){const r=t[o];if(!(!r||typeof r!="object"))try{const n=r.cineCoreAppRuntimeCandidateScopeSupport;if(n&&typeof n.resolveRuntimeCandidateScopeSupport=="function")return n.resolveRuntimeCandidateScopeSupport}catch{}}return null})(),sS=(el&&typeof el.createFallbackRuntimeCandidateScopeSupport=="function"?el.createFallbackRuntimeCandidateScopeSupport:null)||(function(){const t=[typeof CORE_PART1_RUNTIME_SCOPE<"u"?CORE_PART1_RUNTIME_SCOPE:null,typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let o=0;o<t.length;o+=1){const r=t[o];if(!(!r||typeof r!="object"))try{const n=r.cineCoreAppRuntimeCandidateScopeSupport;if(n&&typeof n.createFallbackRuntimeCandidateScopeSupport=="function")return n.createFallbackRuntimeCandidateScopeSupport}catch{}}return null})(),jp=Lc("cineCoreAppRuntimeCandidateScopeFallback","./modules/app-core/runtime.js"),OO=jp&&typeof jp.createRuntimeCandidateScopeSupportFallback=="function"?jp.createRuntimeCandidateScopeSupportFallback:(function(){return function(o){const r={collectCandidateScopes(){return[]},collectCandidateScopesWithFallback(){return[]},resolveCandidateScopes(n){return(n&&Array.isArray(n.currentCandidateScopes)?n.currentCandidateScopes:null)||[]},syncCandidateScopes(n,a){const l=Array.isArray(n)?n:[],s=a&&typeof a.assignCurrentCandidateScopes=="function"?a.assignCurrentCandidateScopes:o&&typeof o.assignCurrentCandidateScopes=="function"?o.assignCurrentCandidateScopes:null;if(s)try{s(l)}catch{}return l},ensureCandidateScopes(n){const a=n||{},l=r.resolveCandidateScopes(a);return r.syncCandidateScopes(l,a)}};return r}})(),dg=typeof sS=="function"?sS({runtimeShared:cg,environmentHelpers:ug}):OO({runtimeShared:cg,environmentHelpers:ug,candidateScopeBridge:TO,corePartRuntimeScope:typeof CORE_PART1_RUNTIME_SCOPE<"u"?CORE_PART1_RUNTIME_SCOPE:null,coreGlobalScope:typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null,assignCurrentCandidateScopes(e){try{CORE_RUNTIME_CANDIDATE_SCOPES=e}catch{}}}),cS=(typeof lS=="function"?lS({resolveCoreSupportModule:Lc,requireFn:typeof require=="function"?require:null,runtimeScope:typeof CORE_PART1_RUNTIME_SCOPE<"u"?CORE_PART1_RUNTIME_SCOPE:null,coreGlobalScope:typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null,runtimeShared:cg,environmentHelpers:ug}):null)||dg,Up=Lc("cineCoreAppRuntimeCandidateScopeResolvers","./modules/app-core/runtime.js"),uS=Up&&typeof Up.createRuntimeCandidateScopeResolvers=="function"?Up.createRuntimeCandidateScopeResolvers:(function(){return null})();function kO(e){const t=e&&e.runtimeCandidateScopeSupport?e.runtimeCandidateScopeSupport:null,o=e&&e.fallbackRuntimeCandidateScopeSupport?e.fallbackRuntimeCandidateScopeSupport:null;function r(s,u){if(!s||typeof s.collectCandidateScopes!="function")return null;try{const f=s.collectCandidateScopes(u);return Array.isArray(f)?f:null}catch{}return null}function n(s,u){if(!s||typeof s.ensureCandidateScopes!="function")return null;try{const f=s.ensureCandidateScopes(u);return Array.isArray(f)?f:null}catch{}return null}function a(s){const u=r(t,s);if(u)return u;const f=r(o,s);return f||[]}function l(s){const u=s&&typeof s=="object"?s:{},f=n(t,u);if(f&&f.length)return f;const y=n(o,u);return y&&y.length?y:a(u.primaryScope)}return{collectCoreRuntimeCandidateScopes:a,ensureCoreRuntimeCandidateScopes:l}}const tl=(typeof uS=="function"?uS({runtimeCandidateScopeSupport:cS,fallbackRuntimeCandidateScopeSupport:dg}):null)||kO({runtimeCandidateScopeSupport:cS,fallbackRuntimeCandidateScopeSupport:dg}),hn=typeof CORE_GLOBAL_SCOPE=="object"&&CORE_GLOBAL_SCOPE||typeof globalThis<"u"&&typeof globalThis=="object"&&globalThis||typeof window<"u"&&typeof window=="object"&&window||typeof self<"u"&&typeof self=="object"&&self||typeof global<"u"&&typeof global=="object"&&global||null,IO=tl&&typeof tl.collectCoreRuntimeCandidateScopes=="function"?tl.collectCoreRuntimeCandidateScopes:inlineCollectCoreRuntimeCandidateScopes,PO=hn&&typeof hn.collectCoreRuntimeCandidateScopes=="function"?hn.collectCoreRuntimeCandidateScopes:null,Gc=PO||IO;hn&&typeof hn.collectCoreRuntimeCandidateScopes!="function"&&(hn.collectCoreRuntimeCandidateScopes=Gc);hn&&(hn.resolvedCollectCoreRuntimeCandidateScopes=Gc);const of=(function(){const t=typeof CORE_GLOBAL_SCOPE=="object"?CORE_GLOBAL_SCOPE:null,o=tl&&typeof tl.ensureCoreRuntimeCandidateScopes=="function"?tl.ensureCoreRuntimeCandidateScopes:null,r={primaryScope:t,currentCandidateScopes:typeof CORE_RUNTIME_CANDIDATE_SCOPES<"u"&&CORE_RUNTIME_CANDIDATE_SCOPES&&typeof CORE_RUNTIME_CANDIDATE_SCOPES.length=="number"?CORE_RUNTIME_CANDIDATE_SCOPES:null,globalScope:typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null,assignCurrentCandidateScopes(n){try{CORE_RUNTIME_CANDIDATE_SCOPES=n}catch{}}};if(typeof o=="function")try{const n=o(r);if(Array.isArray(n))return n}catch{}return Gc(t)})();hn&&(hn.CORE_RUNTIME_CANDIDATE_SCOPES_RESOLVED=of,typeof window<"u"&&(window.CORE_RUNTIME_CANDIDATE_SCOPES_RESOLVED=of));const dS=Gc,fS={powerDrawWatts:"Power (W)",capacity:"Capacity (Wh)",pinA:"Pin A",dtapA:"D-Tap A",mount_type:"Mount",screenSizeInches:"Screen Size (in)",brightnessNits:"Brightness (nits)",torqueNm:"Torque (Nm)",internalController:"Internal Controller",powerSource:"Power Source",batteryType:"Battery Type",connectivity:"Connectivity"};function fg(e){if(e===null)return"null";if(typeof e>"u")return"undefined";if(Array.isArray(e)){let t="[";for(let o=0;o<e.length;o+=1)o>0&&(t+=","),t+=fg(e[o]);return t+="]",t}if(typeof e=="object"&&e){const t=Object.keys(e).sort();let o="{";for(let r=0;r<t.length;r+=1){const n=t[r];r>0&&(o+=","),o+=`${JSON.stringify(n)}:${fg(e[n])}`}return o+="}",o}return JSON.stringify(e)}function BO(e){return e&&Object.prototype.hasOwnProperty.call(fS,e)?fS[e]:(typeof e=="string"?e:String(e||"")).replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,o=>o.toUpperCase())}function xh(e,t,o){const r=[];e&&(typeof e=="object"||typeof e=="function")&&r.push(e),t&&(typeof t=="object"||typeof t=="function")&&r.push(t),o&&(typeof o=="object"||typeof o=="function")&&r.push(o),r.push(typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null);const n=[];for(let a=0;a<r.length;a+=1){const l=r[a];if(!l||typeof l!="object"&&typeof l!="function")continue;let s=!1;for(let u=0;u<n.length;u+=1)if(n[u]===l){s=!0;break}s||n.push(l)}return n}function pg(e){return e&&typeof e=="object"&&e.texts&&typeof e.texts=="object"&&e.texts.en&&typeof e.texts.en=="object"?e.texts.en:{}}function ol(e){if(typeof e!="string")return"greater";const t=e.trim().toLowerCase();return!t||t===">"||t==="gt"||t==="greaterthan"||t==="above"||t==="over"?"greater":t==="<"||t==="lt"||t==="lessthan"||t==="below"||t==="under"?"less":t==="="||t==="=="||t==="equal"||t==="equals"||t==="exactly"||t==="match"||t==="matches"?"equal":"greater"}function mg(e){if(typeof e=="number"&&Number.isFinite(e)){const t=Math.round(e);return t>=0?t:null}if(typeof e=="string"){const t=e.trim();if(!t)return null;const o=t.replace(/[^0-9.,-]/g,"").replace(/,/g,".");if(!o)return null;const r=Number.parseFloat(o);if(!Number.isFinite(r))return null;const n=Math.round(r);return n>=0?n:null}return null}function rf(e){if(!Number.isFinite(e))return"";try{if(typeof Intl<"u"&&typeof Intl.NumberFormat=="function")return new Intl.NumberFormat().format(e)}catch{}return String(e)}function MO(e,t){return function(r,n){const a=n||{},l=t(),s=e(r);return s==="less"?a.autoGearCameraWeightOperatorLess||l.autoGearCameraWeightOperatorLess||"Lighter than":s==="equal"?a.autoGearCameraWeightOperatorEqual||l.autoGearCameraWeightOperatorEqual||"Exactly":a.autoGearCameraWeightOperatorGreater||l.autoGearCameraWeightOperatorGreater||"Heavier than"}}function _O(e,t){return function(r,n){if(!r||!Number.isFinite(r.value))return"";const a=t(r.operator,n),l=e(r.value);return a?`${a} ${l} g`:`${l} g`}}function DO(e){const t=e||{},o=t.coreShared&&typeof t.coreShared=="object"?t.coreShared:null,r=t.globalScope&&typeof t.globalScope=="object"?t.globalScope:null,n=function(){return pg(r||vo())},a=o&&typeof o.normalizeAutoGearWeightOperator=="function"?function(I){try{return o.normalizeAutoGearWeightOperator(I)||ol(I)}catch{}return ol(I)}:ol,l=o&&typeof o.normalizeAutoGearWeightValue=="function"?function(I){try{const m=o.normalizeAutoGearWeightValue(I);if(typeof m=="number"||m===null)return m}catch{}return mg(I)}:mg,s=o&&typeof o.normalizeAutoGearCameraWeightCondition=="function"?function(I){try{return o.normalizeAutoGearCameraWeightCondition(I)||null}catch{}return null}:function(){return null},u=o&&typeof o.formatAutoGearWeight=="function"?function(I){try{const m=o.formatAutoGearWeight(I);if(typeof m=="string")return m}catch{}return rf(I)}:rf,f=MO(a,n),y=o&&typeof o.getAutoGearCameraWeightOperatorLabel=="function"?function(I,m){try{const g=o.getAutoGearCameraWeightOperatorLabel(I,m);if(typeof g=="string"&&g)return g}catch{}return f(I,m)}:f,R=_O(u,y),_=o&&typeof o.formatAutoGearCameraWeight=="function"?function(I,m){try{const g=o.formatAutoGearCameraWeight(I,m);if(typeof g=="string")return g}catch{}return R(I,m)}:R;return{normalizeAutoGearWeightOperator:a,normalizeAutoGearWeightValue:l,normalizeAutoGearCameraWeightCondition:s,formatAutoGearWeight:u,getAutoGearCameraWeightOperatorLabel:y,formatAutoGearCameraWeight:_,fallbackGetAutoGearCameraWeightOperatorLabel:f,fallbackFormatAutoGearCameraWeight:R,fallbackNormalizeAutoGearCameraWeightCondition:function(I){return null}}}function cA(e,t,o){return typeof dS=="function"?dS([e,t,o]):xh(e,t,o)}function Nh(e,t){if(!(typeof e!="string"||!e)&&!(!Array.isArray(t)||t.length===0))for(let o=0;o<t.length;o+=1){const r=t[o];if(!(!r||typeof r!="object"&&typeof r!="function"))try{if(e in r){const n=r[e];if(typeof n<"u")return n}}catch{}}}function Hh(e,t,o){if(typeof e!="string"||!e||!Array.isArray(o)||o.length===0)return!1;for(let r=0;r<o.length;r+=1){const n=o[r];if(!(!n||typeof n!="object"&&typeof n!="function")){try{return n[e]=t,!0}catch{}try{return Object.defineProperty(n,e,{configurable:!0,writable:!0,value:t}),!0}catch{}}}return!1}function uA(e,t,o){const r=Nh(e,o);if(typeof r<"u")return r;const n=typeof t=="function"?t():t;return Hh(e,n,o),n}function FO(e){const t=e||{},o=vo(),r=typeof t.runtimeScope<"u"?t.runtimeScope:o&&o.CORE_PART2_RUNTIME_SCOPE||null,n=typeof t.sharedScope<"u"?t.sharedScope:o&&o.CORE_SHARED_SCOPE_PART2||null,a=typeof t.globalScope<"u"?t.globalScope:o&&o.CORE_GLOBAL_SCOPE||null;let l=cA(r,n,a);const s=t.resolveSupportModule,u=typeof s=="function"?s:null;let f=null;if(u)try{const T=u("cineCoreAppRuntimeScopeBridge","./modules/app-core/runtime.js");T&&typeof T=="object"&&typeof T.createRuntimeScopeBridge=="function"&&(f=T.createRuntimeScopeBridge({primaryScope:r,additionalScopes:[n,a]}))}catch{}f&&typeof f=="object"&&Array.isArray(f.candidates)&&f.candidates.length>0&&(l=f.candidates);function y(T){return Nh(T,l)}function R(T,I){return Hh(T,I,l)}function _(T,I){return uA(T,I,l)}return{runtimeScopeBridge:f,runtimeScopeCandidates:l,readCoreScopeValue:f&&typeof f.readValue=="function"?f.readValue:y,writeCoreScopeValue:f&&typeof f.writeValue=="function"?f.writeValue:R,declareCoreFallbackBinding:f&&typeof f.declareFallbackBinding=="function"?f.declareFallbackBinding:_,fallbackReadCoreScopeValue:y,fallbackWriteCoreScopeValue:R,fallbackDeclareCoreFallbackBinding:_}}function pS(e,t){return function(r,n){const a=n||{},l=t(),s=e(r);return s==="less"?a.autoGearCameraWeightOperatorLess||l.autoGearCameraWeightOperatorLess||"Lighter than":s==="equal"?a.autoGearCameraWeightOperatorEqual||l.autoGearCameraWeightOperatorEqual||"Exactly":a.autoGearCameraWeightOperatorGreater||l.autoGearCameraWeightOperatorGreater||"Heavier than"}}function xO(e,t){return function(r,n){if(!r||!Number.isFinite(r.value))return"";const a=t(r.operator,n),l=e(r.value);return a?`${a} ${l} g`:`${l} g`}}var dA=(function(){let t=null;if(typeof resolveCoreSupportModule=="function")try{const o=resolveCoreSupportModule("cineCorePart2RuntimeHelpers","./modules/app-core/runtime.js");o&&typeof o=="object"&&(t=o)}catch{}return t&&typeof t=="object"?t:{resolveAutoGearWeightHelpers:DO,resolveRuntimeScopeTools:FO,fallbackStableStringify:fg,fallbackHumanizeKey:BO,fallbackNormalizeAutoGearWeightOperator:ol,fallbackNormalizeAutoGearWeightValue:mg,fallbackFormatAutoGearWeight:rf,fallbackNormalizeAutoGearCameraWeightCondition:function(r){return null},fallbackGetAutoGearCameraWeightOperatorLabel:pS(ol,function(){return pg(typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null)}),fallbackFormatAutoGearCameraWeight:xO(rf,pS(ol,function(){return pg(typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null)})),fallbackCreateRuntimeScopeCandidates:cA,fallbackReadCoreScopeValue:Nh,fallbackWriteCoreScopeValue:Hh,fallbackDeclareCoreFallbackBinding:uA}})();(function(t){if(!t||typeof t!="object")return;const o=xh(typeof CORE_PART2_RUNTIME_SCOPE<"u"?CORE_PART2_RUNTIME_SCOPE:null,typeof CORE_SHARED_SCOPE_PART2<"u"?CORE_SHARED_SCOPE_PART2:null,typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null);for(let r=0;r<o.length;r+=1){const n=o[r];if(!(!n||typeof n!="object"&&typeof n!="function"))try{const a=n.cineCorePart2RuntimeHelpers;if(a&&typeof a=="object"){if(typeof Object.assign=="function")Object.assign(a,t);else for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);continue}n.cineCorePart2RuntimeHelpers=t}catch{}}})(dA);(function(t){if(!t||typeof t!="object")return;const o=xh(typeof CORE_PART2_RUNTIME_SCOPE<"u"?CORE_PART2_RUNTIME_SCOPE:null,typeof CORE_SHARED_SCOPE_PART2<"u"?CORE_SHARED_SCOPE_PART2:null,typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null);for(let r=0;r<o.length;r+=1){const n=o[r];if(!(!n||typeof n!="object"&&typeof n!="function"))try{if(n.cineCoreShared&&typeof n.cineCoreShared=="object"){const a=n.cineCoreShared.cineCoreRuntimeHelpers;!a||typeof a!="object"?n.cineCoreShared.cineCoreRuntimeHelpers=t:typeof Object.assign=="function"&&Object.assign(a,t)}}catch{}}})(dA);function NO(){const e=vo(),t=[e];typeof window<"u"&&t.push(window),typeof self<"u"&&t.push(self);for(const r of t)if(r&&r.CORE_RUNTIME_SHARED_NAMESPACE_TOOLS)return r.CORE_RUNTIME_SHARED_NAMESPACE_TOOLS;const o=Ec("cineCoreAppRuntimeSharedNamespace");if(e)try{typeof e.CORE_RUNTIME_SHARED_NAMESPACE_TOOLS>"u"&&(e.CORE_RUNTIME_SHARED_NAMESPACE_TOOLS=o)}catch{}return o}const fA=NO(),pA=Ec("cineCoreAppRuntimeSharedBootstrap"),HO=Ec("cineCoreAppRuntimeSharedBootstrapResolver");function mS(e){return{runtimeSharedNamespace:{},runtimeSharedResolver:null,existingRuntimeShared:null,runtimeShared:{},fallbackResolveRuntimeSharedFromGlobal:()=>null}}function jO(e={}){const{APP_CORE_BOOTSTRAP_TOOLS:t,APP_CORE_BOOTSTRAP_FALLBACK_TOOLS:o,APP_CORE_BOOTSTRAP_SUITE:r,APP_CORE_BOOTSTRAP_RESULTS_TOOLS:n,CORE_RUNTIME_SHARED:a}=e,l={bootstrapTools:t,bootstrapFallbackTools:o,runtimeSharedBootstrapResolverTools:HO,runtimeSharedBootstrapTools:pA,runtimeSharedNamespaceTools:fA,resolveCoreSupportModule:Ec,requireFn:null,runtimeScope:vo(),coreGlobalScope:vo(),currentRuntimeShared:a,fallbackScopes:[],collectFallbackScopes:()=>[],createInlineRuntimeSharedFallback:mS,runtimeSharedBootstrapInlineRequirePath:null,runtimeSharedBootstrapResultRequirePath:null};if(r?.createRuntimeSharedBootstrapResult)try{return r.createRuntimeSharedBootstrapResult(l)}catch{}if(n?.resolveRuntimeSharedBootstrapResult)try{return n.resolveRuntimeSharedBootstrapResult(l)}catch{}if(t?.createRuntimeSharedBootstrapResult)try{return t.createRuntimeSharedBootstrapResult(l)}catch{}if(t?.createRuntimeSharedBootstrapFallback)try{return t.createRuntimeSharedBootstrapFallback(l)}catch{}return mS()}var UO=fA,zO=pA,bo=jO({APP_CORE_BOOTSTRAP_TOOLS:Vi,APP_CORE_BOOTSTRAP_FALLBACK_TOOLS:iC,APP_CORE_BOOTSTRAP_SUITE:$o,APP_CORE_BOOTSTRAP_RESULTS_TOOLS:IG,CORE_RUNTIME_SHARED:typeof Za<"u"?Za:null}),VO=bo&&bo.runtimeSharedNamespace?bo.runtimeSharedNamespace:null,yg=bo&&typeof bo.runtimeSharedResolver=="function"?bo.runtimeSharedResolver:null,ts=(bo&&bo.existingRuntimeShared&&typeof bo.existingRuntimeShared=="object"?bo.existingRuntimeShared:null)||(typeof Za<"u"&&Za?Za:null),qO=bo&&typeof bo.fallbackResolveRuntimeSharedFromGlobal=="function"?bo.fallbackResolveRuntimeSharedFromGlobal:function(){return null},Za=(bo&&bo.runtimeShared&&typeof bo.runtimeShared=="object"?bo.runtimeShared:null)||(ts&&typeof ts=="object"?ts:null)||(yg?(function(){try{const t=yg({currentShared:ts,resolveCoreSupportModule:$r,requireFn:typeof require=="function"?require:null,runtimeScope:typeof CORE_PART1_RUNTIME_SCOPE<"u"?CORE_PART1_RUNTIME_SCOPE:null,coreGlobalScope:typeof CORE_GLOBAL_SCOPE<"u"?CORE_GLOBAL_SCOPE:null});if(t&&typeof t=="object")return t}catch{}return null})():null)||qO()||Object.create(null);typeof window<"u"&&(window.CORE_RUNTIME_SHARED_NAMESPACE_TOOLS=UO,window.RUNTIME_SHARED_BOOTSTRAP_TOOLS=zO,window.CORE_RUNTIME_SHARED_NAMESPACE=VO,window.CORE_RUNTIME_SHARED_RESOLVER=yg,window.EXISTING_CORE_RUNTIME_SHARED=ts,window.CORE_RUNTIME_SHARED=Za,window.cineCoreRuntimeShared=Za);function WO(){return typeof WeakSet=="function"?new WeakSet:[]}function KO(e,t){if(!t||!e)return!1;if(typeof e.has=="function")try{return e.has(t)}catch{return!1}if(Array.isArray(e)){for(let o=0;o<e.length;o++)if(e[o]===t)return!0}return!1}function $O(e,t){if(!(!t||!e)){if(typeof e.add=="function"){try{e.add(t)}catch{}return}if(Array.isArray(e)){for(let o=0;o<e.length;o++)if(e[o]===t)return;e.push(t)}}}function Vn(e,t){const o=Array.isArray(t)&&t.length>0?t:Ca();for(let r=0;r<o.length;r++){const n=o[r];if(!(!n||typeof n!="object"))try{if(e in n)return n[e]}catch{}}}function YO(e,t,o){const r=Array.isArray(o)&&o.length>0?o:Ca();for(let n=0;n<r.length;n++){const a=r[n];if(!(!a||typeof a!="object"))try{return a[e]=t,!0}catch{}}return!1}function Jo(e,t,o){const r=typeof t=="function"?t:()=>t,n=Array.isArray(o)&&o.length>0?o:Ca();for(let a=0;a<n.length;a++){const l=n[a];if(!(!l||typeof l!="object"))try{return typeof l[e]>"u"&&(l[e]=r()),l[e]}catch{}}try{return r()}catch{return}}function mA(e,t,o,r){const n=typeof o=="function"?o:()=>o,a=Array.isArray(r)&&r.length>0?r:Ca();for(let l=0;l<a.length;l++){const s=a[l];if(!(!s||typeof s!="object"))try{t(s[e])||(s[e]=n())}catch{}}}const QO={autoGearAutoPresetId:()=>"",baseAutoGearRules:()=>[],autoGearScenarioModeSelect:()=>null,autoGearRuleNameInput:()=>null,autoGearSummaryFocus:()=>"all",autoGearMonitorDefaultControls:()=>[],safeGenerateConnectorSummary:()=>()=>"",totalPowerElem:()=>null};function XO(e,t){const o=QO[t];if(typeof o!="function")return;const r=o();if(typeof e[t]>"u")try{e[t]=r}catch{try{Object.defineProperty(e,t,{configurable:!0,writable:!0,enumerable:!1,value:r})}catch{}}try{const n=e&&e.Function||Function;if(typeof n=="function"){const a=n("value","if (typeof "+t+" === 'undefined') { var "+t+" = value; } else { "+t+` = value; }
           return `+t+";"),l=typeof e[t]>"u"?r:e[t];a(l)}}catch{}}function np(){return function(t){if(!t||typeof t!="object")return"";if(typeof globalThis.generateConnectorSummary=="function")try{return globalThis.generateConnectorSummary(t)}catch(o){typeof console<"u"&&typeof console.warn=="function"&&console.warn("generateConnectorSummary failed, using fallback",o)}typeof console<"u"&&typeof console.warn=="function"&&console.warn("Using fallback connector summary generator. Core bindings may have failed to initialise.");try{const o=Object.keys(t);if(!o.length)return"";const r=o[0],n=t[r],a=typeof r=="string"?r.replace(/_/g," "):"connector";return n?`${a}: ${n}`:a}catch{return""}}}let yS=!1;function ZO(e){const t=[],o=Vn("safeGenerateConnectorSummary");typeof o=="function"&&t.push(o);const r=Vn("CORE_SHARED");r&&typeof r.safeGenerateConnectorSummary=="function"&&t.push(r.safeGenerateConnectorSummary),t.push(np());for(const n of t)try{const a=n(e);if(typeof a=="string")return a;if(a==null)continue;return String(a)}catch(a){yS||(yS=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn("Failed to generate connector summary. Falling back.",a))}return""}const JO={},ap={formatCoordinate:cR,positionMarkup:uR,resolveGlyph:sR,applyGlyph:dR};function ek(e){var t=[],o=typeof Set=="function"?new Set:null;function r(a){if(!(!a||typeof a!="object"&&typeof a!="function")){if(o){if(o.has(a))return;o.add(a),t.push(a);return}t.indexOf(a)===-1&&t.push(a)}}if(Array.isArray(e))for(var n=0;n<e.length;n+=1)try{r(e[n])}catch{}return Object.freeze({getScopes:function(){return t.slice()},getPrimaryScope:function(){return t.length>0?t[0]:null},ensureValue:function(l,s){var u=typeof s=="function"?s:function(){return s};if(typeof l!="string"||!l)try{return u()}catch{return}for(var f=0;f<t.length;f+=1){var y=t[f];if(!(!y||typeof y!="object"&&typeof y!="function"))try{return typeof y[l]>"u"&&(y[l]=u()),y[l]}catch{}}try{return u()}catch{return}},normaliseValue:function(l,s,u){for(var f=typeof u=="function"?u:function(){return u},y=0;y<t.length;y+=1){var R=t[y];if(!(!R||typeof R!="object"&&typeof R!="function"))try{s(R[l])||(R[l]=f())}catch{}}}})}function tk(){if(typeof cineCoreRuntimeModuleLoader<"u"&&cineCoreRuntimeModuleLoader&&typeof cineCoreRuntimeModuleLoader=="object")return cineCoreRuntimeModuleLoader;const e=vo();return e&&e.cineCoreRuntimeModuleLoader&&typeof e.cineCoreRuntimeModuleLoader=="object"?e.cineCoreRuntimeModuleLoader:null}function ok(e,t){const o=tk();if(o&&typeof o.resolveCoreRuntimeModule=="function")try{return o.resolveCoreRuntimeModule(e,t)}catch{}return null}(function(){const t=Ca();let o=null;for(const r of t)if(r&&r.ICON_GLYPHS&&typeof r.ICON_GLYPHS=="object"){o=r.ICON_GLYPHS;break}o||(o={});for(const r of t)Jo("ICON_GLYPHS",()=>o,[r])})();var yA=(function(){let t=null;return typeof $r=="function"&&(t=$r("cineRuntimeEnvironmentHelpers","./modules/runtime-environment-helpers.js")),t||(t=Vn("cineRuntimeEnvironmentHelpers"),t)})(),Xe=(function(){if(typeof Xe<"u"&&Xe)return Xe;let t=null;return typeof $r=="function"&&(t=$r("cineCoreRuntimeShared","./app-core-runtime-shared.js")),t||(t=Vn("cineCoreRuntimeShared")),t})();function gA(e){if(Xe&&typeof Xe.collectCandidateScopes=="function")try{const t=Xe.collectCandidateScopes(e,yA);if(Array.isArray(t))return t}catch{}return Ca(e)}var xc=(function(){if(typeof xc<"u"&&xc&&Array.isArray(xc))return xc;const t=gA();if(Xe&&typeof Xe.syncCandidateScopes=="function")try{Xe.syncCandidateScopes(t,vo(),yA)}catch{}else Jo("CORE_RUNTIME_CANDIDATE_SCOPES",t);return t})(),lr=(function(){let t=Vn("CORE_RUNTIME_STATE_SUPPORT");if(t||(t=Vn("cineCoreRuntimeState")),t)return t;if(typeof $r=="function"&&(t=$r("cineCoreRuntimeState","./modules/core/runtime-state.js")),!t){const o=ok("modules/core/runtime-state.js");o&&typeof o=="object"&&(t=o)}return t&&Jo("CORE_RUNTIME_STATE_SUPPORT",t),t})(),nf={queueKey:"__cinePendingTemperatureNote",renderName:"renderTemperatureNote"};if(lr&&typeof lr.resolveTemperatureKeyDefaults=="function")try{const e=lr.resolveTemperatureKeyDefaults();e&&(e.queueKey&&(nf.queueKey=e.queueKey),e.renderName&&(nf.renderName=e.renderName))}catch{}const Ys=nf.queueKey,ip=nf.renderName;var af=(function(){if(lr){if(typeof lr.ensureSafeFreezeRegistry=="function")return lr.ensureSafeFreezeRegistry();if(typeof lr.createSafeFreezeRegistry=="function")return lr.createSafeFreezeRegistry()}return WO()})();function rk(e){if(lr&&typeof lr.hasSafeFreezeEntry=="function")try{return lr.hasSafeFreezeEntry(af,e)}catch{}return KO(af,e)}function nk(e){if(lr&&typeof lr.registerSafeFreezeEntry=="function")try{return lr.registerSafeFreezeEntry(af,e)}catch{}return $O(af,e)}XO(vo(),"autoGearAutoPresetId");Jo("baseAutoGearRules",()=>[]);Jo("autoGearScenarioModeSelect",null);Jo("createFallbackSafeGenerateConnectorSummary",function(){return np});Jo("safeGenerateConnectorSummary",function(){return np()});Jo("readGlobalScopeValue",()=>Vn);mA("baseAutoGearRules",e=>Array.isArray(e),()=>[]);mA("safeGenerateConnectorSummary",e=>typeof e=="function",()=>np());Jo("ICON_FONT_KEYS",()=>iE());Jo("iconGlyph",function(){const t=iE().UICONS||"uicons";return function(r,n){return Object.freeze({char:typeof r=="string"?r:"",font:n&&typeof n=="string"?n:t})}});Jo("resolveIconGlyph",()=>JO.resolveIconGlyph);Jo("resolveIconGlyph",()=>ap.resolveGlyph);Jo("formatSvgCoordinate",()=>ap.formatCoordinate);Jo("positionSvgMarkup",function(){return ap.positionMarkup});Jo("applyIconGlyph",function(){return ap.applyGlyph});function lp(e){return Vn(e)}lp("autoGearAutoPresetId");lp("baseAutoGearRules");lp("autoGearScenarioModeSelect");lp("safeGenerateConnectorSummary");const Zn=vo();Zn&&(Zn.coreSafeFreezeRegistryHas=rk,Zn.coreSafeFreezeRegistryAdd=nk,Zn.generateSafeConnectorSummary=ZO,Zn.readGlobalScopeValue=Vn,Zn.writeGlobalScopeValue=YO,Zn.collectEnvironmentRuntimeCandidateScopes=gA,Zn.createLocalRuntimeStateFallback=ek);const os={_cache:{},getElement:function(e){if(this._cache[e])return this._cache[e];if(typeof document<"u"){const t=document.getElementById(e);if(t)return this._cache[e]=t,t}return null},clear:function(){this._cache={}}},ak=["toggleDeviceManager","device-manager","saveSetupBtn","setupName","deleteSetupBtn","addDeviceBtn","cancelEditBtn","languageSelect","skipLink","importDataBtn","importFileInput","exportDataBtn","generateGearListBtn","deleteGearListProjectBtn","gearItemEditExtra","newSubcategory","newCategory","subcategoryField","lensFocusScaleUnit","newName","newWatt","newCapacity","newPinA","newDtapA","menuToggle","darkModeToggle","pinkModeToggle","settingsButton","helpButton","reloadButton","closeMenuButton","openContactsBtn","shareSetupBtn","applySharedLinkBtn","generateOverviewBtn","runtimeFeedbackBtn","zoomOut","zoomIn","resetView","gridSnapToggle","accentColorReset","localFontsButton","documentationTrackerAddRelease","mountVoltageReset","autoGearSavePreset","autoGearDeletePreset","autoGearBackupRestore","autoGearAddRule","autoGearResetFactory","autoGearHighlightToggle","closePrintPreviewBtn","printPreviewExportBtn","printPreviewPrintBtn","cameraWatt","monitorWatt","viewfinderWatt","cameraVoltage","cameraPortType","monitorScreenSize","monitorBrightness","monitorVoltage","monitorPortType","monitorLatency","monitorAudioOutput","viewfinderScreenSize","viewfinderBrightness","viewfinderVoltage","viewfinderPortType","viewfinderLatency","batteryFields","cameraFields","monitorFields","viewfinderFields","videoFields","motorFields","controllerFields","distanceFields","lensFields","wattField","dynamicFields"];ak.forEach(function(e){Object.defineProperty(os,e,{get:function(){return this.getElement(e)},enumerable:!0,configurable:!0})});typeof globalThis<"u"?globalThis.cineUiCache=os:typeof window<"u"?window.cineUiCache=os:typeof self<"u"?self.cineUiCache=os:typeof global<"u"&&(global.cineUiCache=os);function ik(){return typeof CORE_GLOBAL_SCOPE<"u"&&CORE_GLOBAL_SCOPE&&typeof CORE_GLOBAL_SCOPE=="object"?CORE_GLOBAL_SCOPE:typeof globalThis<"u"&&globalThis&&typeof globalThis=="object"?globalThis:typeof window<"u"&&window&&typeof window=="object"?window:typeof self<"u"&&self&&typeof self=="object"?self:typeof global<"u"&&global&&typeof global=="object"?global:null}const Nr=ik();function lk(e){let t=null;return typeof iconMarkup=="function"?t=iconMarkup:Nr&&typeof Nr.iconMarkup=="function"&&(t=Nr.iconMarkup),ME(e,t)}function sk(e,t,o){let r=o;typeof r>"u"&&typeof ICON_GLYPHS=="object"&&ICON_GLYPHS&&ICON_GLYPHS.save&&(r=ICON_GLYPHS.save);let n=null;return typeof iconMarkup=="function"?n=iconMarkup:Nr&&typeof Nr.iconMarkup=="function"&&(n=Nr.iconMarkup),nG(e,t,r,n)}if(Nr){const e=Nr.cineCoreUiHelpers&&typeof Nr.cineCoreUiHelpers=="object"?Nr.cineCoreUiHelpers:{};e.escapeHtml=Kg,e.escapeButtonLabelSafely=zs,e.resolveButtonIconMarkup=lk,e.setButtonLabelWithIcon=sk,e.whenElementAvailable=aG;try{Nr.cineCoreUiHelpers=e}catch{}}function ck(){return typeof CORE_GLOBAL_SCOPE<"u"&&CORE_GLOBAL_SCOPE&&typeof CORE_GLOBAL_SCOPE=="object"?CORE_GLOBAL_SCOPE:typeof globalThis<"u"&&globalThis&&typeof globalThis=="object"?globalThis:typeof window<"u"&&window&&typeof window=="object"?window:typeof self<"u"&&self&&typeof self=="object"?self:typeof global<"u"&&global&&typeof global=="object"?global:null}const Pl=ck();if(Pl){const e=Pl.cineCoreTextEntries&&typeof Pl.cineCoreTextEntries=="object"?Pl.cineCoreTextEntries:{};e.TEXT_ENTRY_SEPARATOR=js,e.normaliseTextEntryValue=Us,e.resolveTextEntry=BE;try{Pl.cineCoreTextEntries=e}catch{}}const be=vo(),hA=vo(),uk=function(e){return Ca(hA,e)};be&&(typeof be.collectRuntimeScopeCandidates>"u"&&(be.collectRuntimeScopeCandidates=uk),typeof be.CORE_RUNTIME_PRIMARY_SCOPE_CANDIDATE>"u"&&(be.CORE_RUNTIME_PRIMARY_SCOPE_CANDIDATE=hA));console.log("DEBUG: app-core-new-1.js STARTING");typeof window<"u"&&(window.__APP_CORE_STARTED=!0);function zp(e){return{count:0}}(function(){typeof window<"u"&&(window.ensureSvgHasAriaHidden||(window.ensureSvgHasAriaHidden=function(e){return e}))})();const hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{};var fo=hr;typeof hr.CORE_PART1_RUNTIME_SCOPE>"u"&&(hr.CORE_PART1_RUNTIME_SCOPE=fo);var dk=hr;typeof hr.CORE_PART2_RUNTIME_SCOPE>"u"&&(hr.CORE_PART2_RUNTIME_SCOPE=dk);var za=hr;typeof hr.CORE_RUNTIME_PRIMARY_SCOPE_CANDIDATE>"u"&&(hr.CORE_RUNTIME_PRIMARY_SCOPE_CANDIDATE=za);var bA=hr.AppCore||{};hr.AppCore=bA;var fk=hr.localization||{};hr.localization=fk;let We=typeof window<"u"?window.devices:void 0,i=typeof window<"u"?window.texts:void 0;const SA=Gc;function Qs(e){if(typeof window<"u"&&typeof window[e]=="function")return window[e];const t=typeof globalThis<"u"&&globalThis.AUTO_GEAR_UI_HELPERS||typeof window<"u"&&window.AUTO_GEAR_UI_HELPERS||null;if(t&&typeof t[e]=="function")return t[e]}function Or(e){if(typeof window<"u"&&typeof window[e]=="function")return window[e];const t=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||{};if(typeof t[e]=="function")return t[e];const o=t.AUTO_GEAR_NORMALIZER_EXPORTS;if(o&&typeof o[e]=="function")return o[e]}function Wn(e){if(typeof window<"u"&&typeof window[e]=="function")return window[e];const t=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||{};if(typeof t[e]=="function")return t[e];const o=vA();if(o){const n=mk[e]||e;if(typeof o[n]=="function")return o[n].bind(o)}const r=t.AUTO_GEAR_STORAGE_EXPORTS;if(r&&typeof r[e]=="function")return r[e]}const pk="cineAutoGearPersistence",mk={readAutoGearRulesFromStorage:"readAutoGearRules",readAutoGearBackupsFromStorage:"readAutoGearBackups",readAutoGearPresetsFromStorage:"readAutoGearPresets",readAutoGearMonitorDefaultsFromStorage:"readAutoGearMonitorDefaults",readActiveAutoGearPresetIdFromStorage:"readActivePresetId",readAutoGearAutoPresetIdFromStorage:"readAutoPresetId",readAutoGearBackupVisibilityFromStorage:"readBackupVisibility",readAutoGearBackupRetentionFromStorage:"readBackupRetention",persistAutoGearPresets:"persistAutoGearPresets",persistAutoGearMonitorDefaults:"persistAutoGearMonitorDefaults",persistActiveAutoGearPresetId:"persistActivePresetId",persistAutoGearAutoPresetId:"persistAutoPresetId",persistAutoGearBackupVisibility:"persistBackupVisibility",persistAutoGearBackupRetention:"persistBackupRetention",persistAutoGearBackups:"persistAutoGearBackups"};function vA(){const e=[];typeof globalThis<"u"&&e.push(globalThis),typeof window<"u"&&e.push(window),typeof self<"u"&&e.push(self),typeof global<"u"&&e.push(global);for(let t=0;t<e.length;t+=1){const o=e[t];if(!o||typeof o!="object"&&typeof o!="function")continue;if(o.cineAutoGearPersistence)return o.cineAutoGearPersistence;const r=o.cineModules;if(r&&typeof r.get=="function"){const n=r.get(pk);if(n)return n}}return null}function yk(e){return function(t){if(typeof Ne=="function")return Ne(e,[t],{defer:!0})}}let Ar=Qs("createDeferredAutoGearRefresher")||yk,EA=Qs("focusAutoGearConditionPicker")||function(){},jh=Qs("configureAutoGearConditionButtons")||function(){},CA=typeof window<"u"&&window.AUTO_GEAR_MONITOR_DEFAULT_LABEL_KEYS||typeof globalThis<"u"&&globalThis.AUTO_GEAR_MONITOR_DEFAULT_LABEL_KEYS||{},ci=typeof window<"u"&&window.AUTO_GEAR_MONITOR_DEFAULT_TYPES||typeof globalThis<"u"&&globalThis.AUTO_GEAR_MONITOR_DEFAULT_TYPES||{"on-camera":"On-Camera",director:"Director","video-village":"Video Village",wireless:"Wireless"};function zt(e,t,o){const r=(...n)=>{const a=t(e);return a&&a!==r&&typeof a=="function"?a(...n):o(...n)};return r}const AA=zt("normalizeAutoGearTriggerValue",Or,e=>typeof e=="string"?e.trim():""),gk=zt("normalizeAutoGearScenarioLogic",Or,e=>e==="any"||e==="multiplier"?e:"all"),hk=zt("normalizeAutoGearScenarioPrimary",Or,e=>typeof e=="string"?e.trim():""),bk=zt("normalizeAutoGearScenarioMultiplier",Or,e=>{const t=Number(e);return Number.isFinite(t)&&t>0?t:1}),Xs=zt("normalizeAutoGearSelectorType",Or,e=>typeof e=="string"?e.trim():"none"),Uh=zt("normalizeAutoGearSelectorDefault",Or,(e,t)=>typeof t=="string"?t.trim():""),zh=zt("normalizeAutoGearMonitorDefaults",Or,e=>({focus:"",handheld7:"",combo15:"",director15:""})),wA=zt("normalizeAutoGearRule",Or,e=>e),Sk=zt("normalizeAutoGearPreset",Or,e=>e),vk=zt("normalizeAutoGearItem",Or,e=>e),RA=zt("normalizeAutoGearConditionLogic",Or,e=>e),LA=zt("normalizeAutoGearShootingDaysCondition",Or,e=>e),Zs=zt("readAutoGearRulesFromStorage",Wn,()=>[]),Js=zt("readAutoGearBackupRetentionFromStorage",Wn,()=>0),ec=zt("readAutoGearBackupsFromStorage",Wn,e=>[]),tc=zt("readAutoGearPresetsFromStorage",Wn,()=>[]),oc=zt("readActiveAutoGearPresetIdFromStorage",Wn,()=>null),rc=zt("readAutoGearAutoPresetIdFromStorage",Wn,()=>""),nc=zt("readAutoGearBackupVisibilityFromStorage",Wn,()=>!1),ac=zt("readAutoGearMonitorDefaultsFromStorage",Wn,()=>({})),gg=zt("persistAutoGearBackupRetention",Wn,e=>{});typeof globalThis<"u"&&(globalThis.createDeferredAutoGearRefresher=Ar,globalThis.focusAutoGearConditionPicker=EA,globalThis.configureAutoGearConditionButtons=jh,globalThis.AUTO_GEAR_MONITOR_DEFAULT_LABEL_KEYS=CA,globalThis.AUTO_GEAR_MONITOR_DEFAULT_TYPES=ci,globalThis.normalizeAutoGearTriggerValue=AA,globalThis.normalizeAutoGearScenarioLogic=gk,globalThis.normalizeAutoGearScenarioPrimary=hk,globalThis.normalizeAutoGearScenarioMultiplier=bk,globalThis.normalizeAutoGearSelectorType=Xs,globalThis.normalizeAutoGearSelectorDefault=Uh,globalThis.normalizeAutoGearMonitorDefaults=zh,globalThis.normalizeAutoGearRule=wA,globalThis.normalizeAutoGearPreset=Sk,globalThis.normalizeAutoGearItem=vk,globalThis.normalizeAutoGearConditionLogic=RA,globalThis.normalizeAutoGearShootingDaysCondition=LA,globalThis.readAutoGearRulesFromStorage=Zs,globalThis.readAutoGearBackupRetentionFromStorage=Js,globalThis.readAutoGearBackupsFromStorage=ec,globalThis.readAutoGearPresetsFromStorage=tc,globalThis.readActiveAutoGearPresetIdFromStorage=oc,globalThis.readAutoGearAutoPresetIdFromStorage=rc,globalThis.readAutoGearBackupVisibilityFromStorage=nc,globalThis.readAutoGearMonitorDefaultsFromStorage=ac,globalThis.persistAutoGearBackupRetention=gg,globalThis.ensureGearListActions=zt("ensureGearListActions",Qs,()=>{}),globalThis.setInstallBannerOffset=zt("setInstallBannerOffset",Qs,()=>{}));var GA=typeof cineLocale<"u"&&cineLocale&&typeof cineLocale.resolveDocumentDirection=="function"?cineLocale.resolveDocumentDirection:function(t){return"ltr"};const wr=typeof cineLocale<"u"&&cineLocale&&typeof cineLocale.applyLocaleMetadata=="function"?cineLocale.applyLocaleMetadata:function(t,o,r){},Ek=(function(){if(typeof require=="function")try{const r=require("./runtime/bootstrap.js");if(r&&typeof r=="object")return r}catch{}const t=[];function o(r){!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)}o(typeof be=="object"&&be?be:null),typeof globalThis<"u"&&o(globalThis),typeof window<"u"&&o(window),typeof self<"u"&&o(self),typeof global<"u"&&o(global);for(let r=0;r<t.length;r+=1){const n=t[r];try{const a=n&&n.cineRuntimeBootstrapExports;if(a&&typeof a=="object")return a}catch{}}return null})(),Ck=[],{fallbackResolveRuntimeModuleLoader:Ak=function(){return null},fallbackRequireCoreRuntimeModule:hg=function(){return null},exposeCoreRuntimeConstant:je=function(t,o){typeof window<"u"&&(window[t]=o),typeof globalThis<"u"&&(globalThis[t]=o)},exposeCoreRuntimeConstants:wk=function(){},CORE_BOOT_QUEUE_KEY:Rk="__coreRuntimeBootQueue",CORE_BOOT_QUEUE:Lk=Ck,enqueueCoreBootTask:gS,getGridSnapState:TA=function(){return"normal"},setGridSnapState:ND,applyLegacyGridSnapValue:hS}=Ek||{},bg=Lk,na=typeof gS=="function"?gS:function(t){if(typeof t=="function")try{bg.push(t)}catch{try{t()}catch{}}return bg.length},Gk=typeof hS=="function"?hS:function(t){return typeof t>"u"?TA():t},sp=[typeof be=="object"&&be,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null].filter(e=>e&&(typeof e=="object"||typeof e=="function")),bS=Object.freeze({fahrenheit:"fahrenheit",celsius:"celsius"}),{normalizeVideoType:HD,normalizeFizConnectorType:jD,normalizeViewfinderType:UD,normalizePowerPortType:zD,fixPowerInput:VD,applyFixPowerInput:qD,ensureList:WD,markDevicesNormalized:Tk,hasNormalizedDevicesMarker:KD,unifyDevices:OA,normalizeDevicesForPersistence:kA}=typeof cineDeviceNormalization<"u"?cineDeviceNormalization:typeof globalThis<"u"&&globalThis.cineDeviceNormalization||{};typeof window<"u"&&(window.normalizeDevicesForPersistence=kA);const Ok="__cineTemperatureNote",kk="__cineFocusScale",Xt=(function(){const t=sp;for(let o=0;o<t.length;o+=1){const r=t[o];try{const n=r.TEMPERATURE_UNITS;if(n&&typeof n=="object"&&typeof n.fahrenheit=="string"&&typeof n.celsius=="string")return n}catch{}}return t.forEach(o=>{try{o.TEMPERATURE_UNITS||(o.TEMPERATURE_UNITS=bS)}catch{}}),bS})();var Ik=(function(){const t=sp;for(let o=0;o<t.length;o+=1){const r=t[o];try{if(Array.isArray(r.TEMPERATURE_SCENARIOS))return r.TEMPERATURE_SCENARIOS}catch{}}return t.forEach(o=>{try{Array.isArray(o.TEMPERATURE_SCENARIOS)||(o.TEMPERATURE_SCENARIOS=[])}catch{}}),[]})();const SS=Object.freeze(["metric","imperial"]),Pk=(function(){const t=sp;for(let o=0;o<t.length;o+=1){const r=t[o];try{if(Array.isArray(r.FOCUS_SCALE_VALUES)&&r.FOCUS_SCALE_VALUES.length)return r.FOCUS_SCALE_VALUES}catch{}}return t.forEach(o=>{try{(!Array.isArray(o.FOCUS_SCALE_VALUES)||!o.FOCUS_SCALE_VALUES.length)&&(o.FOCUS_SCALE_VALUES=SS)}catch{}}),SS})();function IA(e,t){const o=sp;for(let r=0;r<o.length;r+=1){const n=o[r];try{const a=n&&n[e];if(typeof a=="number"&&Number.isFinite(a))return a}catch{}}return o.forEach(r=>{try{const n=r&&r[e];(typeof n!="number"||!Number.isFinite(n))&&(r[e]=t)}catch{}}),t}globalThis.FEEDBACK_TEMPERATURE_MIN_VALUE=IA("FEEDBACK_TEMPERATURE_MIN",-20);globalThis.FEEDBACK_TEMPERATURE_MAX_VALUE=IA("FEEDBACK_TEMPERATURE_MAX_LIMIT",50);globalThis.INSTALL_BANNER_DISMISSED_KEY="cine_install_banner_dismissed";globalThis.AUTO_GEAR_BACKUP_RETENTION_MIN_VALUE=1;const rl=(function(){const t=[];try{typeof CORE_RUNTIME_SUPPORT_EXPORTS=="object"&&CORE_RUNTIME_SUPPORT_EXPORTS&&t.push(CORE_RUNTIME_SUPPORT_EXPORTS)}catch{}try{typeof cineCoreRuntimeSupportExports<"u"&&cineCoreRuntimeSupportExports&&typeof cineCoreRuntimeSupportExports=="object"&&t.push(cineCoreRuntimeSupportExports)}catch{}for(let o=0;o<t.length;o+=1){const r=t[o];if(r&&typeof r=="object")return r}return null})(),Bk=rl&&typeof rl.resolveRuntimeModuleLoader=="function"?function(){return rl.resolveRuntimeModuleLoader()}:Ak,Mk=typeof globalThis=="object"&&globalThis&&typeof globalThis.resolveRuntimeModuleLoader=="function"?globalThis.resolveRuntimeModuleLoader:Bk;typeof globalThis=="object"&&globalThis&&typeof globalThis.resolveRuntimeModuleLoader!="function"&&(globalThis.resolveRuntimeModuleLoader=Mk);const _k=rl&&typeof rl.requireCoreRuntimeModule=="function"?function(t,o){return rl.requireCoreRuntimeModule(t,o)}:hg,cp=typeof globalThis=="object"&&globalThis&&typeof globalThis.requireCoreRuntimeModule=="function"?globalThis.requireCoreRuntimeModule:_k;typeof globalThis=="object"&&globalThis&&typeof globalThis.requireCoreRuntimeModule!="function"&&(globalThis.requireCoreRuntimeModule=cp);typeof resolveCoreSupportModule>"u"&&(window.resolveCoreSupportModule=function(e,t){if(typeof require=="function")try{return require(t)}catch{return null}return null});let Sg=typeof localizationBootstrapWiring<"u"?localizationBootstrapWiring:null;if(!Sg&&typeof require=="function")try{Sg=require("./app-core-bootstrap.js").localizationBootstrapWiring}catch{}const{localizationSupport:$D,localizationRuntimeEnvironment:YD,localizationBridge:Dk,localizationFallbacks:Fk,inlineLocalizationFallbacks:xk,localizationFallbackSupport:Nk,createBasicLocalizationFallbackResolvers:QD,localizationFallbackRegistry:Hk,localizationFallbackResolvers:jk,localizationFallbackNamespace:Uk,fallbackResolveLocaleModule:zk,createLocaleFallbacks:Vk}=Sg||{};resolveCoreSupportModule("cineCoreRuntimeTools","./modules/core/runtime-tools.js");const Vp=resolveCoreSupportModule("cineCoreRuntimeToolFallbacks","./modules/core/runtime-tool-fallbacks.js");resolveCoreSupportModule("cineCoreAppRuntimeToolInlineFallbacks","./modules/app-core/runtime.js");const qp=resolveCoreSupportModule("cineCoreAppSettingsDocumentationTracker","./modules/app-core/settings-documentation-tracker.js");let pn=typeof PINK_MODE_SUPPORT_API<"u"?PINK_MODE_SUPPORT_API:null;pn||(typeof cineCorePinkModeSupport<"u"?pn=cineCorePinkModeSupport:typeof window<"u"&&window.cineCorePinkModeSupport?pn=window.cineCorePinkModeSupport:typeof globalThis<"u"&&globalThis.cineCorePinkModeSupport&&(pn=globalThis.cineCorePinkModeSupport));if(!pn&&typeof require=="function")try{pn=require("./app-core-pink-mode.js").PINK_MODE_SUPPORT_API}catch{}const{pinkModeIcons:qk,setPinkModeIconSequence:PA,loadPinkModeIconsFromFiles:Wk,ensurePinkModeLottieRuntime:Kk,resolvePinkModeLottieRuntime:vg,startPinkModeAnimatedIcons:$k,stopPinkModeAnimatedIcons:Yk,triggerPinkModeIconRain:Qk,getPinkModeIconRotationTimer:vS,setPinkModeIconRotationTimer:ES,getPinkModeIconIndex:CS,setPinkModeIconIndex:AS,PINK_MODE_ICON_INTERVAL_MS:XD,PINK_MODE_ICON_ANIMATION_CLASS:ZD,PINK_MODE_ICON_ANIMATION_RESET_DELAY:JD,PINK_MODE_ICON_FALLBACK_MARKUP:Xk}=pn||{};let lf=function(e){return e||""};pn&&typeof pn.ensureSvgHasAriaHidden=="function"?lf=pn.ensureSvgHasAriaHidden:typeof window<"u"&&typeof window.ensureSvgHasAriaHidden=="function"&&(lf=window.ensureSvgHasAriaHidden);function Qr(e,t="info-icon",o=null){if(!e)return"";let r={},n="info-icon";typeof t=="string"||t===null?(n=t||"",o&&typeof o=="object"&&(r=o)):t&&typeof t=="object"&&(r=t,n=t.className||"info-icon"),typeof r.className=="string"&&(n=r.className);const a=[];typeof r.size=="string"&&r.size.trim()&&a.push(`--icon - size: ${r.size.trim()} `),typeof r.scale=="string"&&r.scale.trim()&&a.push(`--icon - scale: ${r.scale.trim()} `),typeof r.style=="string"&&r.style.trim()&&a.push(r.style.trim());const l=a.length?` style = "${a.join(";")}"`:"",s=resolveIconGlyph(e),u=["icon-glyph"];if(n&&u.unshift(n),s.markup){s.className&&s.className.split(/\s+/).filter(Boolean).forEach(R=>u.push(R));const y=lf(s.markup);return`<span class="${u.join(" ")}"${l} aria-hidden="true">${y}</span>`}const f=s.char||"";return f?`<span class="${u.join(" ")}"${l} data-icon-font="${s.font}" aria-hidden="true">${f}</span>`:""}const Zk=kt("",ICON_FONT_KEYS.UICONS),Jk=kt("",ICON_FONT_KEYS.UICONS),wS=kt("",ICON_FONT_KEYS.UICONS),eI=kt("",ICON_FONT_KEYS.UICONS),tI=kt("",ICON_FONT_KEYS.UICONS);je("iconGlyph",kt);je("resolveIconGlyph",resolveIconGlyph);je("applyIconGlyph",applyIconGlyph);je("formatSvgCoordinate",formatSvgCoordinate);je("positionSvgMarkup",positionSvgMarkup);je("iconMarkup",Qr);je("ICON_GLYPHS",ICON_GLYPHS);je("pinkModeIcons",qk);je("setPinkModeIconSequence",PA);je("ensureSvgHasAriaHidden",lf);je("ensurePinkModeLottieRuntime",Kk);je("resolvePinkModeLottieRuntime",vg);je("startPinkModeAnimatedIcons",$k);je("stopPinkModeAnimatedIcons",Yk);je("triggerPinkModeIconRain",Qk);const nl=(function(){let t=null;if(typeof resolveCoreSupportModule=="function")try{t=resolveCoreSupportModule("cineCoreRuntimeState","./modules/core/runtime-state.js")}catch{t=null}if(!t){const r=cp("modules/core/runtime-state.js");r&&typeof r=="object"&&(t=r)}if(t)return t;const o=SA(typeof be=="object"?be:null);for(let r=0;r<o.length;r+=1){const n=o[r];if(!(!n||typeof n!="object"))try{const a=n.cineCoreRuntimeState;if(a&&typeof a=="object")return a}catch{}}return null})(),Wp=(function(){if(typeof resolveCoreSupportModule=="function")try{const r=resolveCoreSupportModule("cineCoreRuntimeLocalization","./modules/core/runtime-localization.js");if(r&&typeof r=="object")return r}catch{}const t=[fo&&typeof fo=="object"?fo:null,typeof globalThis<"u"&&globalThis&&typeof globalThis=="object"?globalThis:null,typeof window<"u"&&window&&typeof window=="object"?window:null,typeof self<"u"&&self&&typeof self=="object"?self:null,typeof global<"u"&&global&&typeof global=="object"?global:null];for(let r=0;r<t.length;r+=1){const n=t[r];if(!(!n||typeof n!="object"))try{const a=n.cineCoreRuntimeLocalization;if(a&&typeof a=="object")return a}catch{}}const o=cp("modules/core/runtime-localization.js",{primaryScope:fo});return o&&typeof o=="object"?o:null})();Wp&&typeof Wp.createLocalizationRuntime=="function"&&Wp.createLocalizationRuntime({runtimeScope:fo,coreGlobalScope:fo,localizationBridge:Dk,localizationFallbacks:Fk,inlineLocalizationFallbacks:xk,localizationFallbackNamespace:Uk,localizationFallbackSupport:Nk,localizationFallbackRegistry:Hk,localizationFallbackResolvers:jk,fallbackResolveLocaleModule:zk,createLocaleFallbacks:Vk,translationsRequirePath:"./translations.js"});if(fo&&fo.__cineCorePart1Initialized)typeof console<"u"&&typeof console.warn=="function"&&console.warn("Cine Power Planner core runtime (part 1) already initialized. Skipping duplicate load.");else if(fo)try{Object.defineProperty(fo,"__cineCorePart1Initialized",{configurable:!0,writable:!0,value:!0})}catch{fo.__cineCorePart1Initialized=!0}var Ke={},RS=Vp&&typeof Vp.createRuntimeToolFallbacks=="function"?Vp.createRuntimeToolFallbacks:null;if(!RS){const e=cp("modules/core/runtime-tool-fallbacks.js",{primaryScope:fo});e&&typeof e.createRuntimeToolFallbacks=="function"&&(RS=e.createRuntimeToolFallbacks)}(function(){const t={queueKey:Ys,renderName:ip};if(nl&&typeof nl.resolveTemperatureKeyDefaults=="function")try{const o=nl.resolveTemperatureKeyDefaults();o&&typeof o=="object"&&(typeof o.queueKey=="string"&&o.queueKey&&(t.queueKey=o.queueKey),typeof o.renderName=="string"&&o.renderName&&(t.renderName=o.renderName))}catch{}return(typeof t.queueKey!="string"||!t.queueKey)&&(t.queueKey="__cinePendingTemperatureNote"),(typeof t.renderName!="string"||!t.renderName)&&(t.renderName="renderTemperatureNote"),t})();const va=(function(){const t=[];if(typeof require=="function")try{const r=require("./app-core-runtime-ui.js");r&&typeof r=="object"&&t.push(r)}catch{}const o=[];try{typeof be<"u"&&be&&o.push(be)}catch{}typeof globalThis<"u"&&globalThis&&o.push(globalThis),typeof window<"u"&&window&&o.push(window),typeof self<"u"&&self&&o.push(self),typeof global<"u"&&global&&o.push(global);for(let r=0;r<o.length;r+=1){const n=o[r];if(n)try{const a=n.cineCoreRuntimeUiBridge;a&&typeof a=="object"&&t.push(a)}catch{}}for(let r=0;r<t.length;r+=1){const n=t[r];if(n&&typeof n=="object")return n}return{}})();var oI=typeof va.escapeHtml=="function"?va.escapeHtml:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};const rI=typeof va.escapeButtonLabelSafely=="function"?va.escapeButtonLabelSafely:function(t){return typeof t!="string"||t===""?"":oI(t)},nI=typeof va.resolveButtonIconMarkup=="function"?va.resolveButtonIconMarkup:function(){return""},me=Nf("setButtonLabelWithIcon",function(){return typeof va.setButtonLabelWithIcon=="function"?va.setButtonLabelWithIcon:function(o,r,n){if(!o)return;let a=n;if(typeof a>"u")try{typeof ICON_GLYPHS=="object"&&ICON_GLYPHS&&ICON_GLYPHS.save&&(a=ICON_GLYPHS.save)}catch{}const l=nI(a),s=rI(typeof r=="string"?r:"");try{o.innerHTML=`${l}${s} `}catch{}}});if(be&&typeof be=="object")try{be.setButtonLabelWithIcon=me}catch{be.setButtonLabelWithIcon=me}function Kp(e){const t=vn();let o=null;if(!o&&jn&&typeof jn.getAssignedTemperatureRenderer=="function")try{o=jn.getAssignedTemperatureRenderer()}catch{}try{typeof renderTemperatureNote=="function"&&(o=renderTemperatureNote)}catch(n){if(!(n&&(n.name==="ReferenceError"||/is not defined|Cannot access uninitialized/i.test(String(n&&n.message)))))throw n}if(!o&&t&&typeof t=="object")try{const n=t[ip];typeof n=="function"&&(o=n)}catch{}if(typeof o=="function"){try{o(e)}catch(n){typeof console<"u"&&typeof console.error=="function"&&console.error("Temperature note renderer failed",n)}return}if(!t||typeof t!="object")return;let r=t[Ys];(!r||typeof r!="object")&&(r={}),r.latestHours=e;try{r.updatedAt=Date.now?Date.now():new Date().getTime()}catch{r.updatedAt=0}t[Ys]=r}function aI(e){if(!e||typeof e!="object")return;const t=be&&typeof be=="object"?be:typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null;!t||typeof t!="object"||Object.entries(e).forEach(([o,r])=>{if(typeof o!="string"||!o)return;const n=r&&typeof r.get=="function"?r.get:null,a=r&&typeof r.set=="function"?r.set:null;if(n){try{Object.defineProperty(t,o,{configurable:!0,enumerable:!1,get:n,set:a||void 0});return}catch{}try{t[o]=n()}catch{}}})}function LS(e){if(typeof e!="function")return!1;const t=be&&typeof be=="object"?be:typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null;try{return e.call(t||this),!0}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error("Cine Power Planner core runtime segment failed to evaluate.",o)}return!1}if(be&&typeof be=="object")try{Object.defineProperty(be,"__cineCorePart1Runner",{configurable:!0,enumerable:!1,writable:!0,value:LS})}catch{be.__cineCorePart1Runner=LS}function iI(){const e=[];if(typeof CORE_PART2_RUNTIME_HELPERS<"u"&&CORE_PART2_RUNTIME_HELPERS&&e.push(CORE_PART2_RUNTIME_HELPERS),Xe&&typeof Xe.cineCoreRuntimeHelpers=="object"&&e.push(Xe.cineCoreRuntimeHelpers),typeof be<"u"&&be&&typeof be.cineCoreRuntimeHelpers=="object"&&e.push(be.cineCoreRuntimeHelpers),typeof CORE_SHARED_SCOPE_PART2<"u"&&CORE_SHARED_SCOPE_PART2&&typeof CORE_SHARED_SCOPE_PART2.cineCoreRuntimeHelpers=="object"&&e.push(CORE_SHARED_SCOPE_PART2.cineCoreRuntimeHelpers),typeof globalThis<"u"&&globalThis&&typeof globalThis.cineCoreRuntimeHelpers=="object"&&e.push(globalThis.cineCoreRuntimeHelpers),typeof window<"u"&&window&&typeof window.cineCoreRuntimeHelpers=="object"&&e.push(window.cineCoreRuntimeHelpers),typeof self<"u"&&self&&typeof self.cineCoreRuntimeHelpers=="object"&&e.push(self.cineCoreRuntimeHelpers),typeof global<"u"&&global&&typeof global.cineCoreRuntimeHelpers=="object"&&e.push(global.cineCoreRuntimeHelpers),typeof require=="function")try{const t=require("./app-core-runtime-helpers.js");t&&typeof t=="object"&&e.push(t)}catch{}for(let t=0;t<e.length;t+=1){const o=e[t];if(o&&typeof o=="object")return o}return null}const $p=iI(),_o=$p&&typeof $p=="object"?$p:{};function lI(e){const t=[],o=typeof Set=="function"?new Set:null;function r(m){if(!(!m||typeof m!="object"&&typeof m!="function")){if(o){if(o.has(m))return;o.add(m),t.push(m);return}t.indexOf(m)===-1&&t.push(m)}}if(Array.isArray(e))for(let m=0;m<e.length;m+=1)try{r(e[m])}catch{}function n(m){if(typeof m=="function")for(let g=0;g<t.length;g+=1)try{m(t[g],g)}catch{}}function a(){return t.slice()}function l(){return t.length>0?t[0]:null}function s(m,g){const A=typeof g=="function"?g:function(){return g};if(typeof m!="string"||!m)try{return A()}catch{return}for(let w=0;w<t.length;w+=1){const E=t[w];if(!(!E||typeof E!="object"&&typeof E!="function"))try{return typeof E[m]>"u"&&(E[m]=A()),E[m]}catch{}}try{return A()}catch{return}}function u(m,g,A){const w=typeof A=="function"?A:function(){return A},E=typeof g=="function"?g:function(){return!0};n(S=>{try{E(S[m])||(S[m]=w())}catch(C){}})}function f(m){for(let g=0;g<t.length;g+=1){const A=t[g];if(!(!A||typeof A!="object"&&typeof A!="function"))try{if(m in A)return A[m]}catch{}}}let y=null;function R(m){typeof m=="function"&&(y=m,n(g=>{if(!(!g||typeof g!="object"&&typeof g!="function"))try{g[ip]=m;const A=g[Ys];if(A&&typeof A=="object"){if(Object.prototype.hasOwnProperty.call(A,"latestHours")){const w=A.latestHours;if(typeof w<"u")try{m(w)}catch(E){typeof console<"u"&&typeof console.error=="function"&&console.error("Failed to apply pending temperature note render",E)}}try{delete A.latestHours}catch(w){A.latestHours=void 0}}}catch(A){}}))}function _(){return y}const T={isReferenceError(){return!1},repair(){}};function I(m){!m||typeof m!="object"||(typeof m.isReferenceError=="function"&&(T.isReferenceError=m.isReferenceError),typeof m.repair=="function"&&(T.repair=m.repair))}return{registerScope:r,withEachScope:n,getScopes:a,getPrimaryScope:l,ensureValue:s,normaliseValue:u,readValue:f,assignTemperatureRenderer:R,getAssignedTemperatureRenderer:_,autoGearGuards:T,setAutoGearGuards:I}}function Eg(e){if(nl&&typeof nl.createLocalRuntimeState=="function")try{return nl.createLocalRuntimeState(e,{temperatureQueueKey:Ys,temperatureRenderName:ip})}catch{}return lI(e)}var jn=Nf("__cineRuntimeState",()=>{const e=of.length?of:SA(typeof be=="object"?be:null);return Eg(e)});if(be&&typeof be=="object")try{Object.defineProperty(be,"__cineCreateRuntimeState",{configurable:!0,enumerable:!1,writable:!0,value:Eg})}catch{try{be.__cineCreateRuntimeState=Eg}catch{}}function sI(e){if(!jn||!jn.autoGearGuards)return!1;const t=jn.autoGearGuards.isReferenceError;if(typeof t!="function")return!1;try{return t(e)===!0}catch{}return!1}function cI(e){if(!jn||!jn.autoGearGuards)return;const t=jn.autoGearGuards.repair;if(typeof t=="function")try{t(e)}catch{}}function Ne(e,t=[],o={}){const r=be||(typeof globalThis<"u"?globalThis:null)||(typeof window<"u"?window:null)||(typeof self<"u"?self:null)||(typeof global<"u"?global:null),n=typeof e=="string"?r&&r[e]:e;if(typeof n=="function"){if(n.__cineSessionProxy__===!0){const l=o&&typeof o=="object"?o:{},s=typeof l.attempts=="number"&&Number.isFinite(l.attempts)?l.attempts:0;if(typeof na=="function"&&s<3){const u={...l,defer:!1,attempts:s+1};na(()=>{Ne(e,t,u)})}return Object.prototype.hasOwnProperty.call(l,"defaultValue")?l.defaultValue:void 0}if(n.__cineDeferredPlaceholder__===!0){const l=o&&typeof o=="object"?o:{},s=typeof l.attempts=="number"&&Number.isFinite(l.attempts)?l.attempts:0;if(typeof na=="function"&&s<3){const u={...l,defer:!1,attempts:s+1};na(()=>{Ne(e,t,u)})}return}let a=0;for(;a<2;)try{return n.apply(r,t)}catch(l){if(a===0&&sI(l)){cI(r),a+=1;continue}typeof console<"u"&&typeof console.error=="function"&&console.error(`Failed to invoke ${e} `,l);break}return}return o&&o.defer===!0&&na(()=>{Ne(e,t,{...o,defer:!1})}),typeof o<"u"&&Object.prototype.hasOwnProperty.call(o,"defaultValue")?o.defaultValue:void 0}je("applyLegacyGridSnapValue",Gk);function uI(e,t={}){if(typeof formatAutoGearItemSummary=="function")try{return formatAutoGearItemSummary(e,t)}catch(r){typeof console<"u"&&typeof console.warn=="function"&&console.warn("Failed to format automatic gear item summary via direct formatter.",r)}const o=Ne("formatAutoGearItemSummary",[e,t],{defaultValue:""});if(typeof o=="string")return o;if(o===null||typeof o>"u")return"";try{return String(o)}catch{return""}}function dI(e,...t){if(typeof formatWithPlaceholders=="function")try{return formatWithPlaceholders(e,...t)}catch(n){typeof console<"u"&&typeof console.warn=="function"&&console.warn("Failed to format placeholder template via direct formatter.",n)}const o=Ne("formatWithPlaceholders",[e,...t],{defaultValue:null});if(typeof o=="string"&&o)return o;let r=typeof e=="string"?e:String(e||"");for(let n=0;n<t.length;n+=1){const a=t[n];r=r.replace("%s",a)}return r}(function(){const t=(typeof be<"u"?be:null)||(typeof globalThis<"u"?globalThis:null)||(typeof window<"u"?window:null)||(typeof self<"u"?self:null)||(typeof global<"u"?global:null);if(typeof window<"u")try{window.populateSelect=void 0}catch{}if(!t||typeof t!="object")return;if(typeof t.populateSelect!="function"){const r=function(a,l={},s=!0){if(!a)return;const u=l&&typeof l=="object"?l:{};try{if(a.innerHTML="",s){const f=document.createElement("option");f.value="None";const y={de:"Keine Auswahl",es:"Ninguno",fr:"Aucun"},R=typeof Ge=="string"?Ge:"en";f.textContent=y[R]||"None",a.appendChild(f)}Object.keys(u).filter(f=>f!=="None").sort(typeof localeSort=="function"?localeSort:void 0).forEach(f=>{const y=document.createElement("option");y.value=f,y.textContent=f,a.appendChild(y)})}catch(f){typeof console<"u"&&typeof console.warn=="function"&&console.warn("populateSelect placeholder failed to render options immediately",f)}na(()=>{const f=t&&typeof t.populateSelect=="function"&&t.populateSelect!==r?t.populateSelect:null;f&&f(a,l,s)})};r.__cineDeferredPlaceholder__=!0;try{t.populateSelect=r,typeof window<"u"&&(window.populateSelect=r)}catch(n){console.warn("Failed to assign populateSelect",n)}}const o=r=>{if(typeof r!="string"||!r||typeof t[r]=="function")return;const n=function(...l){return Ne(r,l,{defer:!0,attempts:0})};n.__cineDeferredPlaceholder__=!0;try{t[r]=n}catch{}};if(o("checkSetupChanged"),o("updateCalculations"),typeof t.feedbackCancelBtn>"u")try{t.feedbackCancelBtn=null}catch{}})();var fI=typeof Xe.stableStringify=="function"?Xe.stableStringify:typeof Xe.fallbackStableStringify=="function"?Xe.fallbackStableStringify:typeof _o.fallbackStableStringify=="function"?_o.fallbackStableStringify:function(t){try{return JSON.stringify(t)}catch{}return String(t)};const pI=typeof Xe.humanizeKey=="function"?Xe.humanizeKey:typeof Xe.fallbackHumanizeKey=="function"?Xe.fallbackHumanizeKey:typeof _o.fallbackHumanizeKey=="function"?_o.fallbackHumanizeKey:function(t){const o=typeof t=="string"?t:String(t||"");return o.charAt(0).toUpperCase()+o.slice(1)};function mI(){const e=[];typeof globalThis<"u"&&e.push(globalThis),typeof window<"u"&&e.push(window),typeof global<"u"&&e.push(global),typeof self<"u"&&e.push(self);for(const t of e)if(t&&typeof t.generateConnectorSummary=="function")return t.generateConnectorSummary;return null}const yI=typeof Xe.resolveConnectorSummaryGenerator=="function"?Xe.resolveConnectorSummaryGenerator:mI;let GS=typeof Xe.safeGenerateConnectorSummary=="function"?Xe.safeGenerateConnectorSummary:function(t){if(!t)return"";const o=yI();if(typeof o!="function")return"";try{return o(t)||""}catch(r){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("Unable to generate connector summary",r),""}};const gI=typeof Xe.normalizeAutoGearWeightOperator=="function"?Xe.normalizeAutoGearWeightOperator:typeof _o.fallbackNormalizeAutoGearWeightOperator=="function"?_o.fallbackNormalizeAutoGearWeightOperator:function(){return"greater"};typeof Xe.normalizeAutoGearWeightValue=="function"?Xe.normalizeAutoGearWeightValue:typeof _o.fallbackNormalizeAutoGearWeightValue=="function"&&_o.fallbackNormalizeAutoGearWeightValue;const hI=typeof Xe.normalizeAutoGearCameraWeightCondition=="function"?Xe.normalizeAutoGearCameraWeightCondition:typeof _o.fallbackNormalizeAutoGearCameraWeightCondition=="function"?_o.fallbackNormalizeAutoGearCameraWeightCondition:function(){return null},bI=typeof Xe.formatAutoGearWeight=="function"?Xe.formatAutoGearWeight:typeof _o.fallbackFormatAutoGearWeight=="function"?_o.fallbackFormatAutoGearWeight:function(t){return Number.isFinite(t)?String(t):""},SI=typeof _o.fallbackGetAutoGearCameraWeightOperatorLabel=="function"?_o.fallbackGetAutoGearCameraWeightOperatorLabel:function(t,o){const r=o||{},n=gI(t);return n==="less"?r.autoGearCameraWeightOperatorLess||"Lighter than":n==="equal"?r.autoGearCameraWeightOperatorEqual||"Exactly":r.autoGearCameraWeightOperatorGreater||"Heavier than"},vI=typeof Xe.getAutoGearCameraWeightOperatorLabel=="function"?Xe.getAutoGearCameraWeightOperatorLabel:SI,EI=typeof _o.fallbackFormatAutoGearCameraWeight=="function"?_o.fallbackFormatAutoGearCameraWeight:function(t,o){if(!t||!Number.isFinite(t.value))return"";const r=vI(t.operator,o),n=bI(t.value);return r?`${r} ${n} g`:`${n} g`},CI=typeof Xe.formatAutoGearCameraWeight=="function"?Xe.formatAutoGearCameraWeight:EI;var sf=Xe.LZString;!sf&&typeof Xe.getLZString=="function"&&(sf=Xe.getLZString());sf||(sf={compressToEncodedURIComponent:e=>e,decompressFromEncodedURIComponent:e=>e});var AI;try{({generatePrintableOverview:AI}=require("./overview.js"))}catch{}function wI(){return typeof globalThis<"u"&&globalThis?globalThis:typeof window<"u"&&window?window:typeof self<"u"&&self?self:typeof global<"u"&&global?global:null}function RI(e){return e?typeof e=="string"?e:typeof e.APP_VERSION=="string"?e.APP_VERSION:typeof e.default=="string"?e.default:typeof e.version=="string"?e.version:null:null}function LI(){if(typeof Xe.APP_VERSION=="string"&&Xe.APP_VERSION)return Xe.APP_VERSION;const e=wI();if(e&&typeof e.CPP_APP_VERSION=="string"&&e.CPP_APP_VERSION)return e.CPP_APP_VERSION;if(e&&typeof e.APP_VERSION=="string"&&e.APP_VERSION)return e.APP_VERSION;if(typeof require=="function")try{const t=require("../../app-version.js"),o=RI(t);if(o)return o}catch{}return"0.0.0"}var GI=LI();typeof vg=="function"?vg():typeof window.resolvePinkModeLottieRuntime=="function"&&window.resolvePinkModeLottieRuntime();var TI="iosPwaHelpShown";const Vh="installPromptDismissed";function OI(){return typeof globalThis<"u"&&globalThis?globalThis:typeof window<"u"&&window?window:typeof self<"u"&&self?self:typeof global<"u"&&global?global:null}const Hr=OI();Hr&&typeof Hr.installBannerDismissedInSession!="boolean"&&(Hr.installBannerDismissedInSession=!1);const Yp="__cineResolvedHelpModule";function kI(){return{resolveIosPwaHelpStorageKey(e){return typeof e=="string"&&e?e:TI},isIosDevice(){return!1},isAndroidDevice(){return!1},isStandaloneDisplayMode(){return!1},hasDismissedIosPwaHelp(){return!1},markIosPwaHelpDismissed(){},shouldShowIosPwaHelp(){return!1}}}function II(){const e=vn();if(e&&e[Yp])return e[Yp];const t=typeof cineModuleBase=="object"&&cineModuleBase||(e&&typeof e.cineModuleBase=="object"?e.cineModuleBase:null);function o(s,u){if(t&&typeof t.safeWarn=="function")try{t.safeWarn(s,u);return}catch{}if(typeof console<"u"&&console&&typeof console.warn=="function")try{typeof u>"u"?console.warn(s):console.warn(s,u)}catch{}}const r=[];if(t&&typeof t.getModuleRegistry=="function"){let s=null;try{s=t.getModuleRegistry(e)}catch(u){o("Unable to resolve cine.features.help module registry.",u)}if(s&&typeof s.get=="function")try{const u=s.get("cine.features.help");u&&r.indexOf(u)===-1&&r.push(u)}catch(u){o("Unable to read cine.features.help module.",u)}}const n=[];e&&n.indexOf(e)===-1&&n.push(e),typeof globalThis<"u"&&n.indexOf(globalThis)===-1&&n.push(globalThis),typeof window<"u"&&n.indexOf(window)===-1&&n.push(window),typeof self<"u"&&n.indexOf(self)===-1&&n.push(self),typeof global<"u"&&n.indexOf(global)===-1&&n.push(global);for(let s=0;s<n.length;s+=1){const u=n[s];if(!(!u||typeof u!="object"&&typeof u!="function")){try{const f=u.cineFeaturesHelp;f&&r.indexOf(f)===-1&&r.push(f)}catch{}try{const f=u.cineHelpModule;f&&typeof f=="object"&&f&&typeof f.help=="object"&&r.indexOf(f.help)===-1&&r.push(f.help)}catch{}if(typeof u.__cineCreateHelpModule=="function")try{const f=u.__cineCreateHelpModule();f&&typeof f=="object"&&(typeof f.help=="object"&&r.indexOf(f.help)===-1?r.push(f.help):r.indexOf(f)===-1&&r.push(f))}catch(f){o("Unable to instantiate cine.features.help module.",f)}}}let a=null;for(let s=0;s<r.length;s+=1){const u=r[s];if(u&&typeof u=="object"&&typeof u.isIosDevice=="function"){a=u;break}if(u&&typeof u=="object"&&typeof u.help=="object"&&typeof u.help.isIosDevice=="function"){a=u.help;break}}const l=a||kI();if(e)try{e[Yp]=l}catch{}return l}const Qp="__cineContactsModuleCache__",Xp="__cineOwnGearModuleCache__",Zp="__cineContactsOwnGearModuleCache__";function qh(e,t,o){try{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o});return}catch{}try{e[t]=o}catch{}}function BA(){const e=vn();if(!e||typeof e!="object"&&typeof e!="function")return null;if(Object.prototype.hasOwnProperty.call(e,Zp))return e[Zp];const t=[],o=typeof cineModuleBase=="object"&&cineModuleBase||(e&&typeof e.cineModuleBase=="object"?e.cineModuleBase:null);if(o&&typeof o.getModuleRegistry=="function")try{const a=o.getModuleRegistry(e);if(a&&typeof a.get=="function"){const l=a.get("cine.features.contactsOwnGear");l&&t.indexOf(l)===-1&&t.push(l)}}catch{}const r=[];r.indexOf(e)===-1&&r.push(e),typeof globalThis<"u"&&r.indexOf(globalThis)===-1&&r.push(globalThis),typeof window<"u"&&r.indexOf(window)===-1&&r.push(window),typeof self<"u"&&r.indexOf(self)===-1&&r.push(self),typeof global<"u"&&r.indexOf(global)===-1&&r.push(global);for(let a=0;a<r.length;a+=1){const l=r[a];if(!(!l||typeof l!="object"&&typeof l!="function"))try{const s=l.cineFeaturesContactsOwnGear;s&&typeof s=="object"&&t.indexOf(s)===-1&&t.push(s)}catch{}}const n=t.find(a=>a&&typeof a=="object")||null;return qh(e,Zp,n),n}function up(){const e=vn();if(!e||typeof e!="object"&&typeof e!="function")return null;if(Object.prototype.hasOwnProperty.call(e,Qp))return e[Qp];const t=[],o=typeof cineModuleBase=="object"&&cineModuleBase||(e&&typeof e.cineModuleBase=="object"?e.cineModuleBase:null);if(o&&typeof o.getModuleRegistry=="function")try{const a=o.getModuleRegistry(e);if(a&&typeof a.get=="function"){const l=a.get("cine.features.contacts");l&&t.indexOf(l)===-1&&t.push(l)}}catch{}const r=[];r.indexOf(e)===-1&&r.push(e),typeof globalThis<"u"&&r.indexOf(globalThis)===-1&&r.push(globalThis),typeof window<"u"&&r.indexOf(window)===-1&&r.push(window),typeof self<"u"&&r.indexOf(self)===-1&&r.push(self),typeof global<"u"&&r.indexOf(global)===-1&&r.push(global);for(let a=0;a<r.length;a+=1){const l=r[a];if(!(!l||typeof l!="object"&&typeof l!="function"))try{const s=l.cineFeaturesContacts;s&&typeof s=="object"&&t.indexOf(s)===-1&&t.push(s)}catch{}}const n=t.find(a=>a&&typeof a=="object")||BA()||null;return qh(e,Qp,n),n}function dp(){const e=vn();if(!e||typeof e!="object"&&typeof e!="function")return null;if(Object.prototype.hasOwnProperty.call(e,Xp))return e[Xp];const t=[],o=typeof cineModuleBase=="object"&&cineModuleBase||(e&&typeof e.cineModuleBase=="object"?e.cineModuleBase:null);if(o&&typeof o.getModuleRegistry=="function")try{const a=o.getModuleRegistry(e);if(a&&typeof a.get=="function"){const l=a.get("cine.features.ownGear");l&&t.indexOf(l)===-1&&t.push(l)}}catch{}const r=[];r.indexOf(e)===-1&&r.push(e),typeof globalThis<"u"&&r.indexOf(globalThis)===-1&&r.push(globalThis),typeof window<"u"&&r.indexOf(window)===-1&&r.push(window),typeof self<"u"&&r.indexOf(self)===-1&&r.push(self),typeof global<"u"&&r.indexOf(global)===-1&&r.push(global);for(let a=0;a<r.length;a+=1){const l=r[a];if(!(!l||typeof l!="object"&&typeof l!="function"))try{const s=l.cineFeaturesOwnGear;s&&typeof s=="object"&&t.indexOf(s)===-1&&t.push(s)}catch{}}const n=t.find(a=>a&&typeof a=="object")||BA()||null;return qh(e,Xp,n),n}var Mo=II();globalThis.helpModuleApi=Mo;var Nt=null;function PI(){const e=[];typeof be<"u"&&be&&typeof be=="object"&&e.push(be),typeof globalThis<"u"&&globalThis&&typeof globalThis=="object"&&e.push(globalThis),typeof window<"u"&&window&&typeof window=="object"&&e.push(window),typeof self<"u"&&self&&typeof self=="object"&&e.push(self),typeof global<"u"&&global&&typeof global=="object"&&e.push(global);for(let t=0;t<e.length;t+=1){const o=e[t];if(!(!o||typeof o!="object")){if(o.CORE_DEVICE_SCHEMA&&typeof o.CORE_DEVICE_SCHEMA=="object")return o.CORE_DEVICE_SCHEMA;if(o.cineCoreDeviceSchema&&typeof o.cineCoreDeviceSchema=="object")return o.cineCoreDeviceSchema}}return null}const Jt=(function(){const t=PI();if(t&&typeof t.createDeviceSchemaManager=="function")try{return t.createDeviceSchemaManager({onSchemaChange:o=>{Nt=o},populateCategoryOptions:()=>{try{Bw()}catch(o){console.error("populateCategoryOptions failed during scheduled execution",o)}}})}catch(o){console.warn("Failed to initialize device schema manager from core module",o)}return null})(),TS=Jt&&Jt.DEVICE_SCHEMA_PATH||"src/data/schema.json",BI=Jt&&typeof Jt.loadDeviceSchemaFromCacheStorage=="function"?Jt.loadDeviceSchemaFromCacheStorage:async()=>null,Bl=Jt&&typeof Jt.finalizeDeviceSchemaLoad=="function"?Jt.finalizeDeviceSchemaLoad:()=>{},MA=Jt&&typeof Jt.isValidDeviceSchema=="function"?Jt.isValidDeviceSchema:e=>e&&typeof e=="object"&&!Array.isArray(e),OS=Jt&&typeof Jt.getCachedDeviceSchema=="function"?Jt.getCachedDeviceSchema():null;if(Jt&&typeof Jt.getDeviceSchema=="function"){const e=Jt.getDeviceSchema();e&&(Nt=e)}const kS=Jt&&typeof Jt.setDeviceSchema=="function"?e=>Jt.setDeviceSchema(e):e=>(MA(e)?Nt=e:Nt||(Nt={}),Nt);let md=null,ic=null,lc=null;const MI="CINE_CONTACTS_PROFILE_MODULE",_I="CINE_CONTACTS_LIST_MODULE",DI=typeof require=="function";if(DI){try{md=require("../data/schema.json")}catch{}try{ic=require("./contacts/profile.js")}catch(e){console.warn("Failed to load contacts profile module",e)}try{lc=require("./contacts/list.js")}catch(e){console.warn("Failed to load contacts list module",e)}}const IS=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||null,_A=e=>{if(!IS||!e)return null;try{return IS[e]||null}catch(t){return console.warn("Failed to read contacts module from global scope",t),null}};ic||(ic=_A(MI));lc||(lc=_A(_I));(!ic||!lc)&&console.warn("Module loader is not available in this environment. Contacts features limited.");const Ia=e=>typeof e=="string"?e.trim():"",FI=e=>({id:Ia(e&&e.id)||`contact - ${Date.now().toString(36)} `,name:Ia(e&&e.name),role:Ia(e&&e.role),phone:Ia(e&&e.phone),email:Ia(e&&e.email),website:Ia(e&&e.website),avatar:typeof e?.avatar=="string"?e.avatar:"",createdAt:Number.isFinite(e?.createdAt)?e.createdAt:Date.now(),updatedAt:Number.isFinite(e?.updatedAt)?e.updatedAt:Date.now()});function xI(){const e={name:"",role:"",avatar:"",phone:"",email:""},t=new Set,o=()=>({...e}),r=()=>{const n=o();return t.forEach(a=>{try{a(n)}catch(l){console.warn("Profile listener failed in fallback controller",l)}}),n};return{assignUserProfileState(n={}){return Object.assign(e,n),r()},getUserProfileSnapshot:o,handleFieldInput(n,a){return n?(e[n]=typeof a=="string"?a:"",r(),!0):!1},handleFieldBlur(){},load(n){return n&&typeof n=="object"&&Object.assign(e,n),r()},setAvatar(n){e.avatar=typeof n=="string"?n:"",r()},clearAvatar(){return e.avatar?(e.avatar="",r(),!0):!1},onChange(n){return typeof n!="function"?()=>{}:(t.add(n),()=>t.delete(n))},schedulePersist(){},markDirty(){},setPendingAnnouncement(){}}}const{CONTACT_AVATAR_MAX_BYTES:eF=300*1024,CONTACT_AVATAR_MAX_SOURCE_BYTES:tF=6*1024*1024,CONTACT_AVATAR_MAX_DIMENSION:oF=256,CONTACT_AVATAR_JPEG_QUALITY:rF=.85,CONTACT_AVATAR_JPEG_MIN_QUALITY:nF=.55,createProfileController:PS,estimateDataUrlSize:aF,optimiseAvatarDataUrl:iF,readAvatarFile:BS,isSafeImageUrl:MS}=ic||{},{sanitizeContactValue:_S,normalizeContactEntry:DS,sortContacts:FS,parseVCard:xS,mergeImportedContacts:NS,createCrewRowSync:HS}=lc||{},NI=typeof PS=="function"?PS:xI,Tc=typeof BS=="function"?BS:typeof readAvatarFile=="function"?readAvatarFile:typeof window<"u"&&typeof window.readAvatarFile=="function"?window.readAvatarFile:(e,t,o)=>{if(e)try{const r=new FileReader;r.onload=()=>{typeof t=="function"&&t(r.result)},r.onerror=()=>{typeof o=="function"&&o("readError")},r.readAsDataURL(e)}catch{typeof o=="function"&&o("readError")}},HI=typeof MS=="function"?MS:e=>typeof e!="string"?!1:e.startsWith("data:image/"),jI=typeof _S=="function"?_S:Ia,UI=typeof DS=="function"?DS:FI,DA=typeof FS=="function"?FS:e=>Array.isArray(e)?e.slice():[],zI=typeof xS=="function"?xS:()=>[],VI=typeof NS=="function"?NS:e=>({contacts:DA([...e?.existing||[],...e?.imported||[]]),added:Array.isArray(e?.imported)?e.imported.length:0,updated:0}),jS=typeof HS=="function"?HS:(e={},t={})=>({...e,...t});try{if(console.log("[deviceSchema] Attempting to apply bundledSchema:",md?"exists":"null"),md){const e=kS(md);e&&(Nt=e,console.log("[deviceSchema] Successfully applied bundledSchema"))}if(!Nt||!Object.keys(Nt).length){if(console.log("[deviceSchema] bundledSchema not available, attempting fetch from:",TS),!Nt&&OS){const e=kS(OS);e&&(Nt=e,console.log("[deviceSchema] Applied cached schema as fallback"))}typeof fetch=="function"?fetch(TS).then(e=>{if(!e||!e.ok)throw new Error(`Unexpected response when loading schema.json: ${e?e.status:"no response"} `);return e.json()}).then(e=>{console.log("[deviceSchema] Successfully fetched schema.json, applying..."),Bl(e),e&&typeof e=="object"&&(Nt=e,console.log("[deviceSchema] deviceSchema updated from fetch. Categories:",Object.keys(Nt)))}).catch(e=>{console.warn("Failed to fetch schema.json",e),BI().then(t=>{MA(t)?Bl(t):Bl(Nt)}).catch(t=>{console.warn("Failed to load schema.json from cache storage",t),Bl(Nt)})}):Bl(Nt)}}catch(e){console.error("[deviceSchema] Error in schema loading:",e)}const US={de:{imprint:"legal/impressum.html",privacy:"legal/datenschutz.html"},en:{imprint:"legal/impressum-en.html",privacy:"legal/datenschutz-en.html"},es:{imprint:"legal/impressum-es.html",privacy:"legal/datenschutz-es.html"},fr:{imprint:"legal/impressum-fr.html",privacy:"legal/datenschutz-fr.html"},it:{imprint:"legal/impressum-it.html",privacy:"legal/datenschutz-it.html"}};function Kn(e,t){const o=cf(e);return typeof o=="string"&&o?o:t}const qI=Kn("AUTO_GEAR_RULES_STORAGE_KEY","cameraPowerPlanner_autoGearRules"),FA="__any__";typeof globalThis<"u"&&(globalThis.AUTO_GEAR_ANY_MOTOR_TOKEN=FA);const WI=Kn("AUTO_GEAR_SEEDED_STORAGE_KEY","cameraPowerPlanner_autoGearSeeded"),KI=36,zS=1,VS=50,$I=50;function cf(e){const t=[fo&&typeof fo=="object"?fo:null,za&&(typeof za=="object"||typeof za=="function")?za:null,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let o=0;o<t.length;o+=1){const r=t[o];if(!(!r||typeof r!="object"&&typeof r!="function"))try{const n=r[e];if(typeof n<"u")return n}catch{}}}function xA(){const e=[],t=cf("AUTO_GEAR_BACKUP_RETENTION_MIN");typeof t<"u"&&e.push(t);for(let o=0;o<e.length;o+=1){const r=Number(e[o]);if(!Number.isFinite(r))continue;const n=Math.round(r);if(n>=zS)return n}return zS}function YI(){const e=xA(),t=typeof be<"u"&&be?be:typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null,o=t&&typeof t.AUTO_GEAR_BACKUP_RETENTION_MAX<"u"?t.AUTO_GEAR_BACKUP_RETENTION_MAX:void 0,r=typeof o<"u"?o:cf("AUTO_GEAR_BACKUP_RETENTION_MAX"),n=Number(r),a=Number.isFinite(n)&&n>=e?Math.min(Math.round(n),VS):VS,l=R=>{const _=Number(R);if(!Number.isFinite(_))return null;const T=Math.round(_);return T<e?e:T>a?a:T},s=[],u=t&&typeof t.AUTO_GEAR_BACKUP_RETENTION_DEFAULT<"u"?t.AUTO_GEAR_BACKUP_RETENTION_DEFAULT:void 0;typeof u<"u"&&s.push(u);const f=cf("AUTO_GEAR_BACKUP_RETENTION_DEFAULT");if(typeof f<"u"&&s.push(f),typeof getAutoGearBackupRetentionDefault=="function")try{s.push(getAutoGearBackupRetentionDefault())}catch{}for(let R=0;R<s.length;R+=1){const _=l(s[R]);if(_!==null)return _}const y=l(KI);return y===null?e:y}Kn("AUTO_GEAR_BACKUPS_STORAGE_KEY","cameraPowerPlanner_autoGearBackups");Kn("AUTO_GEAR_PRESETS_STORAGE_KEY","cameraPowerPlanner_autoGearPresets");Kn("AUTO_GEAR_ACTIVE_PRESET_STORAGE_KEY","cameraPowerPlanner_autoGearActivePreset");Kn("AUTO_GEAR_AUTO_PRESET_STORAGE_KEY","cameraPowerPlanner_autoGearAutoPreset");Kn("AUTO_GEAR_BACKUP_VISIBILITY_STORAGE_KEY","cameraPowerPlanner_autoGearShowBackups");Kn("AUTO_GEAR_BACKUP_RETENTION_STORAGE_KEY","cameraPowerPlanner_autoGearBackupRetention");Kn("AUTO_GEAR_MONITOR_DEFAULTS_STORAGE_KEY","cameraPowerPlanner_autoGearMonitorDefaults");const QI=xA(),NA=YI(),XI=1;var ZI="";const Wh=["Camera","Camera Support","Media","Lens","Lens Support","Matte box + filter","LDS (FIZ)","Camera Batteries","Monitoring Batteries","Chargers","Monitoring","Monitoring support","Rigging","Power","Grip","Carts and Transportation","Miscellaneous","Consumables"],JI=["none","monitor","directorMonitor","tripodHeadBrand","tripodBowl","tripodTypes","tripodSpreader","fizHandUnit"],HA=JI.reduce((e,t)=>(e[t.toLowerCase()]=t,e),Object.create(null)),eP=new Set(Object.keys(HA)),tP=["SmallHD Ultra 7","SmallHD Focus","SmallHD Cine 7"],Kh=new Set(["tripodHeadBrand","tripodBowl","tripodTypes","tripodSpreader"]),oP={tripodHeadBrand:"tripodHeadBrand",tripodBowl:"tripodBowl",tripodTypes:"tripodTypes",tripodSpreader:"tripodSpreader"};je("AUTO_GEAR_SELECTOR_TYPE_MAP",HA);je("AUTO_GEAR_SELECTOR_TYPE_SET",eP);je("AUTO_GEAR_TRIPOD_SELECTOR_TYPES",Kh);je("AUTO_GEAR_TRIPOD_FIELD_IDS",oP);je("AUTO_GEAR_CUSTOM_CATEGORY",ZI);je("GEAR_LIST_CATEGORIES",Wh);const rP=Object.freeze([{key:"tilta-nucleus-m",label:"Tilta Nucleus ecosystem (M / M II)",motors:Object.freeze(["Tilta Nucleus M","Tilta Nucleus M II"]),options:Object.freeze(["Tilta Nucleus-M FIZ Hand Unit","Tilta Nucleus-M II FIZ Hand Unit","Tilta Nucleus Nano II Hand Controller"]),defaultOption:"Tilta Nucleus-M FIZ Hand Unit"},{key:"tilta-nucleus-nano",label:"Tilta Nucleus Nano ecosystem",motors:Object.freeze(["Tilta Nucleus Nano (Original)","Tilta Nucleus Nano II"]),options:Object.freeze(["Tilta Nucleus Nano Hand Wheel Controller","Tilta Nucleus Nano II Hand Controller"]),defaultOption:"Tilta Nucleus Nano Hand Wheel Controller"},{key:"arri-lbus",label:"ARRI / cmotion LBUS ecosystem",motors:Object.freeze(["Arri Cforce Mini","Arri Cforce Plus","Arri CLM-3","Arri CLM-4 (K2.72114.0)","Arri CLM-5 (K2.0006361)","Arri cforce mini RF (KK.0040345)","Cmotion cPRO"]),options:Object.freeze(["Arri Hi-5","Arri WCU-4","Arri SXU-1","cmotion cPRO hand unit"]),defaultOption:"Arri Hi-5"},{key:"teradek-rt",label:"Teradek RT ecosystem",motors:Object.freeze(["Teradek RT Motion FIZ (MOTR.S)"]),options:Object.freeze(["Teradek RT CTRL.3"]),defaultOption:"Teradek RT CTRL.3"},{key:"preston",label:"Preston ecosystem",motors:Object.freeze(["Preston DM1X","Preston DM2","Preston DM2X","Preston DM-A","Preston DM-C"]),options:Object.freeze(["Preston Hand Unit 4 (HU4)"]),defaultOption:"Preston Hand Unit 4 (HU4)"},{key:"chrosziel",label:"Chrosziel MagNum ecosystem",motors:Object.freeze(["Chrosziel CDM-100 Digital","Chrosziel CDM-M (Universal Zoom Servo Drive)"]),options:Object.freeze(["Chrosziel MagNum Hand Unit (MN-100R)"]),defaultOption:"Chrosziel MagNum Hand Unit (MN-100R)"},{key:"dji-focus",label:"DJI Focus ecosystem",motors:Object.freeze(["DJI Focus (Original)"]),options:Object.freeze(["DJI Focus Hand Unit"]),defaultOption:"DJI Focus Hand Unit"},{key:"dji-focus-pro",label:"DJI Focus Pro ecosystem",motors:Object.freeze(["DJI RS Focus (2022)","DJI Focus Pro Motor"]),options:Object.freeze(["DJI RS Focus Wheel (2022)","DJI Focus Pro Hand Unit"]),defaultOption:"DJI Focus Pro Hand Unit"},{key:"smallrig-magicfiz",label:"SmallRig MagicFIZ ecosystem",motors:Object.freeze(["SmallRig Wireless Follow Focus"]),options:Object.freeze(["SmallRig MagicFIZ Wireless Handgrip"]),defaultOption:"SmallRig MagicFIZ Wireless Handgrip"},{key:"redrock-microremote",label:"Redrock microRemote ecosystem",motors:Object.freeze(["Redrock MicroRemote Torque"]),options:Object.freeze(["Redrock microRemote Hand Controller"]),defaultOption:"Redrock microRemote Hand Controller"}]),jA=(()=>{const e=Object.create(null);return rP.forEach(t=>{if(!t||!t.key||!Array.isArray(t.options)||!t.options.length)return;const o=t.key,r=Array.from(new Set(t.options.filter(Boolean)));r.length&&(e[o]=Object.freeze({key:o,label:t.label||"",motors:t.motors||[],options:Object.freeze(r),defaultOption:r.includes(t.defaultOption)?t.defaultOption:r[0]}))}),Object.freeze(e)})(),nP=(()=>{const e=Object.create(null);return Object.values(jA).forEach(t=>{!t||!Array.isArray(t.motors)||t.motors.forEach(o=>{const r=AA(o);!r||Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t.key)})}),Object.freeze(e)})();typeof globalThis<"u"&&(globalThis.AUTO_GEAR_HAND_UNIT_COMPATIBILITY_GROUPS=jA,globalThis.AUTO_GEAR_HAND_UNIT_MOTOR_TO_GROUP=nP);const al=vA();al&&typeof al.hydrateCache=="function"&&al.hydrateCache().catch(e=>{console.warn("Failed to hydrate Auto-Gear persistence cache",e)});var Wr=typeof Zs=="function"?Zs():[],Un=Wr.slice(),fa=null,uf=typeof Js=="function"?Js():NA,Va=typeof ec=="function"?ec(uf):[];typeof tc=="function"&&tc();typeof oc=="function"&&oc();var yd=typeof rc=="function"?rc():"";typeof nc=="function"&&nc();var mn=typeof ac=="function"?ac():{};typeof gg=="function"&&gg(uf);var ra=null,aP=null,Fr="all";function Nc(e){const t=e==="remove"?"remove":"add",o=t==="remove"?eR:Jw;if(!o)return;const r=getLanguageTexts(Ge),n=getLanguageTexts(Wt),a=aP?.listType===t,l=t==="remove"?"autoGearRemoveItemButton":"autoGearAddItemButton",s=r[l]||n[l]||o.textContent||"",u=r.autoGearUpdateItemButton||n.autoGearUpdateItemButton||s,f=a?u:s,y=a?ICON_GLYPHS.save:t==="remove"?ICON_GLYPHS.minus:ICON_GLYPHS.add;me(o,f,y),o.setAttribute("data-help",f)}function il(e=Un,t=mn){return fI({rules:Array.isArray(e)?e:[],monitorDefaults:zh(t)})}const iP=il(Wr,mn);Va.length&&il(Va[0].rules,Va[0].monitorDefaults);na(()=>{Ne("reconcileAutoGearAutoPresetState",[{persist:!0,skipRender:!0}],{defer:!0}),Ne("alignActiveAutoGearPreset",[{skipRender:!0}],{defer:!0})});function df(e){return Wr=Array.isArray(e)?e.map(wA).filter(Boolean):[],Wr}function $h(){il()}function lP(){if(al&&typeof al.persistAutoGearRules=="function"){const e=al.persistAutoGearRules(Wr);e&&typeof e.catch=="function"&&e.catch(t=>{console.warn("Failed to save automatic gear rules",t)});return}if(typeof saveAutoGearRules<"u"&&typeof saveAutoGearRules=="function")try{saveAutoGearRules(Wr);return}catch(e){console.warn("Failed to save automatic gear rules",e)}if(!(typeof localStorage>"u"))try{localStorage.setItem(qI,JSON.stringify(Wr))}catch(e){console.warn("Failed to save automatic gear rules",e)}}function sP(e){return Object.prototype.hasOwnProperty.call(ci,e)?Uh(ci[e],mn[e]):""}function cP(e,{skipRender:t=!1,skipRefresh:o=!1}={}){const r=zh(e);let n=!1;return Object.keys(ci).forEach(a=>{const l=mn[a]||"",s=r[a]||"";l!==s&&(n=!0)}),n?(mn=persistAutoGearMonitorDefaults(r),$h(),t||(Ne("updateAutoGearMonitorDefaultOptions",[],{defer:!0}),Ne("renderAutoGearMonitorDefaultsControls",[],{defer:!0})),!o&&typeof refreshGearListIfVisible=="function"&&refreshGearListIfVisible(),mn):(t||(Ne("updateAutoGearMonitorDefaultOptions",[],{defer:!0}),Ne("renderAutoGearMonitorDefaultsControls",[],{defer:!0})),mn)}function uP(e,t,o={}){if(!Object.prototype.hasOwnProperty.call(ci,e))return sP(e);const r=mn[e]||"",n=Uh(ci[e],t);if(r===n)return o.skipRender||(Ne("updateAutoGearMonitorDefaultOptions",[],{defer:!0}),Ne("renderAutoGearMonitorDefaultsControls",[],{defer:!0})),n;const a={...mn,[e]:n};return cP(a,o),n}function UA(e){const t=df(e);Un=t.slice(),fa=null,lP(),$h(),Ne("alignActiveAutoGearPreset",[{skipRender:!0}],{defer:!0}),Ne("syncAutoGearAutoPreset",[t],{defer:!0}),Ne("renderAutoGearPresetsControls",[],{defer:!0})}function Yh(){return Wr.slice()}function dP(e){Array.isArray(e)?UA(e):(Un=typeof Zs=="function"?Zs():[],fa=null,df(Un),$h()),uf=typeof Js=="function"?Js():NA,Va=typeof ec=="function"?ec(uf):[],typeof tc=="function"&&tc(),typeof oc=="function"&&oc(),yd=typeof rc=="function"?rc():"",typeof nc=="function"&&nc(),mn=typeof ac=="function"?ac():{},Va.length?il(Va[0].rules,Va[0].monitorDefaults):il(),il(),Ne("reconcileAutoGearAutoPresetState",[{persist:!0,skipRender:!0}],{defer:!0}),Ne("syncAutoGearAutoPreset",[Un],{defer:!0}),Ne("alignActiveAutoGearPreset",[{skipRender:!0}],{defer:!0}),Ne("renderAutoGearBackupControls",[],{defer:!0}),Ne("renderAutoGearPresetsControls",[],{defer:!0}),Ne("closeAutoGearEditor",[],{defer:!0}),Ne("renderAutoGearRulesList",[],{defer:!0}),Ne("updateAutoGearCatalogOptions",[],{defer:!0}),Ne("renderAutoGearMonitorDefaultsControls",[],{defer:!0})}function fP(){if(!fa||!fa.length){fa=null,df(Un);return}fa=null,df(Un)}function pP(){return fa?fa.slice():null}typeof window<"u"&&(window.getProjectScopedAutoGearRules=pP,window.getAutoGearRules=Yh,window.setAutoGearRules=UA,window.collectAutoGearCatalogNames=yP,window.GEAR_LIST_CATEGORIES=Wh,window.collectAutoGearMonitorNames=bP,window.collectAutoGearTripodNames=vP,window.collectDeviceManagerCategories=Iw,window.hasSeededAutoGearDefaults=mP,window.activateSettingsTab=xs,window.clearAllAutoGearConditions=SD,window.callCoreFunctionIfAvailable=Ne,typeof window.autoGearScenarioFilter>"u"&&Object.defineProperty(window,"autoGearScenarioFilter",{configurable:!0,get:()=>Fr,set:e=>{Fr=e}}));function zA(e){return typeof e=="string"&&e!=="None"&&(/[A-Z]/.test(e)||/\d/.test(e)||e.includes(" "))}function mP(){if(typeof loadAutoGearSeedFlag<"u"&&typeof loadAutoGearSeedFlag=="function")try{return!!loadAutoGearSeedFlag()}catch(e){return console.warn("Failed to read automatic gear seed flag",e),!1}if(typeof localStorage>"u")return!1;try{return localStorage.getItem(WI)==="1"}catch(e){return console.warn("Failed to read automatic gear seed flag",e),!1}}function yP(){const e=new Set,t=n=>{zA(n)&&e.add(n)},o=typeof WeakSet=="function"?new WeakSet:null,r=n=>{if(!(!n||typeof n!="object")){if(o){if(o.has(n))return;o.add(n)}Object.entries(n).forEach(([a,l])=>{!l||typeof l!="object"||Array.isArray(l)||(t(a),r(l))})}};return typeof We=="object"&&We&&r(We),OP().forEach(n=>{n&&typeof n.name=="string"&&t(n.name)}),Wr.forEach(n=>{[...n.add,...n.remove].forEach(a=>t(a.name))}),Array.from(e).sort((n,a)=>n.localeCompare(a,void 0,{sensitivity:"base"}))}function gP(e){const t=Xs(e);return t==="monitor"||t==="directorMonitor"||Kh.has(t)?t:"none"}var hP="none",Cg=null,Ag=null;function bP(e=hP){const t=gP(e);if(t==="none")return[];const o=t==="monitor",r=t==="directorMonitor",n=new Set;o&&n.add("monitor"),r&&n.add("directorMonitor");const a=new Set,l=s=>{if(typeof s=="string"){const u=s.trim();u&&a.add(u)}};if(o){const s=We&&We.monitors?We.monitors:null;s&&typeof s=="object"&&Object.keys(s).forEach(l)}if(r){const s=We&&We.directorMonitors?We.directorMonitors:null;s&&typeof s=="object"&&Object.keys(s).filter(u=>u&&u!=="None").forEach(l)}return Wr.forEach(s=>{const u=f=>{if(!f||typeof f!="object")return;const y=f.selectorDefault;if(!y)return;const R=Xs(f.selectorType);n.has(R)&&l(y)};(s.add||[]).forEach(u),(s.remove||[]).forEach(u)}),tP.forEach(l),Array.from(a).sort(localeSort)}function SP(e){const t=Xs(e);if(t==="none")return[];const o=new Set,r=n=>{if(typeof n!="string")return;const a=n.trim();a&&o.add(a)};return Wr.forEach(n=>{const a=l=>{!l||typeof l!="object"||Xs(l.selectorType)===t&&r(l.selectorDefault)};(n.add||[]).forEach(a),(n.remove||[]).forEach(a)}),Array.from(o)}function vP(e){if(!Kh.has(e))return[];const t=collectTripodPreferenceOptions(e),o=new Set,r=[];return t.forEach(a=>{if(!a||!a.value)return;const l=a.value.trim().toLowerCase();o.has(l)||(o.add(l),r.push({value:a.value.trim(),label:a.label||a.value.trim()}))}),SP(e).map(a=>a.trim()).filter(Boolean).sort(localeSort).forEach(a=>{const l=a.toLowerCase();o.has(l)||(o.add(l),r.push({value:a,label:a}))}),r}var EP=(e,t="")=>{if(typeof document>"u")return t;const o=document.documentElement;if(!o)return t;const r=typeof window<"u"&&typeof window.getComputedStyle=="function"?window.getComputedStyle(o).getPropertyValue(e).trim():"";return r||o.style.getPropertyValue(e).trim()||t};typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{const e=typeof globalThis<"u"&&globalThis&&globalThis.cineOffline||typeof window<"u"&&window&&window.cineOffline||null;if(e&&typeof e.registerServiceWorker=="function"){e.registerServiceWorker("service-worker.js",{immediate:!0,window,navigator});return}try{navigator.serviceWorker.register("service-worker.js")}catch(t){typeof console<"u"&&typeof console.warn=="function"&&console.warn("Service worker registration failed via fallback path.",t)}});function qS(e){if(!e)return 0;const t=typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():null;return t&&typeof t.height=="number"&&t.height>0?t.height:e.offsetHeight||0}function wg(e){if(typeof document>"u")return;const t=document.documentElement;t&&(e>0?t.style.setProperty("--install-banner-offset",`${Math.ceil(e)} px`):t.style.removeProperty("--install-banner-offset"))}let Jp=!1;const Ml="Force reload requires an internet connection. Try again once you are back online.";function CP(){if(Jp||typeof window>"u")return;const e=typeof window.requestAnimationFrame=="function"&&window.requestAnimationFrame.bind(window)||typeof window.setTimeout=="function"&&(t=>window.setTimeout(t,0));e&&(Jp=!0,e(()=>{Jp=!1,ha()}))}function ha(){if(typeof document>"u")return;const e=document.getElementById("installPromptBanner");if(!e){wg(0);return}const t=document.getElementById("offlineIndicator"),r=!!(t&&!t.hasAttribute("hidden"))?qS(t):0;r>0?e.style.top=`${r} px`:e.style.removeProperty("top");const n=!e.hasAttribute("hidden"),a=n?qS(e):0,l=r+a;wg(l),n&&!a&&CP()}function AP(){if(typeof document>"u"||typeof document.getElementById!="function"||typeof navigator>"u")return;const e=document.getElementById("offlineIndicator");if(!e)return;const t=document.getElementById("reloadButton"),o=e.dataset||{},r=typeof e.textContent=="string"&&e.textContent.trim()?e.textContent.trim():"Offline";if(e.dataset){(!o.baseLabel||!o.baseLabel.trim())&&(e.dataset.baseLabel=r);const K=typeof e.getAttribute=="function"?e.getAttribute("data-help"):null;(!e.dataset.baseHelp||!e.dataset.baseHelp.trim())&&(typeof K=="string"&&K.trim()?e.dataset.baseHelp=K.trim():e.dataset.baseHelp=e.dataset.baseLabel||r),(!e.dataset.forceReloadNotice||!e.dataset.forceReloadNotice.trim())&&(e.dataset.forceReloadNotice=Ml),(!e.dataset.degradedLabel||!e.dataset.degradedLabel.trim())&&(e.dataset.degradedLabel=e.dataset.forceReloadNotice||Ml),(!e.dataset.degradedHelp||!e.dataset.degradedHelp.trim())&&(e.dataset.degradedHelp=e.dataset.baseHelp||r),(!e.dataset.reasonCacheFallback||!e.dataset.reasonCacheFallback.trim())&&(e.dataset.reasonCacheFallback=e.dataset.forceReloadNotice||Ml),(!e.dataset.reasonGetFailed||!e.dataset.reasonGetFailed.trim())&&(e.dataset.reasonGetFailed=e.dataset.reasonCacheFallback),(!e.dataset.reasonTimeout||!e.dataset.reasonTimeout.trim())&&(e.dataset.reasonTimeout=e.dataset.reasonCacheFallback),(!e.dataset.reasonUnreachable||!e.dataset.reasonUnreachable.trim())&&(e.dataset.reasonUnreachable=e.dataset.reasonCacheFallback),(!e.dataset.reasonReloadBlocked||!e.dataset.reasonReloadBlocked.trim())&&(e.dataset.reasonReloadBlocked=e.dataset.forceReloadNotice||Ml),(!e.dataset.reasonUnknown||!e.dataset.reasonUnknown.trim())&&(e.dataset.reasonUnknown=e.dataset.degradedHelp||r)}const n="cine-sw:connectivity-status",a="cine-sw-logs";let l=null,s=null,u=!1,f=null;const y=()=>{const K=e.dataset?.forceReloadNotice;if(typeof K=="string"&&K.trim())return K.trim();const re=t?.dataset?.offlineNotice;return typeof re=="string"&&re.trim()?re.trim():Ml},R=()=>typeof navigator.onLine=="boolean"?navigator.onLine!==!1:!0,_=()=>e.dataset?.baseLabel&&e.dataset.baseLabel.trim()?e.dataset.baseLabel.trim():r,T=()=>e.dataset?.baseHelp&&e.dataset.baseHelp.trim()?e.dataset.baseHelp.trim():_(),I=()=>e.dataset?.degradedLabel&&e.dataset.degradedLabel.trim()?e.dataset.degradedLabel.trim():y(),m=()=>e.dataset?.degradedHelp&&e.dataset.degradedHelp.trim()?e.dataset.degradedHelp.trim():I(),g={"cache-fallback":"reasonCacheFallback","get-failed":"reasonGetFailed",timeout:"reasonTimeout",unreachable:"reasonUnreachable","reload-blocked":"reasonReloadBlocked",offline:"forceReloadNotice"},A=K=>{if(!K){const ae=e.dataset?.reasonUnknown;return typeof ae=="string"&&ae.trim()?ae.trim():""}if(K==="navigator-offline")return y();const re=g[K]||"reasonUnknown",Ee=e.dataset?.[re];if(typeof Ee=="string"&&Ee.trim())return Ee.trim();if(re!=="reasonUnknown"){const ae=e.dataset?.reasonUnknown;if(typeof ae=="string"&&ae.trim())return ae.trim()}return""},w=K=>{if(!K)return"";if(typeof K=="string")return K.trim();if(typeof K!="object")return"";const re=[];if(typeof K.status=="number"&&Number.isFinite(K.status)&&re.push(`HTTP ${K.status} `),typeof K.statusText=="string"&&K.statusText.trim()&&re.push(K.statusText.trim()),typeof K.message=="string"&&K.message.trim()&&re.push(K.message.trim()),typeof K.error=="string"&&K.error.trim()&&re.push(K.error.trim()),!re.length&&K.error&&typeof K.error=="object"){const Ee=w(K.error);Ee&&re.push(Ee)}return!re.length&&K.reason&&typeof K.reason=="string"&&re.push(K.reason.trim()),re.join(" ").trim()},E=(K,re)=>{if(!t)return;const Ee=typeof re=="string"&&re.trim()?re.trim():y();if(t.dataset){if(!t.dataset.onlineTitle||!t.dataset.onlineTitle.trim()){const ae=t.getAttribute("title");typeof ae=="string"&&ae.trim()?t.dataset.onlineTitle=ae.trim():t.dataset.onlineTitle="Force reload"}if(!t.dataset.onlineHelp||!t.dataset.onlineHelp.trim()){const ae=t.getAttribute("data-help");typeof ae=="string"&&ae.trim()?t.dataset.onlineHelp=ae.trim():t.dataset.onlineHelp=t.dataset.onlineTitle}if(!t.dataset.onlineAriaLabel||!t.dataset.onlineAriaLabel.trim()){const ae=t.getAttribute("aria-label");typeof ae=="string"&&ae.trim()?t.dataset.onlineAriaLabel=ae.trim():t.dataset.onlineAriaLabel=t.dataset.onlineTitle}(!t.dataset.offlineNotice||!t.dataset.offlineNotice.trim())&&(t.dataset.offlineNotice=Ee)}if(K==="online"){t.removeAttribute("disabled"),t.removeAttribute("aria-disabled");const ae=t.dataset?.onlineTitle||"Force reload",Z=t.dataset?.onlineHelp||ae;t.setAttribute("title",ae),t.setAttribute("data-help",Z);const ce=t.dataset?.onlineAriaLabel||ae;t.setAttribute("aria-label",ce)}else t.setAttribute("disabled","disabled"),t.setAttribute("aria-disabled","true"),t.setAttribute("title",Ee),t.setAttribute("data-help",Ee),t.setAttribute("aria-label",Ee),t.dataset&&(t.dataset.offlineNotice=Ee,t.dataset.degradedNotice=Ee)},S=K=>{if(!K||typeof K!="object")return null;const re=typeof K.status=="string"&&K.status?K.status:"unknown",Ee=typeof K.reason=="string"&&K.reason?K.reason:null,ae=typeof K.timestamp=="number"&&Number.isFinite(K.timestamp)?K.timestamp:Date.now();let Z=null;return K.detail&&typeof K.detail=="object"?Z=K.detail:typeof K.detail=="string"&&K.detail.trim()&&(Z=K.detail.trim()),{status:re,reason:Ee,detail:Z,timestamp:ae}},C=()=>{const K=R();let re=K?"online":"offline",Ee=K?null:"navigator-offline",ae=null,Z=null;if(l){const ce=l.status;ce==="offline"?(re="offline",Ee=l.reason||Ee||"offline",ae=l.detail||null,Z=l.timestamp||null):ce==="degraded"&&re!=="offline"?(re="degraded",Ee=l.reason||"unknown",ae=l.detail||null,Z=l.timestamp||null):ce==="online"&&K&&(re="online",Ee=l.reason||null,ae=l.detail||null,Z=l.timestamp||null)}if(e.dataset&&(e.dataset.connectivityStatus=re,Ee?e.dataset.connectivityReason=Ee:e.dataset.connectivityReason&&delete e.dataset.connectivityReason,Z?e.dataset.connectivityTimestamp=String(Z):e.dataset.connectivityTimestamp&&delete e.dataset.connectivityTimestamp),re==="online"){const ce=_(),Le=T();(typeof e.textContent=="string"||typeof e.textContent=="object")&&(e.textContent=ce),e.setAttribute("data-help",Le),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.hasAttribute("hidden")||e.setAttribute("hidden",""),E("online",y())}else if(re==="offline"){const ce=y();e.dataset&&(e.dataset.forceReloadNotice=ce,e.dataset.reloadNotice=ce),(typeof e.textContent=="string"||typeof e.textContent=="object")&&(e.textContent=ce),e.setAttribute("data-help",ce),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.removeAttribute("hidden"),E("offline",ce)}else{const ce=I(),Le=A(Ee),Pe=w(ae),q=[];Le&&q.push(Le),Pe&&Pe!==Le&&q.push(Pe);const oe=q.join(" ").trim(),ne=oe?`${ce} — ${oe} `:ce,ge=m(),J=[];oe&&J.push(oe),ge&&(!oe||ge.indexOf(oe)===-1)&&J.push(ge);const he=J.join(" ").trim()||ge||ne;e.dataset&&(e.dataset.forceReloadNotice=ne,e.dataset.reloadNotice=ne),(typeof e.textContent=="string"||typeof e.textContent=="object")&&(e.textContent=ne),e.setAttribute("data-help",he),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.removeAttribute("hidden"),E("degraded",ne)}typeof ha=="function"&&ha()},F=K=>{const re=S(K);re&&(l&&l.status===re.status&&l.reason===re.reason&&l.timestamp===re.timestamp||(l=re,C(),typeof Ne=="function"&&Ne("updateStorageSummary",[],{defer:!0})))},j=K=>{if(!K)return;let re=null;try{re=K.data||null}catch{re=null}if(!(!re||typeof re!="object")&&re.type===n){const Ee=re.state&&typeof re.state=="object"?re.state:null;Ee&&F(Ee)}},$=()=>{if(!(s||u)){if(typeof BroadcastChannel!="function"){u=!0;return}try{s=new BroadcastChannel(a),s.addEventListener("message",j)}catch(K){u=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn("setupOfflineIndicator: Unable to listen for connectivity updates",K)}}},Q=(()=>{try{if(typeof cineOffline<"u"&&cineOffline)return cineOffline}catch{}const K=[typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let re=0;re<K.length;re+=1){const Ee=K[re];if(Ee&&typeof Ee.cineOffline=="object")return Ee.cineOffline}return null})();if(Q&&typeof Q.subscribeConnectivityStatus=="function")try{f=Q.subscribeConnectivityStatus(F)}catch{f=null}const le=Q&&typeof Q.getConnectivityState=="function"?Q.getConnectivityState():typeof window<"u"&&window&&typeof window.cineConnectivityStatus=="object"?window.cineConnectivityStatus:null;return le&&F(le),$(),typeof window<"u"&&typeof window.addEventListener=="function"&&(window.addEventListener("online",C),window.addEventListener("offline",C)),C(),f}typeof window<"u"&&AP();function Pa(){const e=document.getElementById("sideMenu"),t=document.getElementById("menuOverlay"),o=document.getElementById("menuToggle"),r=typeof document<"u"?document.body:null;!e||!t||!o||(e.classList.remove("open"),e.setAttribute("hidden",""),o.setAttribute("aria-expanded","false"),r&&r.classList.remove("menu-open"),o.focus())}typeof window<"u"&&(window.closeSideMenu=Pa);function Qh(){const e=document.getElementById("sideMenu"),t=document.getElementById("menuOverlay"),o=document.getElementById("menuToggle"),r=document.getElementById("closeMenuButton"),n=typeof document<"u"?document.body:null;if(!e||!t||!o||e.classList.contains("open"))return;e.classList.add("open"),e.removeAttribute("hidden"),o.setAttribute("aria-expanded","true");const a=o.dataset?.closeLabel||r?.getAttribute("aria-label")||"Close menu",l=o.dataset?.closeHelp||r?.getAttribute("data-help")||a;o.setAttribute("aria-label",a),o.setAttribute("data-help",l),n?.classList.add("menu-open")}typeof window<"u"&&(window.openSideMenu=Qh);function Xh(){const e=document.getElementById("menuToggle"),t=document.getElementById("sideMenu"),o=document.getElementById("menuOverlay"),r=document.getElementById("closeMenuButton");if(!e||!t||!o){document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",Xh);return}if(e.dataset.menuInitialized)return;e.dataset.menuInitialized="true",o.style.display,e.addEventListener("click",()=>{t.classList.contains("open")?Pa():Qh()}),o.addEventListener("click",Pa),r?.addEventListener("click",()=>{Pa(),e.focus()}),typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(max-width: 768px)").addEventListener("change",l=>{!l.matches&&t.classList.contains("open")&&Pa()}),document.addEventListener("keydown",a=>{a.key==="Escape"&&t.classList.contains("open")&&(Pa(),e.focus())}),t.querySelectorAll("a").forEach(a=>{a.addEventListener("click",l=>{const s=a.getAttribute("href");s&&s.startsWith("#")&&(l.preventDefault(),document.querySelector(s)?.scrollIntoView(),history.replaceState(null,"",window.location.pathname+window.location.search)),Pa()})});const n=a=>{a&&(a==="open-settings"?document.getElementById("settingsButton")?.click():a==="open-help"?document.getElementById("helpButton")?.click():a==="open-own-gear"?typeof ff=="function"&&ff():a==="open-contacts"&&(gw(),Oc(pr)))};t.querySelectorAll("[data-sidebar-action]").forEach(a=>{a.addEventListener("click",l=>{l.preventDefault(),n(a.dataset.sidebarAction)})})}typeof window<"u"&&(window.setupSideMenu=Xh);function Zh(){const e=document.getElementById("topBar"),t=e?.querySelector(".feature-search"),o=e?.querySelector(".controls"),r=document.querySelector("#sideMenu .sidebar-controls");if(!e||!t||!o||!r||typeof window.matchMedia!="function"){document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",Zh);return}if(e.dataset.responsiveInitialized)return;e.dataset.responsiveInitialized="true";const n=window.matchMedia("(max-width: 768px)"),a=()=>{n.matches?(r.appendChild(t),r.appendChild(o)):(e.appendChild(t),e.appendChild(o))};n.addEventListener("change",a),a()}typeof window<"u"&&(window.setupResponsiveControls=Zh);let Jn=null,Hc=null,ea=null,jc=null,qa={items:[],map:new Map};function fp(){return typeof be=="object"&&be?be:typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null}function wP(){if(Jn)return Jn;if(typeof require=="function")try{const t=require("./own-gear/store.js");if(t&&typeof t.createOwnGearStore=="function")return Jn=t,Jn}catch{}const e=fp();return e&&typeof e.cineOwnGearStore=="object"&&e.cineOwnGearStore?(Jn=e.cineOwnGearStore,Jn):typeof cineOwnGearStore=="object"&&cineOwnGearStore?(Jn=cineOwnGearStore,Jn):null}function wa(){if(Hc)return Hc;const e=wP();if(e&&typeof e.createOwnGearStore=="function")try{return Hc=e.createOwnGearStore(),Hc}catch{}return null}function RP(){if(ea)return ea;if(typeof require=="function")try{const t=require("./own-gear/view.js");if(t&&typeof t.createOwnGearView=="function")return ea=t,ea}catch{}const e=fp();return e&&typeof e.cineOwnGearView=="object"&&e.cineOwnGearView?(ea=e.cineOwnGearView,ea):typeof cineOwnGearView=="object"&&cineOwnGearView?(ea=cineOwnGearView,ea):null}function LP(){return{scope:fp()||{},document:typeof document<"u"?document:null,getLanguageTexts,defaultLanguage:Wt,getCurrentLanguage:()=>Ge,formatWithPlaceholders:dI,setButtonLabelWithIconBinding:me,iconMarkup:Qr,iconGlyphs:ICON_GLYPHS,openDialog:Oc,closeDialog:xn,formatQuantityText:BP,devices:We,gearItemTranslations:hd,looksLikeGearName:zA}}function Jh(){if(jc)return jc;const e=RP(),t=wa();if(!e||typeof e.createOwnGearView!="function"||!t)return null;try{return jc=e.createOwnGearView(t,LP()),jc}catch{}return null}function GP(){const e=wa();if(e&&typeof e.invalidateCache=="function")try{e.invalidateCache();return}catch{}qa={items:[],map:new Map}}function TP(){const e=wa();if(e&&typeof e.refreshCache=="function")try{const a=e.refreshCache();return{items:Array.isArray(a.items)?a.items.slice():[],map:a.map instanceof Map?a.map:new Map}}catch{}const t=dp();let o=[];if(t&&typeof t.loadStoredOwnGearItems=="function")try{o=t.loadStoredOwnGearItems()}catch(a){console.warn("Unable to load own gear items for automatic gear rules via module.",a)}(!Array.isArray(o)||!o.length)&&(o=PP());const r=Array.isArray(o)?o.map(qA).filter(Boolean):[],n=new Map;return r.forEach(a=>{!a||!a.id||n.set(a.id,a)}),qa={items:r,map:n},qa}function VA(){const e=wa();if(e&&typeof e.getCacheSnapshot=="function")try{const t=e.getCacheSnapshot();return{items:Array.isArray(t.items)?t.items.slice():[],map:t.map instanceof Map?t.map:new Map}}catch{}return qa&&Array.isArray(qa.items)&&qa.items.length?qa:TP()}function OP(){return VA().items.slice()}function kP(e){if(!e)return null;const t=wa();if(t&&typeof t.findCachedById=="function")try{return t.findCachedById(e)}catch{}return VA().map.get(e)||null}function IP(){const e=wa();if(e&&typeof e.generateOwnGearId=="function")try{return e.generateOwnGearId()}catch{}const t=dp();if(t&&typeof t.generateOwnGearId=="function")try{return t.generateOwnGearId()}catch(n){console.warn("Unable to generate own gear id via module.",n)}if(typeof crypto<"u"&&crypto&&typeof crypto.randomUUID=="function")try{return crypto.randomUUID()}catch{}const o=Date.now().toString(36),r=Math.floor(Math.random()*1e8).toString(36);return`own - ${o} -${r} `}function qA(e){const t=wa();if(t&&typeof t.normalizeOwnGearRecord=="function")try{return t.normalizeOwnGearRecord(e)}catch{}const o=dp();if(o&&typeof o.normalizeOwnGearRecord=="function")try{return o.normalizeOwnGearRecord(e)}catch(a){console.warn("Unable to normalize own gear entry via module.",a)}if(!e||typeof e!="object")return null;const r=typeof e.name=="string"?e.name.trim():"";if(!r)return null;const n={id:typeof e.id=="string"&&e.id.trim()?e.id.trim():IP(),name:r};return typeof e.quantity=="string"&&e.quantity.trim()?n.quantity=e.quantity.trim():typeof e.quantity=="number"&&Number.isFinite(e.quantity)&&(n.quantity=String(e.quantity)),typeof e.notes=="string"&&e.notes.trim()&&(n.notes=e.notes.trim()),typeof e.source=="string"&&e.source.trim()&&(n.source=e.source.trim()),n}function PP(){const e=wa();if(e&&typeof e.loadStoredOwnGearItems=="function")try{return e.loadStoredOwnGearItems()}catch{}const t=dp();if(t&&typeof t.loadStoredOwnGearItems=="function")try{return t.loadStoredOwnGearItems()}catch(o){console.warn("Unable to load own gear items via module.",o)}if(typeof loadOwnGear!="function")return[];try{const o=loadOwnGear();if(!Array.isArray(o))return[];const r=new Set;return o.map(qA).filter(n=>!n||r.has(n.id)?!1:(r.add(n.id),!0))}catch(o){return console.warn("Failed to load own gear items from storage",o),[]}}function BP(e){if(typeof e!="string")return"";const t=e.trim();if(!t)return"";const o=Number(t.replace(",","."));if(!Number.isNaN(o)&&Number.isFinite(o)){const r=Math.round(o*1e3)/1e3;return String(r).replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}return t}function ff(){const e=Jh();if(e&&typeof e.openDialog=="function")try{e.openDialog()}catch{}}function MP(e){const t=Jh();if(t&&typeof t.applyLocalization=="function")try{t.applyLocalization(e)}catch{}}function gd(){Xh(),Zh()}function _P(){const e=Jh();if(e){try{e.initialize()}catch{}try{je("openOwnGearDialog",ff)}catch{const o=fp();o&&(o.openOwnGearDialog=ff)}}}if(typeof window<"u"&&typeof document<"u")var WS=()=>{gd(),_P(),gw()},nR=()=>{const t=()=>{typeof window<"u"&&typeof window.setTimeout=="function"?window.setTimeout(WS,0):WS()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()};const Zo=(()=>{if(typeof require=="function")try{return require("./app-core-auto-backup.js")}catch{}let e=null;if(typeof hg=="function")e=hg("./app-core-auto-backup.js");else if(typeof cineRuntimeBootstrapExports=="object"&&cineRuntimeBootstrapExports&&typeof cineRuntimeBootstrapExports.fallbackRequireCoreRuntimeModule=="function")e=cineRuntimeBootstrapExports.fallbackRequireCoreRuntimeModule("./app-core-auto-backup.js");else{const o=(typeof be<"u"?be:null)||(typeof globalThis<"u"?globalThis:null)||(typeof window<"u"?window:null)||(typeof self<"u"?self:null)||(typeof global<"u"?global:null);o&&typeof o.fallbackRequireCoreRuntimeModule=="function"&&(e=o.fallbackRequireCoreRuntimeModule("./app-core-auto-backup.js"))}if(e&&typeof e=="object")return e;const t=[typeof be<"u"?be:null,typeof globalThis<"u"?globalThis:null,typeof window<"u"?window:null,typeof self<"u"?self:null,typeof global<"u"?global:null];for(let o=0;o<t.length;o+=1){const r=t[o];if(!(!r||typeof r!="object"&&typeof r!="function"))try{if(r.CORE_AUTO_BACKUP&&typeof r.CORE_AUTO_BACKUP=="object")return r.CORE_AUTO_BACKUP}catch{}}return null})(),DP=Zo&&typeof Zo.AUTO_BACKUP_NAME_PREFIX=="string"?Zo.AUTO_BACKUP_NAME_PREFIX:"auto-backup-",FP=Zo&&typeof Zo.AUTO_BACKUP_DELETION_PREFIX=="string"?Zo.AUTO_BACKUP_DELETION_PREFIX:"auto-backup-before-delete-";var sc=Zo&&typeof Zo.logAutoBackupEvent=="function"?Zo.logAutoBackupEvent:function(t,o,r,n){const a=typeof t=="string"&&t?t.toLowerCase():"info",l=typeof o=="string"&&o?o:"Auto backup event";if(typeof console>"u"||!console)return;let s=null;if(a==="error"&&typeof console.error=="function"?s=console.error:a==="warn"&&typeof console.warn=="function"?s=console.warn:a==="info"&&typeof console.info=="function"?s=console.info:a==="debug"&&typeof console.debug=="function"?s=console.debug:typeof console.log=="function"&&(s=console.log),typeof s=="function")try{s.call(console,`[auto - backup] ${l} `,r||null,n||null)}catch{}};const KS=Zo&&typeof Zo.cloneProjectEntryForSetup=="function"?Zo.cloneProjectEntryForSetup:null,$S=Zo&&typeof Zo.ensureAutoBackupsFromProjects=="function"?Zo.ensureAutoBackupsFromProjects:null;var WA=!1;try{typeof localStorage<"u"&&(WA=localStorage.getItem("showAutoBackups")==="true")}catch(e){sc("warn","Could not load auto backup visibility preference",e)}function xP(e){if(KS)return KS(e,{deepClone:bl,log:sc});if(!e||typeof e!="object")return{};try{return bl(e)}catch(t){sc("warn","Fallback auto backup project clone failed",t);const o={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}}function NP(){return $S?$S({loadProject:typeof loadProject=="function"?loadProject:null,getSetups:KA,storeSetups:$A,log:sc,cloneProjectEntry:e=>xP(e),autoBackupNamePrefix:DP,autoBackupDeletionPrefix:FP}):!1}if(WA)try{NP()}catch(e){sc("warn","Failed to prepare auto backups from project storage",e)}function KA(){return loadSetups()}je("getSetups",KA);function $A(e){saveSetups(e)}je("storeSetups",$A);function HP(){return typeof loadSessionState=="function"?loadSessionState():null}je("loadSession",HP);function jP(e){typeof saveSessionState=="function"&&saveSessionState(e)}je("storeSession",jP);function YA(e,t){e&&(t?typeof e.showModal=="function"?e.showModal():e.setAttribute("open",""):typeof e.close=="function"?e.close():e.removeAttribute("open"))}function Oc(e){YA(e,!0)}function xn(e){YA(e,!1)}function mi(e){return e?typeof e.open=="boolean"?!!(e.open||typeof e.hasAttribute=="function"&&e.hasAttribute("open")):typeof e.hasAttribute=="function"&&e.hasAttribute("open"):!1}je("normalizeDevicesForPersistence",kA);function UP(){let e=null;try{e=typeof updateGlobalDevicesReference=="function"?updateGlobalDevicesReference:null}catch{e=null}if(e)return e;const t=[],o=r=>{!r||typeof r!="object"&&typeof r!="function"||t.indexOf(r)===-1&&t.push(r)};try{o(typeof fo<"u"?fo:null)}catch{}try{o(typeof be<"u"?be:null)}catch{}try{o(typeof DEVICE_GLOBAL_SCOPE<"u"?DEVICE_GLOBAL_SCOPE:null)}catch{}try{o(typeof za<"u"?za:null)}catch{}o(typeof globalThis<"u"?globalThis:null),o(typeof window<"u"?window:null),o(typeof self<"u"?self:null),o(typeof global<"u"?global:null);for(let r=0;r<t.length;r+=1){const n=t[r];try{const a=n&&n.updateGlobalDevicesReference;if(typeof a=="function")return a}catch{}}return null}window.defaultDevices===void 0&&(window.defaultDevices=bl(window.devices),Tk(window.defaultDevices),OA(window.defaultDevices));let YS=loadDeviceData();if(YS){const e=bl(window.defaultDevices);for(const[o,r]of Object.entries(YS))if(o==="fiz"&&r&&typeof r=="object"){e.fiz=e.fiz||{};for(const[n,a]of Object.entries(r))e.fiz[n]={...e.fiz[n]||{},...a||{}}}else e[o]&&typeof e[o]=="object"?e[o]={...e[o],...r||{}}:e[o]=r;window.devices=We=e;const t=UP();if(typeof t=="function")try{t(We)}catch(o){typeof console<"u"&&typeof console.warn=="function"&&console.warn("Failed to update global devices reference during initialization",o)}}OA(We,{force:!0});function QA(e){const t=We.cameras&&We.cameras[e];return!t||!t.power||!Array.isArray(t.power.batteryPlateSupport)?[]:t.power.batteryPlateSupport.filter(Boolean).map(o=>!o||typeof o!="object"?o:o.type==="Gold Mount"?{...o,type:"Gold-Mount"}:o)}function zP(e){return QA(e).map(t=>t.type).filter(Boolean)}function QS(e){const t=QA(e);if(!t.length)return[];const o=new Set(t.filter(r=>r.mount==="native"&&r.type).map(r=>r.type));return o.size===1&&o.has("B-Mount")?["B-Mount"]:[...new Set(zP(e))]}var Cs;function VP(){if(typeof document>"u"){typeof Cs>"u"&&(Cs=null);return}document.getElementById("batteryPlateRow"),Cs=document.getElementById("batteryPlateSelect")}function qP(){VP();const e=typeof ui?.value=="string"?ui.value:"",t=typeof QS=="function"?QS(e):[];if(!Array.isArray(t)||!t.length)return null;const o=typeof Cs?.value=="string"?Cs.value:"";return o||(t.includes("V-Mount")?"V-Mount":t[0])}function WP(){const e=document.getElementById("batteryLabel");if(!e)return;const t=getLanguageTexts(Ge),o=getLanguageTexts(Wt),r=resolveTextEntryInternal(t,o,"batterySelectHelp","");r?e.setAttribute("data-help",r):e.removeAttribute("data-help"),qP()==="B-Mount"?e.textContent=resolveTextEntryInternal(t,o,"batteryBMountLabel","B-Mount Battery:"):e.textContent=resolveTextEntryInternal(t,o,"batteryLabel","Battery:")}const KP={info:"status-message--info",success:"status-message--success",note:"status-message--note",warning:"status-message--warning",danger:"status-message--danger"};function $P(e,t){if(!e)return;const o=Object.values(KP);if(e.classList)o.forEach(r=>e.classList.remove(r));else if(typeof e.className=="string"){const r=e.className.split(/\s+/).filter(Boolean).filter(n=>!o.includes(n));e.className=r.join(" ")}e.dataset&&"statusLevel"in e.dataset?delete e.dataset.statusLevel:e.removeAttribute&&e.removeAttribute("data-status-level")}var hd={};function YP(){var e=[];function t(){return typeof globalThis<"u"&&globalThis?globalThis:typeof window<"u"&&window?window:typeof self<"u"&&self?self:typeof global<"u"&&global?global:null}try{e.push(typeof be<"u"?be:null)}catch{}e.push(t());for(var o=0;o<e.length;o+=1){var r=e[o];if(!(!r||typeof r!="object"))try{var n=r.translations;if(n&&typeof n.loadLanguage=="function")return n}catch{}}return typeof ir<"u"&&ir&&typeof ir.loadLanguage=="function"?ir:null}var At=YP();if(typeof i>"u"){var ir=null,nr=(function(){return typeof globalThis<"u"&&globalThis?globalThis:typeof window<"u"&&window?window:typeof self<"u"&&self?self:typeof global<"u"&&global?global:null})();At&&At.texts&&At.categoryNames&&At.gearItems?ir={texts:At.texts,categoryNames:At.categoryNames,gearItems:At.gearItems}:nr&&nr.texts&&nr.categoryNames&&nr.gearItems&&(ir={texts:nr.texts,categoryNames:nr.categoryNames,gearItems:nr.gearItems}),ir?(nr&&(!nr.texts&&ir.texts&&(nr.texts=ir.texts),!nr.categoryNames&&ir.categoryNames&&(nr.categoryNames=ir.categoryNames),!nr.gearItems&&ir.gearItems&&(nr.gearItems=ir.gearItems)),hd=ir.gearItems||{}):hd={}}else hd=typeof gearItems<"u"?gearItems:{};var bd=null,Rg=null,Sd=null,vd=null,XS=null,ZS=null,JS=null,ev=null,tv=null,ov=null,rv=null,nv=null,Lg=[],xi=null,rs=null,ns=null,un=null,Ni=null,Gg=null,as=null,Ed=null,Hi=null,ji=null,pa=null,Ba=null,vi=null,is=null,Io=null,aa=null,ls=null,Cd=null,eb={},XA={};const M=(function(){if(typeof resolveCoreSupportModule=="function")try{const t=resolveCoreSupportModule("cineCoreAutoGearUi","./app-core-auto-gear-ui.js");if(t&&typeof t=="object")return t}catch{}try{if(typeof cineCoreAutoGearUi=="object"&&cineCoreAutoGearUi)return cineCoreAutoGearUi}catch{}try{const t=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null;if(t&&typeof t.cineCoreAutoGearUi=="object"&&t.cineCoreAutoGearUi)return t.cineCoreAutoGearUi}catch{}return{}})();var em=M.autoGearRuleNameInput!==void 0?M.autoGearRuleNameInput:null,Uc=M.autoGearRuleNameLabel!==void 0?M.autoGearRuleNameLabel:null,ss=M.autoGearScenariosSelect!==void 0?M.autoGearScenariosSelect:null,zc=M.autoGearScenariosLabel!==void 0?M.autoGearScenariosLabel:null,Vc=M.autoGearScenarioModeLabel!==void 0?M.autoGearScenarioModeLabel:null;M.autoGearScenarioMultiplierContainer!==void 0&&M.autoGearScenarioMultiplierContainer;var tm=M.autoGearScenarioBaseSelect!==void 0?M.autoGearScenarioBaseSelect:null,qc=M.autoGearScenarioBaseLabel!==void 0?M.autoGearScenarioBaseLabel:null,om=M.autoGearScenarioFactorInput!==void 0?M.autoGearScenarioFactorInput:null,Wc=M.autoGearScenarioFactorLabel!==void 0?M.autoGearScenarioFactorLabel:null,Ur=M.autoGearShootingDaysMode!==void 0?M.autoGearShootingDaysMode:null,zr=M.autoGearShootingDaysInput!==void 0?M.autoGearShootingDaysInput:null,Kc=M.autoGearShootingDaysLabel!==void 0?M.autoGearShootingDaysLabel:null,rm=M.autoGearShootingDaysHelp!==void 0?M.autoGearShootingDaysHelp:null,nm=M.autoGearShootingDaysValueLabel!==void 0?M.autoGearShootingDaysValueLabel:null,cs=M.autoGearMatteboxSelect!==void 0?M.autoGearMatteboxSelect:null,$c=M.autoGearMatteboxLabel!==void 0?M.autoGearMatteboxLabel:null;M.autoGearMatteboxModeLabel!==void 0&&M.autoGearMatteboxModeLabel;M.autoGearMatteboxModeSelect!==void 0&&M.autoGearMatteboxModeSelect;var us=M.autoGearCameraHandleSelect!==void 0?M.autoGearCameraHandleSelect:null,Yc=M.autoGearCameraHandleLabel!==void 0?M.autoGearCameraHandleLabel:null;M.autoGearCameraHandleModeLabel!==void 0&&M.autoGearCameraHandleModeLabel;M.autoGearCameraHandleModeSelect!==void 0&&M.autoGearCameraHandleModeSelect;var ds=M.autoGearViewfinderExtensionSelect!==void 0?M.autoGearViewfinderExtensionSelect:null,Qc=M.autoGearViewfinderExtensionLabel!==void 0?M.autoGearViewfinderExtensionLabel:null;M.autoGearViewfinderExtensionModeLabel!==void 0&&M.autoGearViewfinderExtensionModeLabel;M.autoGearViewfinderExtensionModeSelect!==void 0&&M.autoGearViewfinderExtensionModeSelect;var Xc=M.autoGearDeliveryResolutionSelect!==void 0?M.autoGearDeliveryResolutionSelect:null,Zc=M.autoGearDeliveryResolutionLabel!==void 0?M.autoGearDeliveryResolutionLabel:null;M.autoGearDeliveryResolutionModeLabel!==void 0&&M.autoGearDeliveryResolutionModeLabel;M.autoGearDeliveryResolutionModeSelect!==void 0&&M.autoGearDeliveryResolutionModeSelect;var fs=M.autoGearVideoDistributionSelect!==void 0?M.autoGearVideoDistributionSelect:null,Jc=M.autoGearVideoDistributionLabel!==void 0?M.autoGearVideoDistributionLabel:null;M.autoGearVideoDistributionModeLabel!==void 0&&M.autoGearVideoDistributionModeLabel;M.autoGearVideoDistributionModeSelect!==void 0&&M.autoGearVideoDistributionModeSelect;var Ad=M.autoGearCameraSelect!==void 0?M.autoGearCameraSelect:null,eu=M.autoGearCameraLabel!==void 0?M.autoGearCameraLabel:null;M.autoGearCameraModeLabel!==void 0&&M.autoGearCameraModeLabel;M.autoGearCameraModeSelect!==void 0&&M.autoGearCameraModeSelect;var tu=M.autoGearOwnGearLabel!==void 0?M.autoGearOwnGearLabel:null;M.autoGearOwnGearModeLabel!==void 0&&M.autoGearOwnGearModeLabel;M.autoGearOwnGearModeSelect!==void 0&&M.autoGearOwnGearModeSelect;var wd=M.autoGearOwnGearSelect!==void 0?M.autoGearOwnGearSelect:null,ou=M.autoGearCameraWeightLabel!==void 0?M.autoGearCameraWeightLabel:null,Vr=M.autoGearCameraWeightOperator!==void 0?M.autoGearCameraWeightOperator:null,ru=M.autoGearCameraWeightOperatorLabel!==void 0?M.autoGearCameraWeightOperatorLabel:null,qr=M.autoGearCameraWeightValueInput!==void 0?M.autoGearCameraWeightValueInput:null,nu=M.autoGearCameraWeightValueLabel!==void 0?M.autoGearCameraWeightValueLabel:null,au=M.autoGearCameraWeightHelp!==void 0?M.autoGearCameraWeightHelp:null,Rd=M.autoGearMonitorSelect!==void 0?M.autoGearMonitorSelect:null,iu=M.autoGearMonitorLabel!==void 0?M.autoGearMonitorLabel:null;M.autoGearMonitorModeLabel!==void 0&&M.autoGearMonitorModeLabel;M.autoGearMonitorModeSelect!==void 0&&M.autoGearMonitorModeSelect;var am=M.autoGearTripodHeadBrandSelect!==void 0?M.autoGearTripodHeadBrandSelect:null,lu=M.autoGearTripodHeadBrandLabel!==void 0?M.autoGearTripodHeadBrandLabel:null;M.autoGearTripodHeadBrandModeLabel!==void 0&&M.autoGearTripodHeadBrandModeLabel;M.autoGearTripodHeadBrandModeSelect!==void 0&&M.autoGearTripodHeadBrandModeSelect;var im=M.autoGearTripodBowlSelect!==void 0?M.autoGearTripodBowlSelect:null,su=M.autoGearTripodBowlLabel!==void 0?M.autoGearTripodBowlLabel:null;M.autoGearTripodBowlModeLabel!==void 0&&M.autoGearTripodBowlModeLabel;M.autoGearTripodBowlModeSelect!==void 0&&M.autoGearTripodBowlModeSelect;var lm=M.autoGearTripodTypesSelect!==void 0?M.autoGearTripodTypesSelect:null,cu=M.autoGearTripodTypesLabel!==void 0?M.autoGearTripodTypesLabel:null;M.autoGearTripodTypesModeLabel!==void 0&&M.autoGearTripodTypesModeLabel;M.autoGearTripodTypesModeSelect!==void 0&&M.autoGearTripodTypesModeSelect;var sm=M.autoGearTripodSpreaderSelect!==void 0?M.autoGearTripodSpreaderSelect:null,uu=M.autoGearTripodSpreaderLabel!==void 0?M.autoGearTripodSpreaderLabel:null;M.autoGearTripodSpreaderModeLabel!==void 0&&M.autoGearTripodSpreaderModeLabel;M.autoGearTripodSpreaderModeSelect!==void 0&&M.autoGearTripodSpreaderModeSelect;var As=M.autoGearCrewPresentSelect!==void 0?M.autoGearCrewPresentSelect:null,du=M.autoGearCrewPresentLabel!==void 0?M.autoGearCrewPresentLabel:null;M.autoGearCrewPresentModeLabel!==void 0&&M.autoGearCrewPresentModeLabel;M.autoGearCrewPresentModeSelect!==void 0&&M.autoGearCrewPresentModeSelect;var ws=M.autoGearCrewAbsentSelect!==void 0?M.autoGearCrewAbsentSelect:null,fu=M.autoGearCrewAbsentLabel!==void 0?M.autoGearCrewAbsentLabel:null;M.autoGearCrewAbsentModeLabel!==void 0&&M.autoGearCrewAbsentModeLabel;M.autoGearCrewAbsentModeSelect!==void 0&&M.autoGearCrewAbsentModeSelect;var Ld=M.autoGearWirelessSelect!==void 0?M.autoGearWirelessSelect:null,pu=M.autoGearWirelessLabel!==void 0?M.autoGearWirelessLabel:null;M.autoGearWirelessModeLabel!==void 0&&M.autoGearWirelessModeLabel;M.autoGearWirelessModeSelect!==void 0&&M.autoGearWirelessModeSelect;var Gd=M.autoGearMotorsSelect!==void 0?M.autoGearMotorsSelect:null,mu=M.autoGearMotorsLabel!==void 0?M.autoGearMotorsLabel:null;M.autoGearMotorsModeLabel!==void 0&&M.autoGearMotorsModeLabel;M.autoGearMotorsModeSelect!==void 0&&M.autoGearMotorsModeSelect;var Td=M.autoGearControllersSelect!==void 0?M.autoGearControllersSelect:null,yu=M.autoGearControllersLabel!==void 0?M.autoGearControllersLabel:null;M.autoGearControllersModeLabel!==void 0&&M.autoGearControllersModeLabel;M.autoGearControllersModeSelect!==void 0&&M.autoGearControllersModeSelect;var Od=M.autoGearDistanceSelect!==void 0?M.autoGearDistanceSelect:null,gu=M.autoGearDistanceLabel!==void 0?M.autoGearDistanceLabel:null;M.autoGearDistanceModeLabel!==void 0&&M.autoGearDistanceModeLabel;M.autoGearDistanceModeSelect!==void 0&&M.autoGearDistanceModeSelect;var QP=M.autoGearConditionLabels!==void 0?M.autoGearConditionLabels:{},XP=M.autoGearConditionSelects!==void 0?M.autoGearConditionSelects:{},ZA=M.autoGearConditionLogicLabels!==void 0?M.autoGearConditionLogicLabels:{},tb=M.autoGearConditionLogicSelects!==void 0?M.autoGearConditionLogicSelects:{};const ZP=typeof M.getAutoGearScenarioModeSelectElement=="function"?M.getAutoGearScenarioModeSelectElement:()=>M.autoGearScenarioModeSelectElement||null,JA=typeof M.setAutoGearScenarioModeSelectElement=="function"?M.setAutoGearScenarioModeSelectElement:e=>{M.autoGearScenarioModeSelectElement=e||null};let Ja=ZP();JA(Ja);var cc=Array.isArray(M.AUTO_GEAR_CONDITION_KEYS)?M.AUTO_GEAR_CONDITION_KEYS:["always","scenarios","shootingDays","mattebox","cameraHandle","viewfinderExtension","deliveryResolution","videoDistribution","camera","ownGear","cameraWeight","monitor","tripodHeadBrand","tripodBowl","tripodTypes","tripodSpreader","crewPresent","crewAbsent","wireless","motors","controllers","distance"];const ew=M.AUTO_GEAR_REPEATABLE_CONDITIONS instanceof Set?M.AUTO_GEAR_REPEATABLE_CONDITIONS:new Set(["scenarios","mattebox","cameraHandle","viewfinderExtension","deliveryResolution","videoDistribution","camera","ownGear","monitor","tripodHeadBrand","tripodBowl","tripodTypes","tripodSpreader","crewPresent","crewAbsent","wireless","motors","controllers","distance"]);var JP=M.AUTO_GEAR_CONDITION_FALLBACK_LABELS||{always:"Always include",scenarios:"Required scenarios",shootingDays:"Shooting days condition",mattebox:"Mattebox options",cameraHandle:"Camera handles",viewfinderExtension:"Viewfinder extension",deliveryResolution:"Delivery resolution",videoDistribution:"Video distribution",camera:"Camera",ownGear:"Own gear items",cameraWeight:"Camera weight",monitor:"Onboard monitor",tripodHeadBrand:"Tripod head brand",tripodBowl:"Tripod bowl size",tripodTypes:"Tripod types",tripodSpreader:"Tripod spreader",crewPresent:"Crew present",crewAbsent:"Crew absent",wireless:"Wireless transmitter",motors:"FIZ motors",controllers:"FIZ controllers",distance:"FIZ distance devices"};function eB(){if(typeof Dg=="function")try{const e=Dg();if(e==="imperial"||e==="metric")return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(t==="imperial"||t==="metric")return t}}catch(e){console.warn("resolveGlobalFocusScalePreference helper threw an error while resolving a focus scale label",e)}if(typeof focusScalePreference=="string"){const e=focusScalePreference.trim().toLowerCase();if(e==="imperial"||e==="metric")return e}return""}function tB(e){const t=r=>{if(typeof normalizeFocusScale=="function")try{const n=normalizeFocusScale(r);if(n==="imperial"||n==="metric")return n;if(n===""||n===null)return""}catch(n){console.warn("normalizeFocusScale helper threw an error while resolving a focus scale label",n)}if(typeof r=="string"){const n=r.trim().toLowerCase();if(n==="imperial")return"imperial";if(n==="metric")return"metric";if(!n)return""}return""},o=t(e);if(o===""&&(typeof e>"u"||e===null||typeof e=="string"&&!e.trim())){const r=eB(),n=t(r);if(n==="imperial"||n==="metric")return n}return o}function oB(e=Ge,t){const o=tB(t),r=getLanguageTexts(e)||{},n=getLanguageTexts("en")||{},a=r.focusScaleMetric||n.focusScaleMetric||r.focusScaleSetting||n.focusScaleSetting||"Metric",l=r.focusScaleImperial||n.focusScaleImperial||r.focusScaleSetting||n.focusScaleSetting||"Imperial";if(o==="imperial")return l;if(o==="metric")return a;if(typeof t=="string"){const s=t.trim();if(s)return s}return r.focusScaleSetting||r.lensFocusScaleLabel||n.focusScaleSetting||n.lensFocusScaleLabel||a}const Wt=(function(){const t=[function(){try{if(typeof DEFAULT_LANGUAGE=="string"&&DEFAULT_LANGUAGE)return DEFAULT_LANGUAGE}catch{}return null},function(){try{if(typeof LOCALE_MODULE=="object"&&LOCALE_MODULE&&typeof LOCALE_MODULE.DEFAULT_LANGUAGE=="string"&&LOCALE_MODULE.DEFAULT_LANGUAGE)return LOCALE_MODULE.DEFAULT_LANGUAGE}catch{}return null},function(){try{if(typeof ACTIVE_LOCALIZATION_ACCESSORS=="object"&&ACTIVE_LOCALIZATION_ACCESSORS&&typeof ACTIVE_LOCALIZATION_ACCESSORS.defaultLanguage=="string"&&ACTIVE_LOCALIZATION_ACCESSORS.defaultLanguage)return ACTIVE_LOCALIZATION_ACCESSORS.defaultLanguage}catch{}return null},function(){try{const r=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null;if(r&&typeof r.DEFAULT_LANGUAGE=="string"&&r.DEFAULT_LANGUAGE)return r.DEFAULT_LANGUAGE;if(r&&typeof r.CPP_DEFAULT_LANGUAGE_SAFE=="string"&&r.CPP_DEFAULT_LANGUAGE_SAFE)return r.CPP_DEFAULT_LANGUAGE_SAFE}catch{}return null}];for(let o=0;o<t.length;o+=1){const r=t[o]();if(typeof r=="string"&&r)return r}return"en"})();if(At&&typeof At.loadLanguage=="function")try{var cm=At.loadLanguage(Wt);cm&&typeof cm.then=="function"&&cm.catch(function(t){console.warn("Failed to eagerly load default translations",t)})}catch(e){console.warn("Failed to trigger default translation load",e)}const av=(()=>{const e=new Set,t=o=>{if(typeof o!="string")return;const r=o.trim().toLowerCase();if(!r)return;e.add(r);const n=r.slice(0,2);n&&n!==r&&e.add(n)};if(typeof i=="object"&&i!==null&&Object.keys(i).forEach(t),At&&typeof At=="object"&&(At.texts&&typeof At.texts=="object"&&Object.keys(At.texts).forEach(t),typeof At.getAvailableLanguages=="function"))try{const o=At.getAvailableLanguages();Array.isArray(o)&&o.forEach(t)}catch(o){console.warn("Failed to read available languages from translations runtime",o)}return t(Wt),Array.from(e)})();function tw(e){if(!e)return{language:Wt,matched:!1};const t=String(e).toLowerCase();if(av.includes(t))return{language:t,matched:!0};const o=t.slice(0,2);return av.includes(o)?{language:o,matched:!0}:{language:Wt,matched:!1}}try{const e=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null;e&&typeof e=="object"&&((typeof e.CPP_DEFAULT_LANGUAGE_SAFE!="string"||!e.CPP_DEFAULT_LANGUAGE_SAFE)&&(e.CPP_DEFAULT_LANGUAGE_SAFE=Wt),(typeof e.DEFAULT_LANGUAGE!="string"||!e.DEFAULT_LANGUAGE)&&(e.DEFAULT_LANGUAGE=Wt))}catch{}var Ge=Wt;let um=null;try{const e=localStorage.getItem("language"),t=tw(e);e&&t.matched&&(Ge=t.language)}catch(e){console.warn("Could not load language from localStorage",e)}try{typeof document<"u"&&document&&document.documentElement&&(document.documentElement.lang=Ge)}catch{}const Tg=()=>{try{if(typeof document<"u"&&document){const e=document.getElementById("languageSelect");e&&(e.value=Ge);const t=document.getElementById("settingsLanguage");t&&(t.value=Ge)}}catch(e){console.warn("Could not synchronize language selectors with initial language",e)}};Tg();typeof document<"u"&&document&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Tg,{once:!0}):Tg());async function rB(e,t={}){const o=typeof e=="string"?e:"",r=tw(o);let n=r.language;if(At&&typeof At.resolveLocaleKey=="function")try{n=At.resolveLocaleKey(n)}catch(c){console.warn("Failed to normalize language via runtime",c)}if(At&&typeof At.loadLanguage=="function")try{typeof At.showLoadingState=="function"&&At.showLoadingState(n);const c=At.loadLanguage(n);c&&typeof c.then=="function"&&await c}catch(c){console.warn(`Failed to load translations for "${n}"`,c)}finally{typeof At.clearLoadingState=="function"&&At.clearLoadingState()}const a=typeof i=="object"&&i||At&&At.texts||{};a[n]||(console.warn(`Missing translation bundle for "${n}".Falling back to ${Wt}.`),n=Wt),o&&n===Wt&&!r.matched&&o.slice(0,2).toLowerCase()!==Wt&&console.warn(`Unsupported language preference "${o}".Falling back to ${Wt}.`),e=n,!a[e]&&a[Wt]&&(a[e]=a[Wt]);const l=Ge;Ge=e,$n();const s=l!==e,u=()=>{if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof Event=="function")try{window.dispatchEvent(new Event("languagechange"))}catch(c){console.warn("Failed to dispatch languagechange event",c)}};s&&(typeof queueMicrotask=="function"?queueMicrotask(u):typeof setTimeout=="function"?setTimeout(u,0):u());try{localStorage.setItem("language",e)}catch(c){console.warn("Could not save language to localStorage",c)}Fv&&(Fv.value=e),zl&&(zl.value=e),document.documentElement.lang=e,document.title=a[e].appTitle,document.getElementById("mainTitle")&&(document.getElementById("mainTitle").textContent=a[e].appTitle),document.getElementById("tagline")&&(document.getElementById("tagline").textContent=a[e].tagline);const f=typeof document<"u"?document:null,y=vn(),R=()=>{let c=null;if(typeof refreshDeviceLists=="function"?c=refreshDeviceLists:y&&typeof y.refreshDeviceLists=="function"&&(c=y.refreshDeviceLists.bind(y)),typeof c!="function")return!1;try{c()}catch(h){console.warn("setLanguage: refreshDeviceLists execution failed",h)}return!0};if(!R()){const c=()=>{R()};typeof queueMicrotask=="function"?queueMicrotask(c):typeof setTimeout=="function"&&setTimeout(c,0)}const _=a[Wt]||{},T=c=>{if(typeof Rl=="function")try{return Rl(c)}catch(h){console.warn("normalizeTemperatureUnit helper threw an error; falling back to safe normalization",h)}if(typeof c=="string"){const h=c.trim().toLowerCase();if(h===Xt?.fahrenheit||h==="fahrenheit"||h==="f")return Xt?.fahrenheit||"fahrenheit";if(h===Xt?.celsius||h==="celsius"||h==="c")return Xt?.celsius||"celsius"}return Xt?.celsius||"celsius"},I=c=>{if(typeof c=="string"){const h=c.trim().toLowerCase();if(h==="imperial"||h==="feet"||h==="ft")return"imperial";if(h==="metric"||h==="metre"||h==="meter"||h==="m")return"metric"}return"metric"};(()=>{if(typeof normalizeFocusScale=="function")return normalizeFocusScale;const c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null;if(c&&typeof c.normalizeFocusScale=="function")return c.normalizeFocusScale;if(c)try{Object.defineProperty(c,"normalizeFocusScale",{value:I,writable:!0,configurable:!0})}catch{c.normalizeFocusScale=I}return I})();const g=c=>{if(typeof normalizeFocusScale=="function")try{const h=normalizeFocusScale(c);if(h==="imperial"||h==="metric")return h}catch(h){console.warn("normalizeFocusScale helper threw an error; falling back to safe normalization",h)}return I(c)},A=()=>{const c=U=>typeof U=="string"&&U?g(U):null,h=[()=>typeof focusScalePreference<"u"?focusScalePreference:null,()=>typeof sessionFocusScale<"u"?sessionFocusScale:null,()=>{try{const U=y&&y.preferences&&typeof y.preferences.getFocusScale=="function"?y.preferences.getFocusScale:null;if(U)return U()}catch(U){console.warn("Failed to resolve focus scale preference from runtime scope; using fallback",U)}return null}];for(const U of h){const de=c(U());if(de)return de}return"metric"},w=c=>{if(!c)return"";const h=i[e],U=h&&typeof h[c]=="string"?h[c]:null;return U&&U.trim()?U:typeof _[c]=="string"?_[c]:""},E=(c,h,U="")=>{if(!c)return;const de=w(h)||U;c.textContent=de},S=(c,h,{target:U,highlight:de,isButton:xe=!0}={})=>{if(!f)return null;const qe=f.createElement("a");return qe.className=xe?"help-link button-link":"help-link",qe.href=c,U&&qe.setAttribute("data-help-target",U),de&&qe.setAttribute("data-help-highlight",de),qe.textContent=h,qe},C=(c,h,U=[])=>{if(!c||!f)return;const de=w(h);if(c.innerHTML="",!de){c.setAttribute("hidden","");return}c.removeAttribute("hidden");const xe=f.createDocumentFragment(),qe=/%(?:(\d+)\$)?s/g;let it=0,ct=0,ye;for(;(ye=qe.exec(de))!==null;){const Oo=ye.index;Oo>it&&xe.appendChild(f.createTextNode(de.slice(it,Oo)));const so=typeof ye[1]=="string"?Math.max(parseInt(ye[1],10)-1,0):ct++,Re=U[so];if(typeof Re=="function"){const Ue=Re();Ue&&xe.appendChild(Ue)}it=qe.lastIndex}it<de.length&&xe.appendChild(f.createTextNode(de.slice(it))),c.appendChild(xe)},F=(c,h)=>{if(!c)return;const U=w(h);c.textContent=U,U?c.removeAttribute("hidden"):c.setAttribute("hidden","")},j=c=>{if(c){if(y&&typeof y=="object")try{if(c in y)return y[c]}catch{}if(typeof globalThis<"u"&&globalThis!==y)try{if(c in globalThis)return globalThis[c]}catch{}}},$=(c,h)=>{if(!c||!h)return h;try{je(c,h)}catch{}return h},x=(c,h)=>{let U=null;try{U=j(c)}catch(de){console.warn(`Failed to resolve runtime value for "${c}"`,de),U=null}if(U&&typeof U=="object")return U;if(f&&typeof f.getElementById=="function"&&h)try{const de=f.getElementById(h);return $(c,de)}catch(de){return console.warn(`Failed to resolve document element "${h}"`,de),null}return null},Q=x("settingsShowAutoBackups","settingsShowAutoBackups"),le=x("backupSettings","backupSettings"),K=x("backupDiffToggleButton","backupDiffToggleButton"),re=x("backupDiffHeading","backupDiffHeading"),Ee=x("backupDiffIntro","backupDiffIntro"),ae=x("backupDiffPrimaryLabel","backupDiffPrimaryLabel"),Z=x("backupDiffPrimarySelect","backupDiffPrimary"),ce=x("backupDiffSecondaryLabel","backupDiffSecondaryLabel"),Le=x("backupDiffSecondarySelect","backupDiffSecondary"),Pe=x("backupDiffEmptyState","backupDiffEmptyState"),q=x("backupDiffNotesLabel","backupDiffNotesLabel"),oe=x("backupDiffNotes","backupDiffNotes"),ne=x("backupDiffExportButton","backupDiffExport"),ge=x("backupDiffCloseButton","backupDiffClose"),J=x("restoreRehearsalButton","restoreRehearsalButton"),he=x("restoreRehearsalHeading","restoreRehearsalHeading"),ke=x("restoreRehearsalIntro","restoreRehearsalIntro"),nt=x("restoreRehearsalModeLabel","restoreRehearsalModeLabel"),pt=x("restoreRehearsalModeBackupText","restoreRehearsalModeBackupText"),Gt=x("restoreRehearsalModeProjectText","restoreRehearsalModeProjectText"),Kt=x("restoreRehearsalFileLabel","restoreRehearsalFileLabel"),Je=x("restoreRehearsalBrowse","restoreRehearsalBrowse"),ro=x("restoreRehearsalFileName","restoreRehearsalFileName"),$t=x("restoreRehearsalStatus","restoreRehearsalStatus"),Eo=x("restoreRehearsalRuleHeading","restoreRehearsalRuleHeading"),Co=x("restoreRehearsalRuleIntro","restoreRehearsalRuleIntro"),ve=x("restoreRehearsalRuleEmpty","restoreRehearsalRuleEmpty"),Ao=x("restoreRehearsalTableCaption","restoreRehearsalTableCaption"),et=x("restoreRehearsalMetricHeader","restoreRehearsalMetricHeader"),no=x("restoreRehearsalLiveHeader","restoreRehearsalLiveHeader"),eo=x("restoreRehearsalSandboxHeader","restoreRehearsalSandboxHeader"),Oe=x("restoreRehearsalDifferenceHeader","restoreRehearsalDifferenceHeader"),Fe=x("restoreRehearsalCloseButton","restoreRehearsalClose"),br=x("restoreRehearsalProceedButton","restoreRehearsalProceed"),Do=x("restoreRehearsalAbortButton","restoreRehearsalAbort");Dv&&(Dv.textContent=i[e].skipToContent);const Mt=document.getElementById("offlineIndicator");if(Mt){const c=i[e].offlineIndicator,h=i[e].reloadAppOfflineNotice||c,U=i[e].offlineIndicatorHelp||h,de=typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine===!1:!1;Mt.dataset&&(Mt.dataset.baseLabel=c,Mt.dataset.baseHelp=U,Mt.dataset.forceReloadNotice=h,Mt.dataset.degradedLabel=i[e].offlineIndicatorDegraded||h,Mt.dataset.degradedHelp=i[e].offlineIndicatorDegradedHelp||U,Mt.dataset.reasonCacheFallback=i[e].offlineIndicatorReasonCacheFallback||h,Mt.dataset.reasonGetFailed=i[e].offlineIndicatorReasonGetFailed||h,Mt.dataset.reasonTimeout=i[e].offlineIndicatorReasonTimeout||h,Mt.dataset.reasonUnreachable=i[e].offlineIndicatorReasonUnreachable||h,Mt.dataset.reasonReloadBlocked=i[e].offlineIndicatorReasonReloadBlocked||h,Mt.dataset.reasonUnknown=i[e].offlineIndicatorReasonUnknown||U),de?(Mt.textContent=h,Mt.setAttribute("data-help",h),Mt.removeAttribute("hidden")):(Mt.textContent=c,Mt.setAttribute("data-help",U))}xg(e);const sr=US[e]||US.en,Fo=document.getElementById("impressumLink");Fo&&(Fo.textContent=i[e].impressum,sr?.imprint&&Fo.setAttribute("href",sr.imprint));const xo=document.getElementById("privacyLink");xo&&(xo.textContent=i[e].privacy,sr?.privacy&&xo.setAttribute("href",sr.privacy));const cr=document.getElementById("setupManageHeading");cr&&(cr.textContent=i[e].setupManageHeading,cr.setAttribute("data-help",i[e].setupManageHeadingHelp));const ur=document.getElementById("deviceSelectionHeading");ur&&(ur.textContent=i[e].deviceSelectionHeading,ur.setAttribute("data-help",i[e].deviceSelectionHeadingHelp));const on=document.getElementById("resultsHeading");on&&(on.textContent=i[e].resultsHeading,on.setAttribute("data-help",i[e].resultsHeadingHelp));const jt=document.getElementById("deviceManagerHeading");jt&&(jt.textContent=i[e].deviceManagerHeading,jt.setAttribute("data-help",i[e].deviceManagerHeadingHelp));const er=document.getElementById("batteryComparisonHeading"),vt=document.getElementById("batteryComparisonDescription"),xt=document.getElementById("batteryTable"),tr=document.getElementById("setupDiagramHeading");tr&&(tr.textContent=i[e].setupDiagramHeading,tr.setAttribute("data-help",i[e].setupDiagramHeadingHelp)),document.querySelectorAll("#sideMenu [data-nav-key]").forEach(c=>{if(!c||!c.dataset)return;const h=c.dataset.navKey;if(!h)return;const U=i[e][h];U&&(h==="contactsNav"&&typeof me=="function"&&c?.tagName==="BUTTON"?me(c,U,typeof ICON_GLYPHS=="object"&&ICON_GLYPHS&&ICON_GLYPHS.contacts?ICON_GLYPHS.contacts:kt("\\uF404",ICON_FONT_KEYS.UICONS)):c.textContent=U,c.setAttribute("aria-label",U));const de=`${h}Help`,xe=i[e][de];if(xe)c.setAttribute("title",xe),c.setAttribute("data-help",xe);else{if(h==="projectRequirementsNav"){const qe=`${h}Help`;i[e]&&!i[e][qe]&&console.warn(`[Cine Power Planner] Missing help text for ${h} in lang ${e} `)}c.removeAttribute("title"),c.removeAttribute("data-help")}}),MP(e);const kr=document.getElementById("savedSetupsLabel");kr&&(kr.textContent=i[e].savedSetupsLabel,kr.setAttribute("data-help",i[e].setupSelectHelp));const En=document.getElementById("setupNameLabel");En&&(En.textContent=i[e].setupNameLabel,En.setAttribute("data-help",i[e].setupNameHelp)),typeof Gu<"u"&&Gu&&me(Gu,i[e].deleteSetupBtn,ICON_GLYPHS.trash);const to=document.getElementById("sharedLinkLabel");to&&(to.textContent=i[e].sharedLinkLabel,to.setAttribute("data-help",i[e].sharedLinkHelp)),typeof Ti<"u"&&Ti&&me(Ti,i[e].loadSharedLinkBtn,ICON_GLYPHS.fileImport);const v=typeof dn<"u"?dn:document.getElementById("setupSelect");v&&v.setAttribute("data-help",i[e].setupSelectHelp);const k=typeof sa<"u"?sa:document.getElementById("setupNameInput");k&&k.setAttribute("data-help",i[e].setupNameHelp);const O=Gu;O&&typeof O.setAttribute=="function"&&(O.setAttribute("title",i[e].deleteSetupHelp),O.setAttribute("aria-label",i[e].deleteSetupHelp),O.setAttribute("data-help",i[e].deleteSetupHelp));const B=c_;B&&(B.setAttribute("title",i[e].saveSetupHelp),B.setAttribute("aria-label",i[e].saveSetupHelp),B.setAttribute("data-help",i[e].saveSetupHelp));const z=generateOverviewBtn;z&&(z.setAttribute("title",i[e].generateOverviewBtn),z.setAttribute("data-help",i[e].generateOverviewHelp));const Y=generateGearListBtn;Y&&(Y.setAttribute("title",i[e].generateGearListBtn),Y.setAttribute("data-help",i[e].generateGearListHelp));try{const c=i[e].deleteGearListBtnHelp||i[e].deleteGearListBtn,h=deleteGearListProjectBtn;h&&typeof h.setAttribute=="function"&&(me(h,i[e].deleteGearListBtn,ICON_GLYPHS.trash),h.setAttribute("title",c),h.setAttribute("data-help",c),h.setAttribute("aria-label",c))}catch(c){console.warn("Error setting deleteGearListProjectBtn attributes",c)}const se=document.getElementById("editProjectBtn");se&&typeof se.setAttribute=="function"&&(se.textContent=i[e].editProjectBtn,se.setAttribute("title",i[e].editProjectBtn),se.setAttribute("data-help",i[e].editProjectBtn));const fe=document.getElementById("addExtraGearBtn");if(fe&&typeof fe.setAttribute=="function"){const c=i[e].addExtraGearBtn||i.en?.addExtraGearBtn||"Add temporary extra gear";fe.textContent=c,fe.setAttribute("title",c),fe.setAttribute("data-help",c)}if(gm&&(gm.setAttribute("title",i[e].shareSetupBtn),gm.setAttribute("data-help",i[e].shareSetupHelp)),hm){const c=i[e].shareDialogTitle||i.en?.shareDialogTitle||hm.textContent;hm.textContent=c}if(bm){const c=i[e].shareFilenameLabel||i.en?.shareFilenameLabel||bm.textContent;bm.textContent=c}if(wi){const c=i[e].shareDialogConfirm||i.en?.shareDialogConfirm||wi.textContent;me(wi,c,ICON_GLYPHS.fileExport),wi.setAttribute("title",c),wi.setAttribute("aria-label",c),wi.setAttribute("data-help",i[e].shareSetupHelp)}if(Fl){const c=i[e].shareDialogCancel||i.en?.shareDialogCancel||Fl.textContent;me(Fl,c,ICON_GLYPHS.circleX),Fl.setAttribute("title",c),Fl.setAttribute("aria-label",c)}if(Sm){const c=i[e].shareIncludeAutoGearLabel||i.en?.shareIncludeAutoGearLabel||Sm.textContent;Sm.textContent=c;const h=i[e].shareIncludeAutoGearHelp||i.en?.shareIncludeAutoGearHelp||c;vm&&typeof vm.setAttribute=="function"&&vm.setAttribute("data-help",h),Gv&&Gv.setAttribute("aria-label",c)}if(Em){const c=i[e].shareIncludeOwnedGearLabel||i.en?.shareIncludeOwnedGearLabel||Em.textContent;Em.textContent=c;const h=i[e].shareIncludeOwnedGearHelp||i.en?.shareIncludeOwnedGearHelp||c;Cm&&typeof Cm.setAttribute=="function"&&Cm.setAttribute("data-help",h),Tv&&Tv.setAttribute("aria-label",c)}let Te=Nl?Nl.textContent:"";if(Am){const c=i[e].sharedImportDialogTitle||i.en?.sharedImportDialogTitle||Am.textContent;Am.textContent=c}if(Ou){const c=i[e].sharedImportDialogMessage||i.en?.sharedImportDialogMessage||Ou.textContent;Ou.textContent=c,Ou.setAttribute("data-help",c)}if(ku){const c=i[e].sharedImportDialogConfirm||i.en?.sharedImportDialogConfirm||ku.textContent;me(ku,c,ICON_GLYPHS.check),ku.setAttribute("data-help",c)}if(Iu){const c=i[e].sharedImportDialogCancel||i.en?.sharedImportDialogCancel||Iu.textContent;me(Iu,c,ICON_GLYPHS.circleX),Iu.setAttribute("data-help",c)}if(Nl){const c=i[e].sharedImportAutoGearLabel||i.en?.sharedImportAutoGearLabel||Nl.textContent;Nl.textContent=c,Te=c,kv&&kv.setAttribute("data-help",c)}if(oi&&Te&&(oi.setAttribute("aria-label",Te),oi.setAttribute("data-help",Te)),Ri){const c=i[e].sharedImportAutoGearNone||i.en?.sharedImportAutoGearNone||Ri.textContent;Ri.textContent=c;const h=i[e].sharedImportAutoGearNoneHelp||i.en?.sharedImportAutoGearNoneHelp||c;Ri.setAttribute("data-help",h),Ri.setAttribute("title",h),Ri.setAttribute("aria-label",c)}if(Li){const c=i[e].sharedImportAutoGearProject||i.en?.sharedImportAutoGearProject||Li.textContent;Li.textContent=c;const h=i[e].sharedImportAutoGearProjectHelp||i.en?.sharedImportAutoGearProjectHelp||c;Li.setAttribute("data-help",h),Li.setAttribute("title",h),Li.setAttribute("aria-label",c)}if(Gi){const c=i[e].sharedImportAutoGearGlobal||i.en?.sharedImportAutoGearGlobal||Gi.textContent;Gi.textContent=c;const h=i[e].sharedImportAutoGearGlobalHelp||i.en?.sharedImportAutoGearGlobalHelp||c;Gi.setAttribute("data-help",h),Gi.setAttribute("title",h),Gi.setAttribute("aria-label",c)}Ti&&(Ti.setAttribute("title",i[e].loadSharedLinkBtn),Ti.setAttribute("data-help",i[e].applySharedLinkHelp)),runtimeFeedbackBtn&&(runtimeFeedbackBtn.setAttribute("title",i[e].runtimeFeedbackBtn),runtimeFeedbackBtn.setAttribute("data-help",i[e].runtimeFeedbackBtnHelp),me(runtimeFeedbackBtn,i[e].runtimeFeedbackBtn,ICON_GLYPHS.feedback)),dn&&dn.options&&dn.options.length>0&&(dn.options[0].textContent=i[e].newSetupOption),checkSetupChanged();const Be=document.getElementById("cameraLabel");Be&&(Be.textContent=i[e].cameraLabel,Be.setAttribute("data-help",i[e].cameraSelectHelp));const Ve=document.getElementById("monitorLabel");Ve&&(Ve.textContent=i[e].monitorLabel,Ve.setAttribute("data-help",i[e].monitorSelectHelp));const Qe=document.getElementById("videoLabel");Qe&&(Qe.textContent=i[e].videoLabel,Qe.setAttribute("data-help",i[e].videoSelectHelp));const Tt=document.getElementById("cageLabel");Tt&&(Tt.textContent=i[e].cageLabel,Tt.setAttribute("data-help",i[e].cageSelectHelp));const _t=document.getElementById("distanceLabel");_t&&(_t.textContent=i[e].distanceLabel,_t.setAttribute("data-help",i[e].distanceSelectHelp));const mt=document.getElementById("batteryPlateLabel");mt&&(mt.textContent=i[e].batteryPlateLabel,mt.setAttribute("data-help",i[e].batteryPlateSelectHelp));const Ut=document.getElementById("batteryHotswapLabel");Ut&&(Ut.textContent=i[e].batteryHotswapLabel,Ut.setAttribute("data-help",i[e].batteryHotswapSelectHelp)),WP();const Ir=document.getElementById("fizLegend");Ir&&(Ir.textContent=i[e].fizLegend,Ir.setAttribute("data-help",i[e].fizLegendHelp));const wo=document.getElementById("fizMotorsLabel");wo&&(wo.textContent=i[e].fizMotorsLabel,wo.setAttribute("data-help",i[e].fizMotorsHelp));const Sr=document.getElementById("fizControllersLabel");Sr&&(Sr.textContent=i[e].fizControllersLabel,Sr.setAttribute("data-help",i[e].fizControllersHelp)),document.querySelectorAll("#motorNotesLabel,#controllerNotesLabel,#distanceNotesLabel").forEach(c=>{c.textContent=i[e].notesLabel});var Pr=typeof cineResults=="object"?cineResults:null,Cn=!1;if(Pr&&typeof Pr.localizeResultsSection=="function")try{Cn=Pr.localizeResultsSection({lang:e,langTexts:i[e]||{},fallbackTexts:i.en||{},document,breakdownListElem:typeof breakdownListElem<"u"&&breakdownListElem?breakdownListElem:null,elements:{totalPowerLabel:document.getElementById("totalPowerLabel"),batteryCountLabel:document.getElementById("batteryCountLabel"),pinWarning:typeof Eu<"u"?Eu:null,dtapWarning:typeof Cu<"u"?Cu:null,hotswapWarning:typeof Au<"u"?Au:null,powerWarningTitle:typeof wu<"u"?wu:null,powerWarningLimitsHeading:typeof Ru<"u"?Ru:null,powerWarningAdvice:typeof Lu<"u"?Lu:null,powerWarningCloseBtn:typeof Qi<"u"?Qi:null,batteryLifeUnit:document.getElementById("batteryLifeUnit"),batteryLifeLabel:typeof _l<"u"?_l:document.getElementById("batteryLifeLabel"),runtimeAverageNote:typeof vu<"u"?vu:document.getElementById("runtimeAverageNote"),tempNote:document.getElementById("temperatureNote")},refreshTotalCurrentLabels:typeof refreshTotalCurrentLabels=="function"?refreshTotalCurrentLabels:null,updateMountVoltageSettingLabels:typeof updateMountVoltageSettingLabels=="function"?updateMountVoltageSettingLabels:null,getCurrentSetupKey:typeof getCurrentSetupKey=="function"?getCurrentSetupKey:null,renderFeedbackTable:typeof zp=="function"?zp:null,dispatchTemperatureNoteRender:typeof Kp=="function"?Kp:null,refreshFeedbackTemperatureLabel:typeof ms=="function"?ms:null,updateFeedbackTemperatureOptions:typeof kd=="function"?kd:null,lastRuntimeHours:typeof um<"u"?um:null,temperatureUnit:typeof temperatureUnit<"u"?temperatureUnit:null,setButtonLabelWithIcon:typeof me=="function"?me:null,iconGlyphs:typeof ICON_GLYPHS<"u"?ICON_GLYPHS:null})}catch(c){console.warn("cineResults.localizeResultsSection failed",c),Cn=!1}var An=!1;if(Pr&&typeof Pr.localizeBatteryComparisonSection=="function")try{An=Pr.localizeBatteryComparisonSection({lang:e,langTexts:i[e]||{},fallbackTexts:i.en||{},document,batteryComparisonHeading:er,batteryComparisonDescription:vt,batteryComparisonTable:xt})}catch(c){console.warn("cineResults.localizeBatteryComparisonSection failed",c),An=!1}if(An||(er&&(er.textContent=i[e].batteryComparisonHeading,er.setAttribute("data-help",i[e].batteryComparisonHeadingHelp)),vt&&(vt.textContent=i[e].batteryComparisonDescription,i[e].batteryComparisonDescriptionHelp?vt.setAttribute("data-help",i[e].batteryComparisonDescriptionHelp):vt.removeAttribute("data-help")),xt&&(i[e].batteryComparisonTableHelp?xt.setAttribute("data-help",i[e].batteryComparisonTableHelp):xt.removeAttribute("data-help"))),!Cn){const c=document.getElementById("resultsPlainSummary");c&&c.setAttribute("data-help",i[e].resultsPlainSummaryHelp);const h=document.getElementById("resultsPlainSummaryTitle");h&&(h.textContent=i[e].resultsPlainSummaryTitle);const U=document.getElementById("resultsPlainSummaryText");U&&(U.textContent=i[e].resultsPlainSummaryPrompt);const de=document.getElementById("resultsPlainSummaryNote");de&&(de.textContent=i[e].resultsPlainSummaryNote);const xe=typeof breakdownListElem<"u"&&breakdownListElem?breakdownListElem:document.getElementById("breakdownList");xe&&xe.setAttribute("data-help",i[e].breakdownListHelp);const qe=document.getElementById("totalPowerLabel");qe&&i[e]&&(qe.textContent=i[e].totalPowerLabel,qe.setAttribute("data-help",i[e].totalPowerHelp)),typeof refreshTotalCurrentLabels=="function"&&refreshTotalCurrentLabels(e),updateMountVoltageSettingLabels(e);const it=document.getElementById("batteryCountLabel");it&&(it.textContent=i[e].batteryCountLabel,it.setAttribute("data-help",i[e].batteryCountHelp)),Eu&&Eu.setAttribute("data-help",i[e].pinWarningHelp),Cu&&Cu.setAttribute("data-help",i[e].dtapWarningHelp),Au&&Au.setAttribute("data-help",i[e].hotswapWarningHelp),wu&&(wu.textContent=i[e].powerWarningTitle),Ru&&(Ru.textContent=i[e].powerWarningLimitsHeading),Lu&&(Lu.textContent=i[e].powerWarningAdvice),Qi&&me(Qi,i[e].powerWarningClose,ICON_GLYPHS.check);const ct=document.getElementById("batteryLifeUnit");ct&&(ct.textContent=i[e].batteryLifeUnit);const ye=zp(getCurrentSetupKey());if(_l){let so=i[e].batteryLifeLabel;if(ye){const Re=i[e].runtimeUserCountNote.replace("{count}",ye.count),Ue=so.indexOf(")");Ue!==-1&&(so=`${so.slice(0,Ue)}, ${Re}${so.slice(Ue)} `)}_l.textContent=so,_l.setAttribute("data-help",i[e].batteryLifeHelp)}vu&&(vu.textContent=ye&&ye.count>4?i[e].runtimeAverageNote:""),Kp(um),typeof ms=="function"&&ms(e,temperatureUnit),kd(e,temperatureUnit);const Oo=document.getElementById("temperatureNote");Oo&&Oo.setAttribute("data-help",i[e].temperatureNoteHelp)}const we=(c,h)=>{const U=document.getElementById(c);return U&&h!==void 0&&(U.textContent=h),U},wn=(c,h,U)=>{const de=document.getElementById(c);return de&&h&&U!==void 0&&de.setAttribute(h,U),de};if(we("addDeviceHeading",i[e].addDeviceHeading),we("categoryLabel",i[e].categoryLabel),we("subcategoryLabel",i[e].subcategoryLabel),we("deviceNameLabel",i[e].deviceNameLabel),we("consumptionLabel",i[e].consumptionLabel),we("capacityLabel",i[e].capacityLabel),we("pinLabel",i[e].pinLabel),we("dtapLabel",i[e].dtapLabel),we("cameraWattLabel",i[e].cameraWattLabel),we("cameraVoltageLabel",i[e].cameraVoltageLabel),we("cameraPortTypeLabel",i[e].cameraPortTypeLabel),we("cameraPlatesLabel",i[e].cameraPlatesLabel),we("cameraMediaLabel",i[e].cameraMediaLabel),we("cameraLensMountLabel",i[e].cameraLensMountLabel),we("cameraPowerDistLabel",i[e].powerDistributionLabel),we("cameraVideoOutputsLabel",i[e].videoOutputsLabel),we("cameraFIZConnectorLabel",i[e].fizConnectorLabel),we("cameraViewfinderLabel",i[e].viewfinderLabel),we("cameraTimecodeLabel",i[e].timecodeLabel),we("powerInputsHeading",i[e].powerInputsHeading),we("powerDistributionHeading",i[e].powerDistributionHeading),we("videoOutputsHeading",i[e].videoOutputsHeading),we("fizConnectorHeading",i[e].fizConnectorHeading),we("mediaHeading",i[e].mediaHeading),we("viewfinderHeading",i[e].viewfinderHeading),we("lensMountHeading",i[e].lensMountHeading),we("lensDeviceMountHeading",i[e].lensDeviceMountHeading),we("lensDeviceMountLabel",i[e].lensDeviceMountLabel)&&wn("lensDeviceMountLabel","data-help",i[e].lensDeviceMountHelp),we("lensFocusScaleUnitLabel",i[e].lensFocusScaleLabel||i[e].focusScaleSetting)){const c=i[e].lensFocusScaleLabel||i[e].focusScaleSetting,h=i[e].lensFocusScaleHelp||i[e].lensFocusScaleLabel||i[e].focusScaleSettingHelp||c;wn("lensFocusScaleUnitLabel","data-help",h),ca&&(ca.setAttribute("data-help",h),ca.setAttribute("aria-label",c))}O_(e),we("timecodeHeading",i[e].timecodeHeading),we("monitorScreenSizeLabel",i[e].monitorScreenSizeLabel),we("monitorBrightnessLabel",i[e].monitorBrightnessLabel),we("monitorWattLabel",i[e].monitorWattLabel),we("monitorVoltageLabel",i[e].monitorVoltageLabel),we("monitorPortTypeLabel",i[e].monitorPortTypeLabel),we("monitorVideoInputsHeading",i[e].monitorVideoInputsHeading),we("monitorVideoOutputsHeading",i[e].monitorVideoOutputsHeading),we("monitorVideoInputsLabel",i[e].monitorVideoInputsLabel),we("monitorVideoOutputsLabel",i[e].monitorVideoOutputsLabel),we("monitorWirelessTxLabel",i[e].monitorWirelessTxLabel);const or=we("monitorLatencyLabel",i[e].monitorLatencyLabel);if(or){const c=i[e].monitorLatencyHelp;c?(or.setAttribute("data-help",c),or.setAttribute("title",c),Oi&&(Oi.setAttribute("data-help",c),Oi.setAttribute("title",c))):(or.removeAttribute("data-help"),or.removeAttribute("title"),Oi&&(Oi.removeAttribute("data-help"),Oi.removeAttribute("title")))}we("monitorAudioOutputLabel",i[e].monitorAudioOutputLabel),we("viewfinderDetailsHeading",i[e].viewfinderDetailsHeading),we("viewfinderScreenSizeLabel",i[e].viewfinderScreenSizeLabel),we("viewfinderBrightnessLabel",i[e].viewfinderBrightnessLabel),we("viewfinderWattLabel",i[e].viewfinderWattLabel),we("viewfinderVoltageLabel",i[e].viewfinderVoltageLabel),we("viewfinderPortTypeLabel",i[e].viewfinderPortTypeLabel),we("viewfinderVideoInputsHeading",i[e].viewfinderVideoInputsHeading),we("viewfinderVideoOutputsHeading",i[e].viewfinderVideoOutputsHeading),we("viewfinderVideoInputsLabel",i[e].viewfinderVideoInputsLabel),we("viewfinderVideoOutputsLabel",i[e].viewfinderVideoOutputsLabel),we("viewfinderWirelessTxLabel",i[e].viewfinderWirelessTxLabel);const Br=we("viewfinderLatencyLabel",i[e].viewfinderLatencyLabel);if(Br){Br.textContent=i[e].viewfinderLatencyLabel;const c=i[e].viewfinderLatencyHelp;c?(Br.setAttribute("data-help",c),Br.setAttribute("title",c),ki&&(ki.setAttribute("data-help",c),ki.setAttribute("title",c))):(Br.removeAttribute("data-help"),Br.removeAttribute("title"),ki&&(ki.removeAttribute("data-help"),ki.removeAttribute("title")))}we("videoPowerInputsHeading",i[e].videoPowerInputsHeading||i[e].powerInputsHeading||"Power Inputs");const Ro=document.getElementById("videoPowerInputLabel");if(Ro){Ro.textContent=i[e].videoPowerInputLabel||i[e].powerInputsHeading;const c=i[e].videoPowerInputHelp||"";c?(Ro.setAttribute("data-help",c),Ro.setAttribute("title",c)):(Ro.removeAttribute("data-help"),Ro.removeAttribute("title"))}we("videoVideoInputsHeading",i[e].videoVideoInputsHeading),we("videoVideoInputsLabel",i[e].videoVideoInputsLabel),we("videoVideoOutputsHeading",i[e].videoVideoOutputsHeading),we("videoVideoOutputsLabel",i[e].videoVideoOutputsLabel),we("monitorDetailsHeading",i[e].monitorDetailsHeading),we("monitorPowerHeading",i[e].monitorPowerHeading);const Tl=i[e]&&i[e].addDeviceBtn||"Add",rr=i[e]&&i[e].updateDeviceBtn||"Update",No=document.getElementById("addDeviceBtn");No&&(No.dataset&&No.dataset.mode==="edit"?(me(No,rr,ICON_GLYPHS.save),No.setAttribute("data-help",i[e]&&i[e].updateDeviceBtnHelp||"")):(me(No,Tl,ICON_GLYPHS.add),No.setAttribute("data-help",i[e]&&i[e].addDeviceBtnHelp||"")));const Ln=document.getElementById("cancelEditBtn");Ln&&(me(Ln,i[e].cancelEditBtn,ICON_GLYPHS.circleX),Ln.setAttribute("data-help",i[e].cancelEditBtnHelp));const Yn=document.getElementById("exportDataBtn");Yn&&(me(Yn,i[e].exportDataBtn,ICON_GLYPHS.fileExport),Yn.setAttribute("data-help",i[e].exportDataHelp));const Gn=document.getElementById("importDataBtn");Gn&&(me(Gn,i[e].importDataBtn,ICON_GLYPHS.fileImport),Gn.setAttribute("data-help",i[e].importDataHelp)),typeof sa<"u"&&sa&&(sa.placeholder=(i[e].setupNameLabel||"").replace(":","")),typeof Tm<"u"&&Tm&&(Tm.placeholder=i[e].placeholder_deviceName),typeof Om<"u"&&Om&&(Om.placeholder=i[e].placeholder_watt),typeof Pm<"u"&&Pm&&(Pm.placeholder=i[e].placeholder_capacity),typeof Bm<"u"&&Bm&&(Bm.placeholder=i[e].placeholder_pin),typeof Os<"u"&&Os&&(Os.placeholder=i[e].placeholder_dtap),typeof km<"u"&&km&&(km.placeholder=i[e].placeholder_voltage),typeof Im<"u"&&Im&&(Im.placeholder=i[e].placeholder_voltage),Pw(e);const dr=document.getElementById("toggleDeviceManager"),rn=document.getElementById("device-manager");rn&&dr&&(rn.classList.contains("hidden")?(me(dr,i[e].toggleDeviceManager,ICON_GLYPHS.gears),dr.setAttribute("title",i[e].toggleDeviceManager),dr.setAttribute("data-help",i[e].toggleDeviceManagerHelp),dr.setAttribute("aria-expanded","false")):(me(dr,i[e].hideDeviceManager,ICON_GLYPHS.minus),dr.setAttribute("title",i[e].hideDeviceManager),dr.setAttribute("data-help",i[e].hideDeviceManagerHelp),dr.setAttribute("aria-expanded","true")));const Tn=document.getElementById("newCategory");Tn&&Tn.options&&Array.from(Tn.options).forEach(c=>{c.textContent=Ts(c.value,e)});const Qn={de:"Keine Auswahl",es:"Ninguno",fr:"Aucun"};document.querySelectorAll('select option[value="None"]').forEach(c=>{c.textContent=Qn[e]||"None"});try{localStorage.setItem("language",e)}catch(c){console.warn("Could not save language to localStorage",c)}typeof refreshDeviceLists=="function"?refreshDeviceLists():typeof window<"u"&&typeof window.refreshDeviceLists=="function"&&window.refreshDeviceLists(),h_(),t?.skipUpdateCalculations||updateCalculations();const hi=typeof document<"u"?document.getElementById("existingDevicesHeading"):null;hi&&(hi.textContent=i[e].existingDevicesHeading),Bu&&(Bu.setAttribute("title",i[e].darkModeLabel),Bu.setAttribute("aria-label",i[e].darkModeLabel),Bu.setAttribute("data-help",i[e].darkModeHelp||i[e].darkModeLabel)),Pu&&(Pu.setAttribute("title",i[e].pinkModeLabel),Pu.setAttribute("aria-label",i[e].pinkModeLabel),Pu.setAttribute("data-help",i[e].pinkModeHelp||i[e].pinkModeLabel)),$a&&($a.setAttribute("title",i[e].settingsButton),$a.setAttribute("aria-label",i[e].settingsButton),$a.setAttribute("data-help",i[e].settingsButtonHelp||i[e].settingsButton));const Ra=document.getElementById("settingsTitle");Ra&&(Ra.textContent=i[e].settingsHeading,Ra.setAttribute("data-help",i[e].settingsHeadingHelp||i[e].settingsHeading));const On=document.getElementById("settingsTablist");if(On){const c=i[e].settingsSectionsLabel||i.en?.settingsSectionsLabel||On.getAttribute("aria-label")||i[e].settingsHeading||"Settings sections";On.setAttribute("aria-label",c)}const bi=c=>{if(!c||typeof c!="object")return"";const h=c.querySelector?.(".settings-tab-label");if(h&&typeof h.textContent=="string"){const U=h.textContent.trim();if(U)return U}return typeof c.textContent=="string"?c.textContent.trim():""},D=c=>{if(typeof c!="string")return"";const h=c.trim();if(!h)return"";const U=h.match(/^[^.!?。！？]*[.!?。！？]/u);if(U&&U[0]){const it=U[0].trim();if(it.length>=24||h.length<=90)return it}if(h.length<=90)return h;const de=h.slice(0,90);let xe=de.length;for(;xe>0&&de[xe-1]&&de[xe-1].trim()!=="";)xe-=1;return`${(xe>0?de.slice(0,xe).trimEnd():"")||de.trim()}…`},X=(c,h,U)=>{if(!c)return;const de=(h||bi(c)||"").trim(),xe=c.querySelector?.(".settings-tab-label");xe?xe.textContent=de:c.textContent=de,de?c.setAttribute("aria-label",de):c.removeAttribute("aria-label");const qe=(U||de||"").trim();qe?(c.setAttribute("data-help",qe),c.setAttribute("title",qe)):(c.removeAttribute("data-help"),c.removeAttribute("title"));const it=D(qe);it?c.setAttribute("data-summary",it):c.removeAttribute("data-summary");const ct=c.querySelector?.(".settings-tab-caption");if(ct){const ye=it||de;ct.textContent=ye,ye?ct.removeAttribute("hidden"):ct.setAttribute("hidden","")}};if(Id){const c=i[e].settingsTabGeneral||i.en?.settingsTabGeneral||bi(Id)||"General",h=i[e].settingsTabGeneralHelp||i.en?.settingsTabGeneralHelp||i[e].settingsHeadingHelp||c;if(X(Id,c,h),jm&&(jm.textContent=c,jm.setAttribute("data-help",h)),Um){const U=i[e].generalSectionLanguageHeading||i.en?.generalSectionLanguageHeading||Um.textContent;Um.textContent=U}if(zm){const U=i[e].generalSectionAppearanceHeading||i.en?.generalSectionAppearanceHeading||zm.textContent;zm.textContent=U}if(Vm){const U=i[e].generalSectionTypographyHeading||i.en?.generalSectionTypographyHeading||Vm.textContent;Vm.textContent=U}if(qm){const U=i[e].generalSectionBrandingHeading||i.en?.generalSectionBrandingHeading||qm.textContent;qm.textContent=U}Pd.updateLocalization({language:e,texts:i[e]||{},fallbackTexts:i[Wt]||i.en||{}}),Pd.isInitialized()&&Pd.render()}X(jw,i[e].settingsTabAutoGear||i.en?.settingsTabAutoGear||i[e].autoGearHeading||i.en?.autoGearHeading,i[e].settingsTabAutoGearHelp||i.en?.settingsTabAutoGearHelp||i[e].autoGearHeadingHelp||i.en?.autoGearHeadingHelp),X(Uw,i[e].settingsTabAccessibility||i.en?.settingsTabAccessibility||i[e].accessibilityHeading||i.en?.accessibilityHeading,i[e].settingsTabAccessibilityHelp||i.en?.settingsTabAccessibilityHelp||i[e].accessibilityHeadingHelp||i.en?.accessibilityHeadingHelp),X(zw,i[e].settingsTabBackup||i.en?.settingsTabBackup||i[e].backupHeading||i.en?.backupHeading,i[e].settingsTabBackupHelp||i.en?.settingsTabBackupHelp||i[e].backupHeadingHelp||i.en?.backupHeadingHelp),X(Vw,i[e].settingsTabData||i.en?.settingsTabData||i[e].dataHeading||i.en?.dataHeading,i[e].settingsTabDataHelp||i.en?.settingsTabDataHelp||i[e].dataHeadingHelp||i.en?.dataHeadingHelp),X(qw,i[e].settingsTabAbout||i.en?.settingsTabAbout||i[e].aboutHeading||i.en?.aboutHeading,i[e].settingsTabAboutHelp||i.en?.settingsTabAboutHelp||i[e].aboutHeadingHelp||i.en?.aboutHeadingHelp);const N=document.getElementById("settingsLanguageLabel");if(N){N.textContent=i[e].languageSetting;const c=i[e].settingsLanguageHelp||i[e].languageSetting;N.setAttribute("data-help",c),zl&&(zl.setAttribute("data-help",c),zl.setAttribute("aria-label",i[e].languageSetting))}const ue=document.getElementById("settingsDarkModeLabel");if(ue){ue.textContent=i[e].darkModeSetting;const c=i[e].settingsDarkModeHelp||i[e].darkModeSetting;ue.setAttribute("data-help",c),Km&&(Km.setAttribute("data-help",c),Km.setAttribute("aria-label",i[e].darkModeSetting))}const d=document.getElementById("settingsPinkModeLabel");if(d){d.textContent=i[e].pinkModeSetting;const c=i[e].settingsPinkModeHelp||i[e].pinkModeSetting;d.setAttribute("data-help",c),$m&&($m.setAttribute("data-help",c),$m.setAttribute("aria-label",i[e].pinkModeSetting))}const p=document.getElementById("accentColorLabel"),b=i[e].accentColorHelp||i[e].accentColorSetting;if(p&&(p.textContent=i[e].accentColorSetting,p.setAttribute("data-help",b)),Ym&&(Ym.setAttribute("data-help",b),Ym.setAttribute("aria-label",i[e].accentColorSetting)),Wm){const c=i[e].cameraColorSettingDescription||i.en?.cameraColorSettingDescription||Wm.textContent;Wm.textContent=c}const G=i[e].cameraColorInputHelp||i.en?.cameraColorInputHelp||"";if([["A",iD,dD],["B",lD,fD],["C",sD,pD],["D",cD,mD],["E",uD,yD]].forEach(([c,h,U])=>{if(!h)return;const de=`cameraColor${c} Label`,xe=i[e][de]||i.en?.[de]||h.textContent;h.textContent=xe;const qe=G?G.replace("%s",c):"";qe?h.setAttribute("data-help",qe):h.removeAttribute("data-help"),U&&(qe?(U.setAttribute("data-help",qe),U.setAttribute("aria-label",qe)):(U.removeAttribute("data-help"),U.setAttribute("aria-label",xe)))}),Pi){const c=i[e]&&i[e].accentColorReset||i.en&&i.en.accentColorReset||Pi.textContent||"Reset to default",h=i[e]&&i[e].accentColorResetHelp||b;Pi.textContent=c,Pi.setAttribute("data-help",h),Pi.setAttribute("aria-label",h),Pi.setAttribute("title",h)}const P=document.getElementById("settingsTemperatureUnitLabel");if(P){P.textContent=i[e].temperatureUnitSetting;const c=i[e].temperatureUnitSettingHelp||i[e].temperatureUnitSetting;P.setAttribute("data-help",c),typeof Bi<"u"&&Bi&&(Bi.setAttribute("data-help",c),Bi.setAttribute("aria-label",i[e].temperatureUnitSetting),Array.from(Bi.options||[]).forEach(h=>{if(!h)return;const U=T(h.value);h.textContent=G_(e,U)}),Bi.value=temperatureUnit)}const V=document.getElementById("settingsFocusScaleLabel");if(V){V.textContent=i[e].focusScaleSetting;const c=i[e].focusScaleSettingHelp||i[e].focusScaleSetting;V.setAttribute("data-help",c),typeof Mi<"u"&&Mi&&(Mi.setAttribute("data-help",c),Mi.setAttribute("aria-label",i[e].focusScaleSetting),Array.from(Mi.options||[]).forEach(h=>{if(!h)return;const U=g(h.value);h.textContent=oB(e,U)}),Mi.value=A())}const H=document.getElementById("settingsFontSizeLabel");if(H){H.textContent=i[e].fontSizeSetting;const c=i[e].fontSizeSettingHelp||i[e].fontSizeSetting;H.setAttribute("data-help",c),Qm&&(Qm.setAttribute("data-help",c),Qm.setAttribute("aria-label",i[e].fontSizeSetting))}const W=document.getElementById("settingsFontFamilyLabel");if(W){W.textContent=i[e].fontFamilySetting;const c=i[e].fontFamilySettingHelp||i[e].fontFamilySetting;W.setAttribute("data-help",c),Xm&&(Xm.setAttribute("data-help",c),Xm.setAttribute("aria-label",i[e].fontFamilySetting))}if(nn){const c=i[e].localFontsButtonHelp||nn.textContent;nn.setAttribute("data-help",c),nn.setAttribute("title",c),nn.setAttribute("aria-label",c)}if(Jm){const c=i[e]&&i[e].bundledFontsGroup||i.en&&i.en.bundledFontsGroup||Jm.label;c&&(Jm.label=c)}if(Zm){const c=i[e]&&i[e].localFontsGroup||i.en&&i.en.localFontsGroup||Zm.label;c&&(Zm.label=c)}if(nn){const c=i[e]&&i[e].localFontsButton||i.en&&i.en.localFontsButton||nn.textContent;c&&(me(nn,c,ICON_GLYPHS.add),nn.setAttribute("aria-label",c),nn.setAttribute("title",c))}if(Vl&&Vl.dataset.statusKey){const c=Vl.dataset.statusKey,h=Vl.dataset.statusArg;let U=i[e]&&i[e][c]||i.en&&i.en[c]||"";U&&h!==void 0&&h!==null?U=U.replace("%s",h):!U&&h!==void 0&&h!==null&&(U=h),Vl.textContent=U}const te=document.getElementById("settingsLogoLabel");if(te){te.textContent=i[e].logoSetting;const c=i[e].logoSettingHelp||i[e].logoSetting;te.setAttribute("data-help",c),ey&&(ey.setAttribute("data-help",c),ey.setAttribute("aria-label",i[e].logoSetting))}if(bd){bd.textContent=i[e].autoGearHeading||i.en?.autoGearHeading||"Automatic Gear Rules";const c=i[e].autoGearHeadingHelp||i.en?.autoGearHeadingHelp;c&&bd.setAttribute("data-help",c)}if(Rg&&(Rg.textContent=i[e].autoGearDescription||i.en?.autoGearDescription||""),Sd){const c=i[e].autoGearMonitorDefaultsHeading||i.en?.autoGearMonitorDefaultsHeading||Sd.textContent;Sd.textContent=c}if(vd){const c=i[e].autoGearMonitorDefaultsDescription||i.en?.autoGearMonitorDefaultsDescription||vd.textContent;vd.textContent=c}if(Lg.forEach(c=>{if(!c)return;const h=CA[c.key],U=h&&(i[e][h]||i.en?.[h])||c.label?.textContent;c.label&&U&&(c.label.textContent=U,c.label.setAttribute("data-help",U)),c.select&&U&&(c.select.setAttribute("aria-label",U),c.select.setAttribute("data-help",U))}),Ne("updateAutoGearMonitorDefaultOptions",[],{defer:!0}),Ne("renderAutoGearMonitorDefaultsControls",[],{defer:!0}),Gg&&(Gg.textContent=i[e].autoGearPresetDescription||i.en?.autoGearPresetDescription||""),as){const c=i[e].autoGearPresetLabel||i.en?.autoGearPresetLabel||as.textContent,h=i[e].autoGearPresetDescription||i.en?.autoGearPresetDescription||c;as.textContent=c,as.setAttribute("data-help",h),Ed&&(Ed.setAttribute("aria-label",c),Ed.setAttribute("data-help",h))}if(Hi){const c=i[e].autoGearSavePresetButton||i.en?.autoGearSavePresetButton||Hi.textContent;me(Hi,c,ICON_GLYPHS.save),Hi.setAttribute("data-help",c),Hi.setAttribute("aria-label",c)}if(ji){const c=i[e].autoGearDeletePresetButton||i.en?.autoGearDeletePresetButton||ji.textContent;me(ji,c,ICON_GLYPHS.trash),ji.setAttribute("data-help",c),ji.setAttribute("aria-label",c)}if(pa){const c=i[e].autoGearAddRule||i.en?.autoGearAddRule||pa.textContent;me(pa,c,ICON_GLYPHS.add);const h=i[e].autoGearHeadingHelp||i.en?.autoGearHeadingHelp||c;pa.setAttribute("data-help",h)}if(Ba){const c=i[e].autoGearResetFactoryButton||i.en?.autoGearResetFactoryButton||Ba.textContent,h=i[e].autoGearResetFactoryHelp||i.en?.autoGearResetFactoryHelp||c;me(Ba,c,ICON_GLYPHS.reload),Ba.setAttribute("data-help",h),Ba.setAttribute("title",h),Ba.setAttribute("aria-label",c)}if(_i){const c=i[e].autoGearExportButton||i.en?.autoGearExportButton||_i.textContent,h=i[e].autoGearExportHelp||i.en?.autoGearExportHelp||c;me(_i,c,ICON_GLYPHS.fileExport),_i.setAttribute("data-help",h),_i.setAttribute("title",h),_i.setAttribute("aria-label",c)}if(Di){const c=i[e].autoGearImportButton||i.en?.autoGearImportButton||Di.textContent,h=i[e].autoGearImportHelp||i.en?.autoGearImportHelp||c;me(Di,c,ICON_GLYPHS.fileImport),Di.setAttribute("data-help",h),Di.setAttribute("title",h),Di.setAttribute("aria-label",c)}if(rs){const c=i[e].autoGearSearchLabel||i.en?.autoGearSearchLabel||rs.textContent,h=i[e].autoGearSearchHelp||i.en?.autoGearSearchHelp||c;if(rs.textContent=c,rs.setAttribute("data-help",h),xi){const U=i[e].autoGearSearchPlaceholder||i.en?.autoGearSearchPlaceholder||xi.getAttribute("placeholder")||"";xi.setAttribute("placeholder",U),xi.setAttribute("aria-label",c),xi.setAttribute("data-help",h)}}if(ns){const c=i[e].autoGearFilterScenarioLabel||i.en?.autoGearFilterScenarioLabel||ns.textContent,h=i[e].autoGearFilterScenarioHelp||i.en?.autoGearFilterScenarioHelp||c;ns.textContent=c,ns.setAttribute("data-help",h),un&&(un.setAttribute("aria-label",c),un.setAttribute("data-help",h))}if(Ni){const c=i[e].autoGearFilterClear||i.en?.autoGearFilterClear||Ni.textContent;me(Ni,c,ICON_GLYPHS.circleX),Ni.setAttribute("data-help",c),Ni.setAttribute("aria-label",c)}if(oR(Yh()),dy&&(dy.textContent=i[e].autoGearBackupsHeading||i.en?.autoGearBackupsHeading||dy.textContent),fy){const c=i[e].autoGearBackupsDescription||i.en?.autoGearBackupsDescription||"";fy.textContent=c,c&&fy.setAttribute("data-help",c)}if(Wu){const c=i[e].autoGearShowBackupsLabel||i.en?.autoGearShowBackupsLabel||Wu.textContent,h=i[e].autoGearShowBackupsHelp||i.en?.autoGearShowBackupsHelp||c;Wu.textContent=c,Wu.setAttribute("data-help",h),yy&&(yy.setAttribute("aria-label",c),yy.setAttribute("data-help",h))}if(gy){const c=i[e].autoGearBackupsHidden||i.en?.autoGearBackupsHidden||gy.textContent;gy.textContent=c}if(qu){const c=i[e].autoGearBackupRetentionLabel||i.en?.autoGearBackupRetentionLabel||qu.textContent,h=i[e].autoGearBackupRetentionHelp||i.en?.autoGearBackupRetentionHelp||c;qu.textContent=c,qu.setAttribute("data-help",h),Ya&&(Ya.setAttribute("aria-label",c),Ya.setAttribute("title",c))}if(GD&&Ne("renderAutoGearBackupRetentionControls",[],{defer:!0}),py){const c=i[e].autoGearBackupSelectLabel||i.en?.autoGearBackupSelectLabel||py.textContent;py.textContent=c,Vu&&(Vu.setAttribute("aria-label",c),Vu.setAttribute("title",c))}if(Ql){const c=i[e].autoGearBackupRestore||i.en?.autoGearBackupRestore||Ql.textContent;me(Ql,c,ICON_GLYPHS.fileImport),Ql.setAttribute("aria-label",c),Ql.setAttribute("title",c)}if(my){const c=i[e].autoGearBackupEmpty||i.en?.autoGearBackupEmpty||my.textContent;my.textContent=c}if(Vu&&Ne("renderAutoGearBackupControls",[],{defer:!0}),Uc){const c=i[e].autoGearRuleNameLabel||i.en?.autoGearRuleNameLabel||Uc.textContent;Uc.textContent=c;const h=i[e].autoGearRuleNameHelp||i.en?.autoGearRuleNameHelp||c;Uc.setAttribute("data-help",h),em&&(em.setAttribute("data-help",h),em.setAttribute("aria-label",c))}if(is){const c=i[e].autoGearConditionSelectLabel||i.en?.autoGearConditionSelectLabel||is.textContent||"Add a condition",h=i[e].autoGearConditionSelectHelp||i.en?.autoGearConditionSelectHelp||c;is.textContent=c,is.setAttribute("data-help",h),Io&&(Io.setAttribute("aria-label",c),Io.setAttribute("data-help",h))}if(aa){const c=i[e].autoGearAddCondition||i.en?.autoGearAddCondition||aa.textContent||"Add condition";me(aa,c,ICON_GLYPHS.add),aa.setAttribute("aria-label",c),aa.setAttribute("data-help",c)}if(ls){const c=i[e].autoGearAlwaysLabel||i.en?.autoGearAlwaysLabel||ls.textContent||"Always include",h=i[e].autoGearAlwaysHelp||i.en?.autoGearAlwaysHelp||c;ls.textContent=c,ls.setAttribute("data-help",h),Cd&&(Cd.textContent=h,Cd.setAttribute("data-help",h))}if(jh(),gp(),hp(),zc){const c=i[e].autoGearScenariosLabel||i.en?.autoGearScenariosLabel||zc.textContent;zc.textContent=c;const h=i[e].autoGearScenariosHelp||i.en?.autoGearScenariosHelp||c;if(zc.setAttribute("data-help",h),ss&&(ss.setAttribute("data-help",h),ss.setAttribute("aria-label",c)),Vc){const U=i[e].autoGearScenarioModeLabel||i.en?.autoGearScenarioModeLabel||Vc.textContent||"Scenario matching",de=i[e].autoGearScenarioModeHelp||i.en?.autoGearScenarioModeHelp||U;Vc.textContent=U,Vc.setAttribute("data-help",de),Ja&&(Ja.setAttribute("data-help",de),Ja.setAttribute("aria-label",U))}if(qc){const U=i[e].autoGearScenarioBaseLabel||i.en?.autoGearScenarioBaseLabel||qc.textContent||"Base scenario",de=i[e].autoGearScenarioBaseHelp||i.en?.autoGearScenarioBaseHelp||U;qc.textContent=U,qc.setAttribute("data-help",de),tm&&(tm.setAttribute("data-help",de),tm.setAttribute("aria-label",U))}if(Wc){const U=i[e].autoGearScenarioFactorLabel||i.en?.autoGearScenarioFactorLabel||Wc.textContent||"Multiplier factor",de=i[e].autoGearScenarioFactorHelp||i.en?.autoGearScenarioFactorHelp||U;Wc.textContent=U,Wc.setAttribute("data-help",de),om&&(om.setAttribute("data-help",de),om.setAttribute("aria-label",U))}}if(Kc){const c=i[e].autoGearShootingDaysLabel||i.en?.autoGearShootingDaysLabel||Kc.textContent||"Shooting days condition",h=i[e].autoGearShootingDaysHelp||i.en?.autoGearShootingDaysHelp||c,U=i[e].autoGearShootingDaysModeMinimum||i.en?.autoGearShootingDaysModeMinimum||"Minimum",de=i[e].autoGearShootingDaysModeMaximum||i.en?.autoGearShootingDaysModeMaximum||"Maximum",xe=i[e].autoGearShootingDaysModeEvery||i.en?.autoGearShootingDaysModeEvery||"Every",qe=i[e].autoGearShootingDaysValueLabel||i.en?.autoGearShootingDaysValueLabel||"Shooting days value";Kc.textContent=c,Kc.setAttribute("data-help",h),Ur&&(Ur.setAttribute("data-help",h),Ur.setAttribute("aria-label",c),Array.from(Ur.options||[]).forEach(it=>{!it||typeof it.value!="string"||(it.value==="minimum"?it.textContent=U:it.value==="maximum"?it.textContent=de:it.value==="every"&&(it.textContent=xe))})),nm&&(nm.textContent=qe,nm.setAttribute("data-help",h)),zr&&(zr.setAttribute("data-help",h),zr.setAttribute("aria-label",qe)),rm&&(rm.textContent=h,rm.setAttribute("data-help",h))}if($c){const c=i[e].autoGearMatteboxLabel||i.en?.autoGearMatteboxLabel||$c.textContent;$c.textContent=c;const h=i[e].autoGearMatteboxHelp||i.en?.autoGearMatteboxHelp||c;$c.setAttribute("data-help",h),cs&&(cs.setAttribute("data-help",h),cs.setAttribute("aria-label",c))}if(Yc){const c=i[e].autoGearCameraHandleLabel||i.en?.autoGearCameraHandleLabel||Yc.textContent;Yc.textContent=c;const h=i[e].autoGearCameraHandleHelp||i.en?.autoGearCameraHandleHelp||c;Yc.setAttribute("data-help",h),us&&(us.setAttribute("data-help",h),us.setAttribute("aria-label",c))}if(Qc){const c=i[e].autoGearViewfinderExtensionLabel||i.en?.autoGearViewfinderExtensionLabel||Qc.textContent;Qc.textContent=c;const h=i[e].autoGearViewfinderExtensionHelp||i.en?.autoGearViewfinderExtensionHelp||c;Qc.setAttribute("data-help",h),ds&&(ds.setAttribute("data-help",h),ds.setAttribute("aria-label",c))}if(Zc){const c=i[e].autoGearDeliveryResolutionLabel||i.en?.autoGearDeliveryResolutionLabel||Zc.textContent;Zc.textContent=c;const h=i[e].autoGearDeliveryResolutionHelp||i.en?.autoGearDeliveryResolutionHelp||c;Zc.setAttribute("data-help",h),Xc&&(Xc.setAttribute("data-help",h),Xc.setAttribute("aria-label",c))}if(Jc){const c=i[e].autoGearVideoDistributionLabel||i.en?.autoGearVideoDistributionLabel||Jc.textContent;Jc.textContent=c;const h=i[e].autoGearVideoDistributionHelp||i.en?.autoGearVideoDistributionHelp||c;Jc.setAttribute("data-help",h),fs&&(fs.setAttribute("data-help",h),fs.setAttribute("aria-label",c))}if(eu){const c=i[e].autoGearCameraLabel||i.en?.autoGearCameraLabel||eu.textContent;eu.textContent=c;const h=i[e].autoGearCameraHelp||i.en?.autoGearCameraHelp||c;eu.setAttribute("data-help",h),Ad&&(Ad.setAttribute("data-help",h),Ad.setAttribute("aria-label",c))}if(tu){const c=i[e].autoGearConditionOwnGearLabel||i[e].autoGearOwnGearLabel||i.en?.autoGearConditionOwnGearLabel||i.en?.autoGearOwnGearLabel||tu.textContent,h=i[e].autoGearConditionOwnGearHelp||i.en?.autoGearConditionOwnGearHelp||i[e].autoGearOwnGearHelp||i.en?.autoGearOwnGearHelp||c;tu.textContent=c,tu.setAttribute("data-help",h),wd&&(wd.setAttribute("data-help",h),wd.setAttribute("aria-label",c))}if(ou){const c=i[e].autoGearCameraWeightLabel||i.en?.autoGearCameraWeightLabel||ou.textContent||"Camera weight",h=i[e].autoGearCameraWeightHelp||i.en?.autoGearCameraWeightHelp||c;ou.textContent=c,ou.setAttribute("data-help",h)}if(ru){const c=i[e].autoGearCameraWeightOperatorLabel||i.en?.autoGearCameraWeightOperatorLabel||ru.textContent||"Weight comparison";if(ru.textContent=c,ru.setAttribute("data-help",c),Vr){Vr.setAttribute("data-help",c),Vr.setAttribute("aria-label",c);const h=i[e].autoGearCameraWeightOperatorGreater||i.en?.autoGearCameraWeightOperatorGreater||"Heavier than",U=i[e].autoGearCameraWeightOperatorLess||i.en?.autoGearCameraWeightOperatorLess||"Lighter than",de=i[e].autoGearCameraWeightOperatorEqual||i.en?.autoGearCameraWeightOperatorEqual||"Exactly";Array.from(Vr.options||[]).forEach(xe=>{xe&&(xe.value==="greater"?xe.textContent=h:xe.value==="less"?xe.textContent=U:xe.value==="equal"&&(xe.textContent=de))})}}if(nu){const c=i[e].autoGearCameraWeightValueLabel||i.en?.autoGearCameraWeightValueLabel||nu.textContent||"Weight threshold (grams)",h=i[e].autoGearCameraWeightHelp||i.en?.autoGearCameraWeightHelp||c;nu.textContent=c,nu.setAttribute("data-help",h),qr&&(qr.setAttribute("data-help",h),qr.setAttribute("aria-label",c))}if(au){const c=i[e].autoGearCameraWeightHelp||i.en?.autoGearCameraWeightHelp||au.textContent||"";au.textContent=c,c&&au.setAttribute("data-help",c)}if(iu){const c=i[e].autoGearMonitorLabel||i.en?.autoGearMonitorLabel||iu.textContent;iu.textContent=c;const h=i[e].autoGearMonitorHelp||i.en?.autoGearMonitorHelp||c;iu.setAttribute("data-help",h),Rd&&(Rd.setAttribute("data-help",h),Rd.setAttribute("aria-label",c))}if(lu){const c=i[e].autoGearTripodHeadBrandLabel||i.en?.autoGearTripodHeadBrandLabel||lu.textContent;lu.textContent=c;const h=i[e].autoGearTripodHeadBrandHelp||i.en?.autoGearTripodHeadBrandHelp||c;lu.setAttribute("data-help",h),am&&(am.setAttribute("data-help",h),am.setAttribute("aria-label",c))}if(su){const c=i[e].autoGearTripodBowlLabel||i.en?.autoGearTripodBowlLabel||su.textContent;su.textContent=c;const h=i[e].autoGearTripodBowlHelp||i.en?.autoGearTripodBowlHelp||c;su.setAttribute("data-help",h),im&&(im.setAttribute("data-help",h),im.setAttribute("aria-label",c))}if(cu){const c=i[e].autoGearTripodTypesLabel||i.en?.autoGearTripodTypesLabel||cu.textContent;cu.textContent=c;const h=i[e].autoGearTripodTypesHelp||i.en?.autoGearTripodTypesHelp||c;cu.setAttribute("data-help",h),lm&&(lm.setAttribute("data-help",h),lm.setAttribute("aria-label",c))}if(uu){const c=i[e].autoGearTripodSpreaderLabel||i.en?.autoGearTripodSpreaderLabel||uu.textContent;uu.textContent=c;const h=i[e].autoGearTripodSpreaderHelp||i.en?.autoGearTripodSpreaderHelp||c;uu.setAttribute("data-help",h),sm&&(sm.setAttribute("data-help",h),sm.setAttribute("aria-label",c))}if(du){const c=i[e].autoGearCrewPresentLabel||i.en?.autoGearCrewPresentLabel||du.textContent;du.textContent=c;const h=i[e].autoGearCrewPresentHelp||i.en?.autoGearCrewPresentHelp||c;du.setAttribute("data-help",h),As&&(As.setAttribute("data-help",h),As.setAttribute("aria-label",c))}if(fu){const c=i[e].autoGearCrewAbsentLabel||i.en?.autoGearCrewAbsentLabel||fu.textContent;fu.textContent=c;const h=i[e].autoGearCrewAbsentHelp||i.en?.autoGearCrewAbsentHelp||c;fu.setAttribute("data-help",h),ws&&(ws.setAttribute("data-help",h),ws.setAttribute("aria-label",c))}if(pu){const c=i[e].autoGearWirelessLabel||i.en?.autoGearWirelessLabel||pu.textContent;pu.textContent=c;const h=i[e].autoGearWirelessHelp||i.en?.autoGearWirelessHelp||c;pu.setAttribute("data-help",h),Ld&&(Ld.setAttribute("data-help",h),Ld.setAttribute("aria-label",c))}if(mu){const c=i[e].autoGearMotorsLabel||i.en?.autoGearMotorsLabel||mu.textContent;mu.textContent=c;const h=i[e].autoGearMotorsHelp||i.en?.autoGearMotorsHelp||c;mu.setAttribute("data-help",h),Gd&&(Gd.setAttribute("data-help",h),Gd.setAttribute("aria-label",c))}if(yu){const c=i[e].autoGearControllersLabel||i.en?.autoGearControllersLabel||yu.textContent;yu.textContent=c;const h=i[e].autoGearControllersHelp||i.en?.autoGearControllersHelp||c;yu.setAttribute("data-help",h),Td&&(Td.setAttribute("data-help",h),Td.setAttribute("aria-label",c))}if(gu){const c=i[e].autoGearDistanceLabel||i.en?.autoGearDistanceLabel||gu.textContent;gu.textContent=c;const h=i[e].autoGearDistanceHelp||i.en?.autoGearDistanceHelp||c;gu.setAttribute("data-help",h),Od&&(Od.setAttribute("data-help",h),Od.setAttribute("aria-label",c))}const pe=i[e].autoGearConditionLogicLabel||i.en?.autoGearConditionLogicLabel||"Match behavior",ee=i[e].autoGearConditionLogicHelp||i.en?.autoGearConditionLogicHelp||pe,ie={all:i[e]?.autoGearConditionLogicAll||i.en?.autoGearConditionLogicAll||"Require every selected value",any:i[e]?.autoGearConditionLogicAny||i.en?.autoGearConditionLogicAny||"Match any selected value",none:i[e]?.autoGearConditionLogicNone||i.en?.autoGearConditionLogicNone||"Require none of the selected values",multiplier:i[e]?.autoGearConditionLogicMultiplier||i.en?.autoGearConditionLogicMultiplier||"Multiply by matched values"};if(Object.entries(tb).forEach(([c,h])=>{const U=ZA[c];U&&(U.textContent=pe,U.setAttribute("data-help",ee)),h&&(h.setAttribute("aria-label",pe),h.setAttribute("data-help",ee),h.setAttribute("title",ee),Array.from(h.options||[]).forEach(de=>{if(!de)return;const xe=ie[de.value];xe&&(de.textContent=xe)}))}),ty&&(ty.textContent=i[e].autoGearAddItemsHeading||i.en?.autoGearAddItemsHeading||ty.textContent),xu){const c=i[e].autoGearOwnGearLabel||i.en?.autoGearOwnGearLabel||xu.textContent,h=i[e].autoGearOwnGearHelp||i.en?.autoGearOwnGearHelp||c,U=i[e].autoGearOwnGearPlaceholder||i.en?.autoGearOwnGearPlaceholder||"";xu.textContent=c,xu.setAttribute("data-help",h),ql&&(ql.setAttribute("aria-label",c),ql.setAttribute("data-help",h),U?ql.setAttribute("data-placeholder",U):ql.removeAttribute("data-placeholder"))}if(Nu){const c=i[e].autoGearAddItemLabel||i.en?.autoGearAddItemLabel||Nu.textContent,h=i[e].autoGearAddMultipleHint||i.en?.autoGearAddMultipleHint||"",U=h?`${c} – ${h} `:c;Nu.textContent=c,Nu.setAttribute("data-help",U),Wl&&(Wl.setAttribute("aria-label",c),Wl.setAttribute("data-help",U),h?Wl.setAttribute("placeholder",h):Wl.removeAttribute("placeholder"))}if(oy){const c=i[e].autoGearAddCategoryLabel||i.en?.autoGearAddCategoryLabel||oy.textContent;oy.textContent=c,Ui&&Ui.setAttribute("aria-label",c)}if(ry){const c=i[e].autoGearAddQuantityLabel||i.en?.autoGearAddQuantityLabel||ry.textContent;ry.textContent=c,Qv&&Qv.setAttribute("aria-label",c)}if(Bd){const c=i[e].autoGearAddScreenSizeLabel||i.en?.autoGearAddScreenSizeLabel||Bd.textContent;Bd.textContent=c,Df&&Df.setAttribute("aria-label",c)}if(Md){const c=i[e].autoGearAddSelectorTypeLabel||i.en?.autoGearAddSelectorTypeLabel||Md.textContent;if(Md.textContent=c,gl){gl.setAttribute("aria-label",c);const h=i[e].autoGearSelectorNoneOption||i.en?.autoGearSelectorNoneOption||"No selector",U=i[e].autoGearSelectorMonitorOption||i.en?.autoGearSelectorMonitorOption||"Monitor selector",de=i[e].autoGearSelectorDirectorOption||i.en?.autoGearSelectorDirectorOption||"Director monitor selector",xe=i[e].autoGearSelectorTripodHeadOption||i.en?.autoGearSelectorTripodHeadOption||"Tripod head selector",qe=i[e].autoGearSelectorTripodBowlOption||i.en?.autoGearSelectorTripodBowlOption||"Tripod bowl selector",it=i[e].autoGearSelectorTripodTypesOption||i.en?.autoGearSelectorTripodTypesOption||"Tripod type selector",ct=i[e].autoGearSelectorTripodSpreaderOption||i.en?.autoGearSelectorTripodSpreaderOption||"Tripod spreader selector",ye=new Map([["none",h],["monitor",U],["directorMonitor",de],["tripodHeadBrand",xe],["tripodBowl",qe],["tripodTypes",it],["tripodSpreader",ct]]);Array.from(gl.options||[]).forEach(Oo=>{const so=ye.get(Oo.value);so&&(Oo.textContent=so)})}}if(_d){const c=i[e].autoGearAddSelectorDefaultLabel||i.en?.autoGearAddSelectorDefaultLabel||_d.textContent;_d.textContent=c,gc&&gc.setAttribute("aria-label",c)}if(ny){const c=i[e].autoGearAddNotesLabel||i.en?.autoGearAddNotesLabel||ny.textContent;ny.textContent=c,Xv&&Xv.setAttribute("aria-label",c)}if(Jw&&typeof Nc=="function"&&Nc("add"),ay&&(ay.textContent=i[e].autoGearRemoveItemsHeading||i.en?.autoGearRemoveItemsHeading||ay.textContent),Hu){const c=i[e].autoGearOwnGearLabel||i.en?.autoGearOwnGearLabel||Hu.textContent,h=i[e].autoGearOwnGearHelp||i.en?.autoGearOwnGearHelp||c,U=i[e].autoGearOwnGearPlaceholder||i.en?.autoGearOwnGearPlaceholder||"";Hu.textContent=c,Hu.setAttribute("data-help",h),Kl&&(Kl.setAttribute("aria-label",c),Kl.setAttribute("data-help",h),U?Kl.setAttribute("data-placeholder",U):Kl.removeAttribute("data-placeholder"))}if(ju){const c=i[e].autoGearRemoveItemLabel||i.en?.autoGearRemoveItemLabel||ju.textContent,h=i[e].autoGearRemoveMultipleHint||i.en?.autoGearRemoveMultipleHint||"",U=h?`${c} – ${h} `:c;ju.textContent=c,ju.setAttribute("data-help",U),$l&&($l.setAttribute("aria-label",c),$l.setAttribute("data-help",U),h?$l.setAttribute("placeholder",h):$l.removeAttribute("placeholder"))}if(iy){const c=i[e].autoGearRemoveCategoryLabel||i.en?.autoGearRemoveCategoryLabel||iy.textContent;iy.textContent=c,zi&&zi.setAttribute("aria-label",c)}if(ly){const c=i[e].autoGearRemoveQuantityLabel||i.en?.autoGearRemoveQuantityLabel||ly.textContent;ly.textContent=c,Zv&&Zv.setAttribute("aria-label",c)}if(Dd){const c=i[e].autoGearRemoveScreenSizeLabel||i.en?.autoGearRemoveScreenSizeLabel||Dd.textContent;Dd.textContent=c,Ff&&Ff.setAttribute("aria-label",c)}if(Fd){const c=i[e].autoGearRemoveSelectorTypeLabel||i.en?.autoGearRemoveSelectorTypeLabel||Fd.textContent;if(Fd.textContent=c,hl){hl.setAttribute("aria-label",c);const h=i[e].autoGearSelectorNoneOption||i.en?.autoGearSelectorNoneOption||"No selector",U=i[e].autoGearSelectorMonitorOption||i.en?.autoGearSelectorMonitorOption||"Monitor selector",de=i[e].autoGearSelectorDirectorOption||i.en?.autoGearSelectorDirectorOption||"Director monitor selector",xe=i[e].autoGearSelectorTripodHeadOption||i.en?.autoGearSelectorTripodHeadOption||"Tripod head selector",qe=i[e].autoGearSelectorTripodBowlOption||i.en?.autoGearSelectorTripodBowlOption||"Tripod bowl selector",it=i[e].autoGearSelectorTripodTypesOption||i.en?.autoGearSelectorTripodTypesOption||"Tripod type selector",ct=i[e].autoGearSelectorTripodSpreaderOption||i.en?.autoGearSelectorTripodSpreaderOption||"Tripod spreader selector",ye=new Map([["none",h],["monitor",U],["directorMonitor",de],["tripodHeadBrand",xe],["tripodBowl",qe],["tripodTypes",it],["tripodSpreader",ct]]);Array.from(hl.options||[]).forEach(Oo=>{const so=ye.get(Oo.value);so&&(Oo.textContent=so)})}}if(xd){const c=i[e].autoGearRemoveSelectorDefaultLabel||i.en?.autoGearRemoveSelectorDefaultLabel||xd.textContent;xd.textContent=c,hc&&hc.setAttribute("aria-label",c)}if(sy){const c=i[e].autoGearRemoveNotesLabel||i.en?.autoGearRemoveNotesLabel||sy.textContent;sy.textContent=c,Jv&&Jv.setAttribute("aria-label",c)}if(updateAutoGearOwnGearOptions(),Yl){const c=i[e].autoGearDraftImpactHeading||i.en?.autoGearDraftImpactHeading||Yl.textContent;Yl.textContent=c}if(cy){const c=i[e].autoGearDraftImpactDescription||i.en?.autoGearDraftImpactDescription||cy.textContent;cy.textContent=c,Yl&&Yl.setAttribute("data-help",c),eE&&eE.setAttribute("data-help",c)}if(uy){const c=i[e].autoGearDraftWarningHeading||i.en?.autoGearDraftWarningHeading||uy.textContent;uy.textContent=c}if(eR&&typeof Nc=="function"&&Nc("remove"),Uu){const c=i[e].autoGearSaveRule||i.en?.autoGearSaveRule||Uu.textContent;me(Uu,c),Uu.setAttribute("data-help",c)}if(zu){const c=i[e].autoGearCancelEdit||i.en?.autoGearCancelEdit||zu.textContent;me(zu,c,ICON_GLYPHS.circleX),zu.setAttribute("data-help",c)}Ui&&populateAutoGearCategorySelect(Ui,Ui.value),zi&&populateAutoGearCategorySelect(zi,zi.value),tR(),ss&&Ww(ra?.scenarios),cs&&Kw(ra?.mattebox),us&&$w(ra?.cameraHandle),ds&&Yw(ra?.viewfinderExtension),Xc&&Qw(ra?.deliveryResolution),fs&&Xw(ra?.videoDistribution),Ne("seedAutoGearRulesFromCurrentProject",[],{defer:!0}),Ne("renderAutoGearRulesList",[],{defer:!0}),Ne("renderAutoGearDraftLists",[],{defer:!0}),Ne("updateAutoGearCatalogOptions",[],{defer:!0}),Ne("renderAutoGearPresetsControls",[],{defer:!0}),Ne("applyAutoGearBackupVisibility",[],{defer:!0});const Ie=document.getElementById("settingsHighContrastLabel");if(Ie){Ie.textContent=i[e].highContrastSetting;const c=i[e].highContrastSettingHelp||i[e].highContrastSetting;Ie.setAttribute("data-help",c),settingsHighContrast&&(settingsHighContrast.setAttribute("data-help",c),settingsHighContrast.setAttribute("aria-label",i[e].highContrastSetting))}const Ce=document.getElementById("accessibilityHeading");Ce&&(Ce.textContent=i[e].accessibilityHeading,Ce.setAttribute("data-help",i[e].accessibilityHeadingHelp||i[e].accessibilityHeading));const He=document.getElementById("backupHeading");He&&(He.textContent=i[e].backupHeading,He.setAttribute("data-help",i[e].backupHeadingHelp||i[e].backupHeading));const Me=typeof document<"u"?document.getElementById("projectBackupsHeading"):null;if(Me){const c=i[e].projectBackupsHeading||"Project Backups";Me.textContent=c;const h=i[e].projectBackupsDescription||"";h?Me.setAttribute("data-help",h):Me.removeAttribute("data-help")}const Dt=typeof document<"u"?document.getElementById("projectBackupsDescription"):null;if(Dt){const c=i[e].projectBackupsDescription||"";c?(Dt.textContent=c,Dt.hidden=!1):(Dt.textContent="",Dt.hidden=!0)}if(hy){hy.textContent=i[e].dataHeading;const c=i[e].dataHeadingHelp||i[e].dataHeading;hy.setAttribute("data-help",c)}if(tE&&(tE.textContent=i[e].storageSummaryIntro),rE&&(rE.textContent=i[e].storageSummaryFootnote),oE&&(oE.textContent=i[e].storageSummaryEmpty),Ku){const c=i[e].storagePersistenceHeading||i.en?.storagePersistenceHeading||Ku.textContent;Ku.textContent=c;const h=i[e].storagePersistenceHeadingHelp||i.en?.storagePersistenceHeadingHelp||c;Ku.setAttribute("data-help",h)}if(by&&(by.textContent=i[e].storagePersistenceIntro||i.en?.storagePersistenceIntro||by.textContent),Ta){const c=i[e].storagePersistenceRequest||i.en?.storagePersistenceRequest||Ta.textContent;me(Ta,c,ICON_GLYPHS.save),Ta.dataset.defaultLabel=c;const h=i[e].storagePersistenceRequestHelp||i.en?.storagePersistenceRequestHelp||c;Ta.setAttribute("data-help",h),Ta.setAttribute("title",h),Ta.setAttribute("aria-label",h)}if($u){const c=i[e].storagePersistenceStatusIdle||i.en?.storagePersistenceStatusIdle||$u.textContent;$u.textContent=c,$u.setAttribute("data-help",c)}if(Ne("renderStoragePersistenceStatus",[],{defer:!0}),Yu){const c=i[e].storageActionsHeading||i.en?.storageActionsHeading||Yu.textContent;Yu.textContent=c;const h=i[e].storageActionsHeadingHelp||i.en?.storageActionsHeadingHelp||c;Yu.setAttribute("data-help",h)}if(Sy&&(Sy.textContent=i[e].storageActionsIntro||i.en?.storageActionsIntro||Sy.textContent),Xl){const c=i[e].storageBackupNow||i.en?.storageBackupNow||Xl.textContent;me(Xl,c,ICON_GLYPHS.fileExport);const h=i[e].storageBackupNowHelp||i.en?.storageBackupNowHelp||c;Xl.setAttribute("data-help",h),Xl.setAttribute("title",h)}if(ja){const c=i[e].storageOpenBackupTab||i.en?.storageOpenBackupTab||ja.textContent;me(ja,c,ICON_GLYPHS.settingsBackup);const h=i[e].storageOpenBackupTabHelp||i.en?.storageOpenBackupTabHelp||c;ja.setAttribute("data-help",h),ja.setAttribute("title",h)}if(Qu){const c=i[e].storageStatusHeading||i.en?.storageStatusHeading||Qu.textContent;Qu.textContent=c;const h=i[e].storageStatusHeadingHelp||i.en?.storageStatusHeadingHelp||c;Qu.setAttribute("data-help",h)}vy&&(vy.textContent=i[e].storageStatusLastProjectLabel||i.en?.storageStatusLastProjectLabel||vy.textContent),Ey&&(Ey.textContent=i[e].storageStatusLastAutoBackupLabel||i.en?.storageStatusLastAutoBackupLabel||Ey.textContent),Cy&&(Cy.textContent=i[e].storageStatusLastFullBackupLabel||i.en?.storageStatusLastFullBackupLabel||Cy.textContent);const Vt=i[e].storageStatusNever||i.en?.storageStatusNever||(Xu?Xu.textContent:"");if(Xu&&(Xu.textContent=Vt),nE&&(nE.textContent=Vt),aE&&(aE.textContent=Vt),Zl&&(Zl.textContent="",Zl.setAttribute("hidden",""),Zl.classList.remove("storage-status-reminder--warning","storage-status-reminder--ok"),Zl.removeAttribute("data-help")),Ay){const c=i[e].loggingSectionHelp||i[e].loggingHeadingHelp||i.en?.loggingHeadingHelp||"";c?Ay.setAttribute("data-help",c):Ay.removeAttribute("data-help")}if(Zu){const c=i[e].loggingHeading||i.en?.loggingHeading||Zu.textContent||"Diagnostics log";Zu.textContent=c;const h=i[e].loggingHeadingHelp||i.en?.loggingHeadingHelp||c;Zu.setAttribute("data-help",h)}if(wy&&(wy.textContent=i[e].loggingIntro||i.en?.loggingIntro||wy.textContent),Ju){const c=i[e].loggingLevelFilterLabel||i.en?.loggingLevelFilterLabel||Ju.textContent;Ju.textContent=c,Ju.setAttribute("data-help",c)}if(ed){const c={all:i[e].loggingLevelFilterAll||i.en?.loggingLevelFilterAll||"All levels",info:i[e].loggingLevelFilterInfo||i.en?.loggingLevelFilterInfo||"Info and above",warn:i[e].loggingLevelFilterWarn||i.en?.loggingLevelFilterWarn||"Warnings and errors",error:i[e].loggingLevelFilterError||i.en?.loggingLevelFilterError||"Errors only"};Array.from(ed.options||[]).forEach(U=>{if(!U||typeof U.value!="string")return;const de=U.value;Object.prototype.hasOwnProperty.call(c,de)&&(U.textContent=c[de])});const h=i[e].loggingLevelFilterHelp||i.en?.loggingLevelFilterHelp||"";h?ed.setAttribute("data-help",h):ed.removeAttribute("data-help")}if(Jl){const c=i[e].loggingNamespaceFilterLabel||i.en?.loggingNamespaceFilterLabel||Jl.textContent;Jl.textContent=c}if(Ry){const c=i[e].loggingNamespaceFilterPlaceholder||i.en?.loggingNamespaceFilterPlaceholder||"";c&&Ry.setAttribute("placeholder",c);const h=i[e].loggingNamespaceFilterHelp||i.en?.loggingNamespaceFilterHelp||c;h&&(Ry.setAttribute("data-help",h),Jl&&Jl.setAttribute("data-help",h)),td&&(td.textContent=h,h?td.removeAttribute("hidden"):td.setAttribute("hidden",""))}if(Ly){const c=i[e].loggingHistoryLimitLabel||i.en?.loggingHistoryLimitLabel||Ly.textContent;Ly.textContent=c}if(Gy){const c=i[e].loggingHistoryLimitHelp||i.en?.loggingHistoryLimitHelp||Gy.textContent;Gy.textContent=c}if(od){const c=i[e].loggingHistoryLimitHelp||i.en?.loggingHistoryLimitHelp||"";c?od.setAttribute("data-help",c):od.removeAttribute("data-help");const h=i[e].loggingHistoryLimitAria||i.en?.loggingHistoryLimitAria||"";h&&od.setAttribute("aria-label",h)}if(Ty){const c=i[e].loggingConsoleOutputLabel||i.en?.loggingConsoleOutputLabel||Ty.textContent;Ty.textContent=c}if(Oy){const c=i[e].loggingConsoleOutputHelp||i.en?.loggingConsoleOutputHelp||Oy.textContent;Oy.textContent=c}if(ky){const c=i[e].loggingCaptureConsoleLabel||i.en?.loggingCaptureConsoleLabel||ky.textContent;ky.textContent=c}if(Iy){const c=i[e].loggingCaptureConsoleHelp||i.en?.loggingCaptureConsoleHelp||Iy.textContent;Iy.textContent=c}if(Py){const c=i[e].loggingCaptureErrorsLabel||i.en?.loggingCaptureErrorsLabel||Py.textContent;Py.textContent=c}if(By){const c=i[e].loggingCaptureErrorsHelp||i.en?.loggingCaptureErrorsHelp||By.textContent;By.textContent=c}if(My){const c=i[e].loggingPersistSessionLabel||i.en?.loggingPersistSessionLabel||My.textContent;My.textContent=c}if(_y){const c=i[e].loggingPersistSessionHelp||i.en?.loggingPersistSessionHelp||_y.textContent;_y.textContent=c}if(Fi){const c=i[e].loggingExportButton||i.en?.loggingExportButton||Fi.textContent;me(Fi,c,ICON_GLYPHS.fileExport),Fi.setAttribute("data-help",c),Fi.setAttribute("title",c),Fi.setAttribute("aria-label",c)}if(rd){const c=i[e].loggingExportHelp||i.en?.loggingExportHelp||rd.textContent;rd.textContent=c,rd.setAttribute("data-help",c)}if(Dy){const c=i[e].loggingStatusIdle||i.en?.loggingStatusIdle||"";Dy.textContent=c,c&&Dy.setAttribute("data-help",c)}if(nd){const c=i[e].loggingEmptyState||i.en?.loggingEmptyState||nd.textContent;nd.textContent=c,c&&nd.setAttribute("data-help",c)}Fy&&(Fy.textContent=i[e].loggingUnavailable||i.en?.loggingUnavailable||Fy.textContent);const yt=document.getElementById("settingsShowAutoBackupsLabel");if(yt){yt.textContent=i[e].showAutoBackupsSetting;const c=i[e].showAutoBackupsHelp||i[e].showAutoBackupsSetting;yt.setAttribute("data-help",c),Q&&(Q.setAttribute("data-help",c),Q.setAttribute("aria-label",i[e].showAutoBackupsSetting))}if(K){const c=i[e].versionCompareButton||"Compare versions";me(K,c,ICON_GLYPHS.note);const h=i[e].versionCompareButtonHelp||c;K.setAttribute("data-help",h),K.setAttribute("title",h)}if(re&&(re.textContent=i[e].versionCompareHeading||"Version comparison"),Ee&&(Ee.textContent=i[e].versionCompareIntro||""),ae){const c=i[e].versionComparePrimaryLabel||"Baseline version";ae.textContent=c,Z&&Z.setAttribute("aria-label",c)}if(ce){const c=i[e].versionCompareSecondaryLabel||"Comparison version";ce.textContent=c,Le&&Le.setAttribute("aria-label",c)}if(Pe&&(Pe.textContent=i[e].versionCompareEmpty||"Save a project or wait for auto-backups to start comparing versions."),q&&(q.textContent=i[e].versionCompareNotesLabel||"Incident notes"),oe){const c=i[e].versionCompareNotesPlaceholder||"Record context, on-set observations, or required follow-up.";oe.placeholder=c}if(ne){const c=i[e].versionCompareExport||"Export log";me(ne,c,ICON_GLYPHS.fileExport);const h=i[e].versionCompareExportHelp||c;ne.setAttribute("data-help",h),ne.setAttribute("title",h)}if(ge){const c=i[e].versionCompareClose||i[e].cancelSettings||"Close";me(ge,c,ICON_GLYPHS.circleX)}if(le){const c=i[e].backupSettings;me(le,c,ICON_GLYPHS.fileExport);const h=i[e].backupSettingsHelp||c;le.setAttribute("data-help",h),le.setAttribute("title",h),le.setAttribute("aria-label",h)}if(restoreSettings){const c=i[e].restoreSettings;me(restoreSettings,c,ICON_GLYPHS.fileImport);const h=i[e].restoreSettingsHelp||c;restoreSettings.setAttribute("data-help",h),restoreSettings.setAttribute("title",h),restoreSettings.setAttribute("aria-label",h)}if(J){const c=i[e].restoreRehearsalButton||"Restore rehearsal";me(J,c,ICON_GLYPHS.load);const h=i[e].restoreRehearsalButtonHelp||c;J.setAttribute("data-help",h),J.setAttribute("title",h),J.setAttribute("aria-label",h)}if(he&&(he.textContent=i[e].restoreRehearsalHeading||he.textContent),ke&&(ke.textContent=i[e].restoreRehearsalIntro||ke.textContent),nt&&(nt.textContent=i[e].restoreRehearsalModeLabel||nt.textContent),pt&&(pt.textContent=i[e].restoreRehearsalModeBackup||pt.textContent),Gt&&(Gt.textContent=i[e].restoreRehearsalModeProject||Gt.textContent),Kt&&(Kt.textContent=i[e].restoreRehearsalFileLabel||Kt.textContent),Je){const c=i[e].restoreRehearsalFileButton||"Choose file";me(Je,c,ICON_GLYPHS.fileImport),Je.setAttribute("data-help",c),Je.setAttribute("title",c),Je.setAttribute("aria-label",c)}ro&&(ro.textContent=i[e].restoreRehearsalNoFile||ro.textContent),$t&&($t.textContent=i[e].restoreRehearsalReady||""),Eo&&(Eo.textContent=i[e].restoreRehearsalRuleHeading||i.en?.restoreRehearsalRuleHeading||Eo.textContent),Co&&(Co.textContent=i[e].restoreRehearsalRuleIntro||i.en?.restoreRehearsalRuleIntro||Co.textContent),ve&&(ve.textContent=i[e].restoreRehearsalRuleEmpty||i.en?.restoreRehearsalRuleEmpty||ve.textContent),Ao&&(Ao.textContent=i[e].restoreRehearsalTableCaption||Ao.textContent),et&&(et.textContent=i[e].restoreRehearsalMetricColumn||et.textContent),no&&(no.textContent=i[e].restoreRehearsalLiveColumn||no.textContent),eo&&(eo.textContent=i[e].restoreRehearsalSandboxColumn||eo.textContent),Oe&&(Oe.textContent=i[e].restoreRehearsalDifferenceColumn||Oe.textContent);const Rt=typeof Fe<"u"?Fe:x("restoreRehearsalCloseButton","restoreRehearsalClose");if(Rt){const c=i[e].restoreRehearsalClose||i[e].cancelSettings||"Close";me(Rt,c,ICON_GLYPHS.circleX),Rt.setAttribute("title",c),Rt.setAttribute("aria-label",c)}if(br){const c=i[e].restoreRehearsalProceed||i.en?.restoreRehearsalProceed||"Resume restore rehearsal",h=i[e].restoreRehearsalProceedHelp||i.en?.restoreRehearsalProceedHelp||c;me(br,c,ICON_GLYPHS.check),br.setAttribute("data-help",h),br.setAttribute("title",h),br.setAttribute("aria-label",h)}if(Do){const c=i[e].restoreRehearsalAbort||i.en?.restoreRehearsalAbort||"Abort rehearsal",h=i[e].restoreRehearsalAbortHelp||i.en?.restoreRehearsalAbortHelp||c;me(Do,c,ICON_GLYPHS.circleX),Do.setAttribute("data-help",h),Do.setAttribute("title",h),Do.setAttribute("aria-label",h)}if(factoryResetButton){const c=i[e].factoryResetButton||"Factory reset",h=i[e].factoryResetButtonHelp||c;me(factoryResetButton,c,ICON_GLYPHS.reload),factoryResetButton.setAttribute("data-help",h),factoryResetButton.setAttribute("title",h),factoryResetButton.setAttribute("aria-label",h)}const at=document.getElementById("aboutHeading");at&&(at.textContent=i[e].aboutHeading,at.setAttribute("data-help",i[e].aboutHeadingHelp||i[e].aboutHeading));const Lo=typeof document<"u"?document.getElementById("aboutVersion"):null;Lo&&(Lo.textContent=`${i[e].versionLabel} ${GI} `);const qt=[{id:"supportLink",textKey:"supportLink",helpKey:"supportLinkHelp"},{id:"reportBugLink",textKey:"reportBugLink",helpKey:"reportBugLinkHelp"},{id:"suggestFeatureLink",textKey:"suggestFeatureLink",helpKey:"suggestFeatureLinkHelp"}],ao=i&&i[e]||{},io=i&&i.en||{};if(qt.forEach(c=>{const h=typeof document<"u"?document.getElementById(c.id):null;if(!h)return;const U=typeof ao[c.textKey]=="string"&&ao[c.textKey]||typeof io[c.textKey]=="string"&&io[c.textKey]||h.textContent;h.textContent=U;const de=typeof ao[c.helpKey]=="string"&&ao[c.helpKey]||typeof io[c.helpKey]=="string"&&io[c.helpKey]||U;h.setAttribute("data-help",de),h.setAttribute("title",de),h.setAttribute("aria-label",de)}),settingsSave){const c=i[e].saveSettings||i.en?.saveSettings||settingsSave.textContent;me(settingsSave,c);const h=i[e].saveSettingsHelp||i[e].saveSettings||c;settingsSave.setAttribute("data-help",h),settingsSave.setAttribute("title",h),settingsSave.setAttribute("aria-label",h)}if(settingsCancel){const c=i[e].cancelSettings||i.en?.cancelSettings||settingsCancel.textContent;me(settingsCancel,c,ICON_GLYPHS.circleX);const h=i[e].cancelSettingsHelp||i[e].cancelSettings||c;settingsCancel.setAttribute("data-help",h),settingsCancel.setAttribute("title",h),settingsCancel.setAttribute("aria-label",h)}const Et=document.getElementById("menuToggle");if(Et){const c=i[e].menuToggleLabel||i.en?.menuToggleLabel||Et.getAttribute("aria-label")||"Menu",h=i[e].sideMenuClose||i.en?.sideMenuClose||Et.dataset.closeLabel||"Close menu",U=i[e].sideMenuCloseHelp||h;Et.setAttribute("title",c),Et.setAttribute("aria-label",c);const de=i[e].menuToggleHelp||c;Et.setAttribute("data-help",de),Et.dataset.menuLabel=c,Et.dataset.menuHelp=de,Et.dataset.closeLabel=h,Et.dataset.closeHelp=U}const Go=document.getElementById("sideMenu");if(Go){const c=i[e].sideMenuHelp;c?Go.setAttribute("data-help",c):Go.removeAttribute("data-help")}const Ho=document.getElementById("sideMenuTitle");if(Ho){const c=i[e].sideMenuTitle||i.en?.sideMenuTitle||Ho.textContent;Ho.textContent=c;const h=i[e].sideMenuTitleHelp||i[e].sideMenuHelp||c;Ho.setAttribute("data-help",h)}const _e=document.getElementById("closeMenuButton"),Ze=document.getElementById("closeMenuLabel");if(_e){const c=i[e].sideMenuClose||i.en?.sideMenuClose||_e.getAttribute("aria-label")||"Close menu",h=i[e].sideMenuCloseHelp||c;_e.setAttribute("aria-label",c),_e.setAttribute("title",h),_e.setAttribute("data-help",h),Ze&&(Ze.textContent=c)}if(typeof window<"u"&&(window.openSideMenu=Qh),Dr){const c=i[e].reloadAppLabel,h=i[e].reloadAppHelp||c,U=i[e].reloadAppOfflineNotice||c;Dr.setAttribute("title",c),Dr.setAttribute("aria-label",c),Dr.setAttribute("data-help",h),Dr.dataset&&(Dr.dataset.onlineTitle=c,Dr.dataset.onlineHelp=h,Dr.dataset.offlineNotice=U),Dr.hasAttribute("aria-disabled")&&(Dr.setAttribute("title",U),Dr.setAttribute("data-help",U))}if(featureSearch&&(featureSearch.setAttribute("placeholder",i[e].featureSearchPlaceholder),featureSearch.setAttribute("aria-label",i[e].featureSearchLabel),featureSearch.setAttribute("data-help",i[e].featureSearchHelp||i[e].featureSearchLabel)),ta){ta.setAttribute("title",i[e].helpButtonTitle||i[e].helpButtonLabel),ta.setAttribute("aria-label",i[e].helpButtonLabel),ta.setAttribute("data-help",i[e].helpButtonHelp||i[e].helpButtonTitle||i[e].helpButtonLabel);const c=i[e].helpButtonShortcuts;typeof c=="string"&&c.trim()?ta.setAttribute("data-shortcuts",c):ta.removeAttribute("data-shortcuts");const h=i[e].helpButtonAriaShortcuts||"F1 Control+Slash Meta+Slash Shift+Slash KeyH";typeof h=="string"&&h.trim()?ta.setAttribute("aria-keyshortcuts",h):ta.removeAttribute("aria-keyshortcuts"),Du&&(me(Du,i[e].hoverHelpButtonLabel,ICON_GLYPHS.note),Du.setAttribute("aria-label",i[e].hoverHelpButtonLabel),Du.setAttribute("data-help",i[e].hoverHelpButtonHelp||i[e].hoverHelpButtonLabel)),Mu&&(Mu.setAttribute("placeholder",i[e].helpSearchPlaceholder),Mu.setAttribute("aria-label",i[e].helpSearchLabel),Mu.setAttribute("data-help",i[e].helpSearchHelp||i[e].helpSearchLabel)),_u&&(_u.setAttribute("title",i[e].helpSearchClear),_u.setAttribute("aria-label",i[e].helpSearchClear),_u.setAttribute("data-help",i[e].helpSearchClearHelp||i[e].helpSearchClear)),Hl&&(me(Hl,i[e].helpClose,ICON_GLYPHS.circleX),Hl.setAttribute("title",i[e].helpClose),Hl.setAttribute("aria-label",i[e].helpClose),Hl.setAttribute("data-help",i[e].helpCloseHelp||i[e].helpClose)),document.getElementById("helpTitle")&&(document.getElementById("helpTitle").textContent=i[e].helpTitle),xv&&E(xv,"helpNoResults","No help topics match your search. Try shorter keywords, synonyms or clear the field to browse everything."),Nv&&E(Nv,"helpNoResultsSuggestionsHeading","Need a different result?"),Hv&&E(Hv,"helpNoResultsSuggestionsIntro","Try these steps to get back on track while keeping your data safe:");const U=f&&f.querySelector?f.querySelector("#helpQuickStartGuide h4"):null;if(U){const ct=U.textContent||"Quick start checklist";E(U,"helpQuickStartChecklistTitle",ct)}const de=f?f.getElementById("helpOnboardingTutorialCopy"):null;if(de){const ct=de.textContent||"to walk through every workflow before configuring your first project.";E(de,"helpOnboardingTutorialCopy",ct)}const xe=f&&f.querySelector?f.querySelector("#helpDataSafety h4"):null;if(xe){const ct=xe.textContent||"Protect your work";E(xe,"helpDataSafetyTitle",ct)}const qe=f?f.getElementById("helpRestoreDrillHeading"):null;if(qe){const ct=qe.textContent||"Restore rehearsal drill";E(qe,"helpRestoreDrillTitle",ct)}const it=f?f.getElementById("helpRestoreDrillNote"):null;if(it){const ct=it.textContent||"Record the filename, timestamp and verification results in your backup log before closing the rehearsal so every drill leaves behind a documented recovery point.";E(it,"helpRestoreDrillNote",ct)}if(Mm){const ct=Mm.textContent||"Monthly data health check";E(Mm,"helpDataAuditTitle",ct)}if(C(M_,"helpDataAuditStep1",[()=>S("#settingsButton",w("settingsButton")||"Settings",{target:"#settingsButton"}),()=>S("#dataHeading",w("dataHeading")||"Data & Storage",{target:"#dataHeading",highlight:"#settingsDialog"}),()=>S("#storageBackupNow",w("storageBackupNow")||"Download full backup",{target:"#storageBackupNow",highlight:"#storageActions"}),()=>S("#storageActionsHeading",w("storageActionsHeading")||"Quick safeguards",{target:"#storageActionsHeading",highlight:"#storageActions",isButton:!1})]),C(__,"helpDataAuditStep2",[()=>S("#shareSetupBtn",w("shareSetupBtn")||"Export Project",{target:"#shareSetupBtn",highlight:"#setup-manager"})]),C(D_,"helpDataAuditStep3",[()=>S("#reloadButton",w("reloadAppLabel")||"Force reload",{target:"#reloadButton"}),()=>S("#offlineIndicator",w("offlineIndicator")||"Offline",{target:"#offlineIndicator"}),()=>S("#applySharedLinkBtn",w("loadSharedLinkBtn")||"Import Project",{target:"#applySharedLinkBtn",highlight:"#setup-manager"})]),C(F_,"helpDataAuditStep4",[()=>S("#restoreRehearsalButton",w("restoreRehearsalButton")||"Restore rehearsal",{target:"#restoreRehearsalButton",highlight:"#restoreRehearsalSection"}),()=>{const ct=f.createElement("code");return ct.textContent="window.cineRuntime.verifyCriticalFlows({ warnOnFailure: true })",ct}]),_m){const ct=_m.textContent||"Log the results in your backup rotation checklist so you always know which copies were verified offline.";E(_m,"helpDataAuditNote",ct)}C(k_,"helpNoResultsSuggestionClear",[()=>S("#helpSearchClear",w("helpSearchClear")||"Clear search",{target:"#helpSearchClear",highlight:"#helpSearchContainer"})]),F(I_,"helpNoResultsSuggestionSynonyms"),C(P_,"helpNoResultsSuggestionQuickStart",[()=>S("#helpQuickStartGuide",w("helpQuickStartChecklistTitle")||"Quick start checklist",{target:"#helpQuickStartGuide",highlight:"#helpQuickStartGuide"})]),C(B_,"helpNoResultsSuggestionBackup",[()=>S("#helpDataSafety",w("helpDataSafetyTitle")||"Protect your work",{target:"#helpDataSafety",highlight:"#helpDataSafety"}),()=>S("#helpRestoreDrillHeading",w("helpRestoreDrillTitle")||"Restore rehearsal drill",{target:"#helpRestoreDrillHeading",highlight:"#helpDataSafety",isButton:!1})])}me(document.getElementById("generateOverviewBtn"),i[e].generateOverviewBtn,ICON_GLYPHS.overview),me(document.getElementById("generateGearListBtn"),i[e].generateGearListBtn,ICON_GLYPHS.gearList),me(document.getElementById("shareSetupBtn"),i[e].shareSetupBtn,ICON_GLYPHS.fileExport);const ze=document.getElementById("exportAndRevertBtn");ze&&(me(ze,i[e].exportAndRevertBtn,ICON_GLYPHS.reload),ze.setAttribute("data-help",i[e].exportAndRevertBtnHelp));const Ot=typeof downloadDiagramBtn<"u"&&downloadDiagramBtn||(typeof document<"u"&&document&&typeof document.getElementById=="function"?document.getElementById("downloadDiagram"):null);if(Ot&&(Ot.textContent=i[e].downloadDiagramBtn,Ot.setAttribute("title",i[e].downloadDiagramBtn),Ot.setAttribute("aria-label",i[e].downloadDiagramBtn),Ot.setAttribute("data-help",i[e].downloadDiagramHelp)),gridSnapToggleBtn){me(gridSnapToggleBtn,i[e].gridSnapToggle,ICON_GLYPHS.magnet),gridSnapToggleBtn.setAttribute("title",i[e].gridSnapToggle),gridSnapToggleBtn.setAttribute("aria-label",i[e].gridSnapToggle),gridSnapToggleBtn.setAttribute("data-help",i[e].gridSnapToggleHelp);let c=!1;try{c=!!TA()}catch{try{c=!!gridSnap}catch{}}gridSnapToggleBtn.setAttribute("aria-pressed",c?"true":"false")}const To=typeof document<"u"?document.getElementById("resetView"):null;To&&(me(To,i[e].resetViewBtn,ICON_GLYPHS.resetView),To.setAttribute("title",i[e].resetViewBtn),To.setAttribute("aria-label",i[e].resetViewBtn),To.setAttribute("data-help",i[e].resetViewHelp));const fr=typeof document<"u"?document.getElementById("zoomIn"):null;fr&&(me(fr,"",ICON_GLYPHS.add),fr.setAttribute("title",i[e].zoomInLabel),fr.setAttribute("aria-label",i[e].zoomInLabel),fr.setAttribute("data-help",i[e].zoomInHelp));const lo=typeof document<"u"?document.getElementById("zoomOut"):null;lo&&(me(lo,"",ICON_GLYPHS.minus),lo.setAttribute("title",i[e].zoomOutLabel),lo.setAttribute("aria-label",i[e].zoomOutLabel),lo.setAttribute("data-help",i[e].zoomOutHelp));const Mr=typeof document<"u"?document.getElementById("diagramHint"):null;Mr&&(Mr.textContent=i[e].diagramMoveHint);const st=i.en&&i.en.projectForm?i.en.projectForm:{},Ct=i[e].projectForm||st;if(Ct){Jr();const c=(Re,Ue)=>{if(!Re)return;const _r=Ct[Ue]||st[Ue];_r&&(Re.textContent=_r)},h=(Re,Ue)=>{if(!Re)return;const _r=Ct[Ue]||st[Ue];_r&&Re.setAttribute("placeholder",_r)},U=(Re,Ue)=>{if(!Re)return;const _r=Ct[Ue]||st[Ue];_r&&(Re.textContent=_r)};if(c(hB,"heading"),c(bB,"projectName"),c(SB,"productionCompany"),c(vB,"productionCompanyAddress"),c(EB,"productionCompanyStreet"),c(CB,"productionCompanyStreet2"),c(AB,"productionCompanyCity"),c(wB,"productionCompanyRegion"),c(RB,"productionCompanyPostalCode"),c(LB,"productionCompanyCountry"),h(GB,"productionCompanyStreetPlaceholder"),h(TB,"productionCompanyStreet2Placeholder"),h(OB,"productionCompanyCityPlaceholder"),h(kB,"productionCompanyRegionPlaceholder"),h(IB,"productionCompanyPostalCodePlaceholder"),h(PB,"productionCompanyCountryPlaceholder"),c(BB,"rentalHouse"),c(MB,"crewHeading"),lv){const Re=Ct.crewHeading||st.crewHeading;Re&&(lv.textContent=`${Re}: `)}if(c(_B,"prepLabel"),c(DB,"shootLabel"),c(FB,"returnLabel"),c(xB,"deliveryResolution"),c(NB,"recordingResolution"),c(WB,"sensorMode"),c(KB,"aspectRatio"),c($B,"codec"),c(YB,"baseFrameRate"),c(HB,"recordingFrameRate"),Pn){const Re=Ct.recordingFrameRateRangeHint||st.recordingFrameRateRangeHint||"",Ue=Ct.recordingFrameRateDefaultHint||st.recordingFrameRateDefaultHint||"";Re?Pn.setAttribute("data-range-template",Re):Pn.removeAttribute("data-range-template"),Ue?(Pn.setAttribute("data-default-message",Ue),Pn.textContent=Ue,Pn.hidden=!1):(Pn.removeAttribute("data-default-message"),Pn.textContent="",Pn.hidden=!0)}if(sv){const Re=Ct.slowMotionHeading||st.slowMotionHeading;Re&&(sv.textContent=Re)}if(c(jB,"slowMotionRecordingResolution"),c(UB,"slowMotionSensorMode"),c(zB,"slowMotionAspectRatio"),c(VB,"slowMotionBaseFrameRate"),c(qB,"slowMotionRecordingFrameRate"),Bn){const Re=Ct.slowMotionRecordingFrameRateRangeHint||st.slowMotionRecordingFrameRateRangeHint||"",Ue=Ct.slowMotionRecordingFrameRateDefaultHint||st.slowMotionRecordingFrameRateDefaultHint||"";Re?Bn.setAttribute("data-range-template",Re):Bn.removeAttribute("data-range-template"),Ue?(Bn.setAttribute("data-default-message",Ue),Bn.textContent=Ue,Bn.hidden=!1):(Bn.removeAttribute("data-default-message"),Bn.textContent="",Bn.hidden=!0)}if(c(eM,"lensesHeading"),c(QB,"lensManufacturerStep"),c(ZB,"lensSeriesStep"),c(tM,"lensesLabel"),c(oM,"lensSelectionsLabel"),c(rM,"lensSelectionsHint"),U(XB,"lensManufacturerPlaceholder"),U(JB,"lensSeriesPlaceholder"),cv){const Re=Ct.lensSeriesEmpty||st.lensSeriesEmpty;Re&&(cv.textContent=Re)}if(uv){const Re=Ct.lensOptionsEmpty||st.lensOptionsEmpty;Re&&(uv.textContent=Re)}if(dm){const Re=Ct.lensRemoveLabel||st.lensRemoveLabel,Ue=Ct.lensMountLabel||st.lensMountLabel;Re&&dm.setAttribute("data-remove-template",Re),Ue&&dm.setAttribute("data-mount-label",Ue)}if(lensSelectionManager&&typeof lensSelectionManager.refreshCatalog=="function")try{lensSelectionManager.refreshCatalog({preserveSelections:!0,skipEvent:!0,skipDirty:!0})}catch{}if(c(nM,"riggingHeading"),c(aM,"requiredScenarios"),n_(e),c(iM,"cameraHandle"),c(lM,"viewfinderExtension"),c(sM,"matteboxFilterHeading"),c(cM,"mattebox"),c(uM,"filter"),c(Og,"storageHeading"),c(kg,"storageNeedsLabel"),a_(Ct,st),Pf(),c(dM,"monitoringHeading"),c(fM,"monitoringConfiguration"),c(pM,"viewfinderSettings"),c(mM,"frameGuides"),c(yM,"aspectMaskOpacity"),c(gM,"videoDistribution"),c(hM,"monitorUserButtons"),c(bM,"cameraUserButtons"),c(SM,"viewfinderUserButtons"),c(mB,"tripodPreferencesHeading"),c(vM,"tripodHeadBrand"),c(EM,"tripodBowl"),c(CM,"tripodTypes"),c(AM,"tripodSpreader"),hu&&hu.options.length>=2){const Re=Ct.viewfinderExtensionNone||st.viewfinderExtensionNone,Ue=Ct.viewfinderExtensionYes||st.viewfinderExtensionYes;Re&&(hu.options[0].textContent=Re),Ue&&(hu.options[1].textContent=Ue)}const de=typeof document<"u"?document.getElementById("projectCancel"):null,xe=Ct.cancel||st.cancel||(de?de.textContent:Ei?.getAttribute("aria-label"))||"Cancel";if(de&&me(de,xe,ICON_GLYPHS.circleX),Ei&&(Ei.innerHTML=Qr(ICON_GLYPHS.circleX,"btn-icon"),Ei.setAttribute("aria-label",xe),Ei.setAttribute("title",xe),Ei.setAttribute("data-help",xe)),fm){const Re=Ct.submit||st.submit;Re&&(me(fm,Re,ICON_GLYPHS.check),fm.setAttribute("aria-label",Re))}const qe={name:Ct.crewNamePlaceholder||st.crewNamePlaceholder,phone:Ct.crewPhonePlaceholder||st.crewPhonePlaceholder,email:Ct.crewEmailPlaceholder||st.crewEmailPlaceholder,website:Ct.crewWebsitePlaceholder||st.crewWebsitePlaceholder},it=i[e].crewRoles||i.en&&i.en.crewRoles||{},ct=i.en?.contacts||{},ye=i[e]?.contacts||ct;if(pf&&ye.heading&&(pf.textContent=ye.heading),mf&&ye.description&&(mf.textContent=ye.description),yf&&ye.addContactButton&&(yf.textContent=ye.addContactButton),ei&&ye.addContactButton&&(ei.setAttribute("aria-label",ye.addContactButton),ei.setAttribute("data-help",ye.addContactButton)),gf&&ye.importButton&&(gf.textContent=ye.importButton),ti&&ye.importButton&&(ti.setAttribute("aria-label",ye.importButton),ti.setAttribute("data-help",ye.importButton)),hf&&ye.importHint&&(hf.textContent=ye.importHint),ma&&ye.emptyState&&(ma.textContent=ye.emptyState),Sf&&ye.userProfileHeading&&(Sf.textContent=ye.userProfileHeading),vf&&ye.userProfileDescription&&(vf.textContent=ye.userProfileDescription),Ef&&ye.userProfileNameLabel&&(Ef.textContent=ye.userProfileNameLabel),Zt&&ye.userProfileNamePlaceholder&&Zt.setAttribute("placeholder",ye.userProfileNamePlaceholder),Cf&&ye.userProfileRoleLabel&&(Cf.textContent=ye.userProfileRoleLabel),It){const Re=ft?.getUserProfileSnapshot?ft.getUserProfileSnapshot():{role:""};rw({selected:Re.role||""})}Af&&ye.userProfilePhoneLabel&&(Af.textContent=ye.userProfilePhoneLabel),co&&ye.userProfilePhonePlaceholder&&co.setAttribute("placeholder",ye.userProfilePhonePlaceholder),wf&&ye.userProfileEmailLabel&&(wf.textContent=ye.userProfileEmailLabel),uo&&ye.userProfileEmailPlaceholder&&uo.setAttribute("placeholder",ye.userProfileEmailPlaceholder),Rf&&ye.userProfileHint&&(Rf.textContent=ye.userProfileHint),Lf&&ye.userProfileAvatarButton&&(Lf.textContent=ye.userProfileAvatarButton),jr&&ye.userProfileAvatarButton&&(jr.setAttribute("aria-label",ye.userProfileAvatarButton),jr.removeAttribute("data-help"),jr.removeAttribute("title")),bn&&ye.userProfileAvatarRemove&&(bn.textContent=ye.userProfileAvatarRemove,bn.setAttribute("aria-label",ye.userProfileAvatarRemove)),Gf&&ye.avatarOptionsTitle&&(Gf.textContent=ye.avatarOptionsTitle),Tf&&ye.avatarOptionsDescription&&(Tf.textContent=ye.avatarOptionsDescription),Of&&ye.avatarOptionsClose&&(Of.textContent=ye.avatarOptionsClose),Wa&&ye.avatarOptionsClose&&(Wa.setAttribute("aria-label",ye.avatarOptionsClose),Wa.setAttribute("title",ye.avatarOptionsClose),Wa.setAttribute("data-help",ye.avatarOptionsClose)),xa&&ye.avatarDelete&&(me(xa,ye.avatarDelete,ICON_GLYPHS.trash),xa.setAttribute("aria-label",ye.avatarDelete),xa.setAttribute("title",ye.avatarDelete),xa.setAttribute("data-help",ye.avatarDelete)),kf&&ye.avatarEditZoomLabel&&(kf.textContent=ye.avatarEditZoomLabel),uc&&ye.close&&(uc.textContent=ye.close),Ea(),document.querySelectorAll("#crewContainer .person-row").forEach(Re=>{const Ue=Re.querySelector("select");if(Ue){const aR=Ue.value;Array.from(Ue.options).forEach(gb=>{const hb=gb.value;gb.textContent=it[hb]||hb}),Ue.value=aR}const _r=Re.querySelector(".person-name");_r&&qe.name&&(_r.placeholder=qe.name);const db=Re.querySelector(".person-phone");db&&qe.phone&&(db.placeholder=qe.phone);const fb=Re.querySelector(".person-email");fb&&qe.email&&(fb.placeholder=qe.email);const pb=Re.querySelector(".person-website");pb&&qe.website&&(pb.placeholder=qe.website);const bp=Re.querySelector(".person-contact-select");bp&&pp(bp,bp.value);const mb=Re.querySelector(".person-save-contact");mb&&me(mb,Ae("saveContact","Save to contacts"),ICON_GLYPHS.save);const yb=Re.querySelector(".person-manage-contacts");yb&&me(yb,Ae("openManager","Open contacts"),ICON_GLYPHS.gears),yp(Re)});const Oo=Re=>typeof Re=="string"?Re.replace(/[\s\u00a0]*[:：]\s*$/,""):Re,so=Ct.addEntry||st.addEntry||"Add";if(qi){const Re=Oo(Ct.crewHeading||st.crewHeading||"Crew"),Ue=`${so} ${Re} `.trim();me(qi,Ue,ICON_GLYPHS.add),qi.setAttribute("aria-label",Ue),qi.setAttribute("data-help",Ue)}if(Wi){const Re=Oo(Ct.prepLabel||st.prepLabel||"Prep"),Ue=`${so} ${Re} `.trim();me(Wi,Ue,ICON_GLYPHS.add),Wi.setAttribute("aria-label",Ue),Wi.setAttribute("data-help",Ue)}if(Ki){const Re=Oo(Ct.shootLabel||st.shootLabel||"Shoot"),Ue=`${so} ${Re} `.trim();me(Ki,Ue,ICON_GLYPHS.add),Ki.setAttribute("aria-label",Ue),Ki.setAttribute("data-help",Ue)}if($i){const Re=Oo(Ct.returnLabel||st.returnLabel||"Return Day"),Ue=`${so} ${Re} `.trim();me($i,Ue,ICON_GLYPHS.add),$i.setAttribute("aria-label",Ue),$i.setAttribute("data-help",Ue)}}if(_s&&(_s.textContent=i[e].iosPwaHelpTitle),Ds&&(Ds.textContent=i[e].iosPwaHelpIntro),Fs&&(Fs.textContent=i[e].iosPwaHelpStep1),Uv&&(Uv.textContent=i[e].iosPwaHelpStep2),zv&&(zv.textContent=i[e].iosPwaHelpStep3),Vv&&(Vv.textContent=i[e].iosPwaHelpStep4),qv&&(qv.textContent=i[e].iosPwaHelpNote),ml){const c=i[e].iosPwaHelpClose;me(ml,c,ICON_GLYPHS.check),ml.setAttribute("aria-label",c)}document.querySelectorAll(".favorite-toggle").forEach(c=>{c.setAttribute("aria-label",i[e].favoriteToggleLabel),c.setAttribute("title",i[e].favoriteToggleLabel),c.setAttribute("data-help",i[e].favoriteToggleHelp||i[e].favoriteToggleLabel)}),ensureGearListActions(),updateDiagramLegend(),updateStorageSummary(),Ne("populateFeatureSearch",[],{defer:!0})}var ui=document.getElementById("cameraSelect");typeof window<"u"&&(window.cameraSelect=ui);var nB=document.getElementById("monitorSelect");typeof window<"u"&&(window.monitorSelect=nB);var aB=document.getElementById("videoSelect");typeof window<"u"&&(window.videoSelect=aB);var iB=document.getElementById("videoDistribution");typeof window<"u"&&(window.videoDistributionSelect=iB);var lB=document.getElementById("cageSelect");typeof window<"u"&&(window.cageSelect=lB);var sB=[document.getElementById("motor1Select"),document.getElementById("motor2Select"),document.getElementById("motor3Select"),document.getElementById("motor4Select")];typeof window<"u"&&(window.motorSelects=sB);var cB=[document.getElementById("controller1Select"),document.getElementById("controller2Select"),document.getElementById("controller3Select"),document.getElementById("controller4Select")];typeof window<"u"&&(window.controllerSelects=cB);var uB=document.getElementById("distanceSelect");typeof window<"u"&&(window.distanceSelect=uB);var ps=document.getElementById("batterySelect");typeof window<"u"&&(window.batterySelect=ps);var dB=document.getElementById("batteryHotswapSelect");typeof window<"u"&&(window.hotswapSelect=dB);var fB=document.getElementById("lenses");typeof window<"u"&&(window.lensSelect=fB);var iv=document.getElementById("requiredScenarios");document.getElementById("requiredScenariosSummary");var pB=iv?iv.querySelector('option[value="Remote Head"]'):null;typeof window<"u"&&(window.remoteHeadOption=pB);document.getElementById("tripodPreferencesSection");document.getElementById("tripodPreferencesRow");var mB=document.getElementById("tripodPreferencesHeading"),ln=document.getElementById("tripodHeadBrand");typeof window<"u"&&(window.tripodHeadBrandSelect=ln);var sn=document.getElementById("tripodBowl");typeof window<"u"&&(window.tripodBowlSelect=sn);var yB=document.getElementById("tripodTypes");typeof window<"u"&&(window.tripodTypesSelect=yB);var gB=document.getElementById("tripodSpreader");typeof window<"u"&&(window.tripodSpreaderSelect=gB);document.getElementById("monitoringConfiguration");document.getElementById("viewfinderSettingsRow");document.getElementById("viewfinderExtensionRow");const hB=document.getElementById("projectDialogHeading");var Ei=document.getElementById("projectDialogClose");const bB=document.getElementById("projectNameLabel"),SB=document.getElementById("productionCompanyLabel"),vB=document.getElementById("productionCompanyAddressLabel"),EB=document.getElementById("productionCompanyStreetLabel"),CB=document.getElementById("productionCompanyStreet2Label"),AB=document.getElementById("productionCompanyCityLabel"),wB=document.getElementById("productionCompanyRegionLabel"),RB=document.getElementById("productionCompanyPostalCodeLabel"),LB=document.getElementById("productionCompanyCountryLabel"),GB=document.getElementById("productionCompanyStreet"),TB=document.getElementById("productionCompanyStreet2"),OB=document.getElementById("productionCompanyCity"),kB=document.getElementById("productionCompanyRegion"),IB=document.getElementById("productionCompanyPostalCode"),PB=document.getElementById("productionCompanyCountry"),BB=document.getElementById("rentalHouseLabel"),MB=document.getElementById("crewHeading"),lv=document.getElementById("crewLabel"),_B=document.getElementById("prepLabel"),DB=document.getElementById("shootLabel"),FB=document.getElementById("returnLabel"),xB=document.getElementById("deliveryResolutionLabel");document.getElementById("deliveryResolution");const NB=document.getElementById("recordingResolutionLabel"),HB=document.getElementById("recordingFrameRateLabel"),Pn=document.getElementById("recordingFrameRateHint"),sv=document.getElementById("slowMotionFrameRateLegend"),jB=document.getElementById("slowMotionRecordingResolutionLabel"),UB=document.getElementById("slowMotionSensorModeLabel"),zB=document.getElementById("slowMotionAspectRatioLabel"),VB=document.getElementById("slowMotionBaseFrameRateLabel"),qB=document.getElementById("slowMotionRecordingFrameRateLabel"),Bn=document.getElementById("slowMotionRecordingFrameRateHint"),WB=document.getElementById("sensorModeLabel"),KB=document.getElementById("aspectRatioLabel"),$B=document.getElementById("codecLabel"),YB=document.getElementById("baseFrameRateLabel"),QB=document.getElementById("lensManufacturerLabel"),XB=document.getElementById("lensManufacturerPlaceholder"),ZB=document.getElementById("lensSeriesLabel"),JB=document.getElementById("lensSeriesPlaceholder"),cv=document.getElementById("lensSeriesEmpty"),uv=document.getElementById("lensOptionsEmpty"),eM=document.getElementById("lensesHeading"),tM=document.getElementById("lensesLabel"),oM=document.getElementById("lensSelectionsLabel"),rM=document.getElementById("lensSelectionsHint"),dm=document.getElementById("lensSelectionChips"),nM=document.getElementById("riggingHeading"),aM=document.getElementById("requiredScenariosLabel"),iM=document.getElementById("cameraHandleLabel"),lM=document.getElementById("viewfinderExtensionLabel"),hu=document.getElementById("viewfinderExtension"),sM=document.getElementById("matteboxFilterHeading"),cM=document.getElementById("matteboxLabel"),uM=document.getElementById("filterLabel"),Og=document.getElementById("storageHeading"),kg=document.getElementById("storageNeedsLabel"),dM=document.getElementById("monitoringHeading"),fM=document.getElementById("monitoringConfigurationLabel"),pM=document.getElementById("viewfinderSettingsLabel"),mM=document.getElementById("frameGuidesLabel"),yM=document.getElementById("aspectMaskOpacityLabel"),gM=document.getElementById("videoDistributionLabel"),hM=document.getElementById("monitorUserButtonsLabel"),bM=document.getElementById("cameraUserButtonsLabel"),SM=document.getElementById("viewfinderUserButtonsLabel"),vM=document.getElementById("tripodHeadBrandLabel"),EM=document.getElementById("tripodBowlLabel"),CM=document.getElementById("tripodTypesLabel"),AM=document.getElementById("tripodSpreaderLabel"),fm=document.getElementById("projectSubmit");var yn=document.getElementById("crewContainer");const qi=document.getElementById("addPersonBtn");var dv=document.getElementById("prepContainer");const Wi=document.getElementById("addPrepBtn");var fv=document.getElementById("shootContainer");const Ki=document.getElementById("addShootBtn");var pv=document.getElementById("returnContainer");const $i=document.getElementById("addReturnBtn");var Da=document.getElementById("storageNeedsContainer"),pr=null,Ig=null,pf=null,mf=null,ei=null,yf=null,ti=null,gf=null,Fa=null,hf=null,Fn=null,ma=null,uc=null,bf=null,Pg=null,mv=null,Sf=null,vf=null,Zt=null,Ef=null,It=null,Cf=null,co=null,Af=null,uo=null,wf=null,Rf=null,vl=null,jr=null,Lf=null,yr=null,bn=null,po=null,ll=null,Gf=null,Tf=null,Wa=null,Of=null,xa=null,$e=null,gn=null,yv=null,El=null,Cl=null,kf=null,Wo=null,Se=null,pm=0,Rs=null,Bg=null,Mg=null;function Jr(){typeof document>"u"||(pr=pr||document.getElementById("contactsDialog"),Ig=Ig||document.getElementById("contactsForm"),pf=pf||document.getElementById("contactsDialogHeading"),mf=mf||document.getElementById("contactsDialogDescription"),ei=ei||document.getElementById("contactsAddButton"),yf=yf||document.getElementById("contactsAddButtonLabel"),ti=ti||document.getElementById("contactsImportButton"),gf=gf||document.getElementById("contactsImportButtonLabel"),Fa=Fa||document.getElementById("contactsImportInput"),hf=hf||document.getElementById("contactsImportHint"),Fn=Fn||document.getElementById("contactsList"),ma=ma||document.getElementById("contactsEmptyState"),uc=uc||document.getElementById("contactsCloseButton"),bf=bf||document.getElementById("contactsAnnouncement"),Pg=Pg||document.getElementById("openContactsBtn"),mv=mv||document.getElementById("contactsUserProfile"),Sf=Sf||document.getElementById("contactsUserProfileHeading"),vf=vf||document.getElementById("contactsUserProfileDescription"),Zt=Zt||document.getElementById("userProfileName"),Ef=Ef||document.getElementById("userProfileNameLabel"),It=It||document.getElementById("userProfileRole"),Cf=Cf||document.getElementById("userProfileRoleLabel"),co=co||document.getElementById("userProfilePhone"),Af=Af||document.getElementById("userProfilePhoneLabel"),uo=uo||document.getElementById("userProfileEmail"),wf=wf||document.getElementById("userProfileEmailLabel"),Rf=Rf||document.getElementById("userProfileHint"),vl=vl||document.getElementById("userProfileAvatar"),jr=jr||document.getElementById("userProfileAvatarButton"),Lf=Lf||document.getElementById("userProfileAvatarButtonLabel"),yr=yr||document.getElementById("userProfileAvatarInput"),bn=bn||document.getElementById("userProfileAvatarClear"),po=po||document.getElementById("avatarOptionsDialog"),ll=ll||document.getElementById("avatarOptionsForm"),Gf=Gf||document.getElementById("avatarOptionsTitle"),Tf=Tf||document.getElementById("avatarOptionsDescription"),Wa=Wa||document.getElementById("avatarOptionsClose"),Of=Of||document.getElementById("avatarOptionsCloseLabel"),$e=$e||document.getElementById("avatarEditViewport"),gn=gn||document.getElementById("avatarEditImage"),yv=yv||document.getElementById("avatarPlaceholder"),El=El||document.getElementById("avatarControls"),Cl=Cl||document.getElementById("avatarEditZoom"),kf=kf||document.getElementById("avatarEditZoomLabel"),Rs=Rs||document.getElementById("avatarUploadInput"),xa=xa||document.getElementById("avatarDeleteButton"),Bg=Bg||document.getElementById("avatarSaveButton"),Mg=Mg||document.getElementById("avatarCancelButton"))}var Al=["DoP","Steadicam Operator","Camera Operator","B-Camera Operator","Drone Operator","DIT","1st AC","2nd AC","Video Operator","Key Grip","Dolly Grip","Best Boy Grip","Rigging Grip","Grip","Key Gaffer","Gaffer","Rigging Gaffer","Best Boy Electric","Electrician","Director","Assistant Director","Producer","Production Manager","Production Assistant"];function ow(){return i?.[typeof Ge=="string"?Ge:"en"]?.crewRoles||i?.en?.crewRoles||{}}function rw(e={}){if(Jr(),!It)return;const t=It.ownerDocument||(typeof document<"u"?document:null);if(!t)return;const o=ow(),r=Ae("rolePlaceholder","Select role"),n=Ae("userProfileRolePlaceholder",r)||r,a=e&&typeof e.selected=="string"?e.selected:ft?.getUserProfileSnapshot?ft.getUserProfileSnapshot().role:"",l=It.scrollTop;It.textContent="";const s=t.createElement("option");s.value="",s.textContent=n,It.appendChild(s),Al.forEach(f=>{const y=t.createElement("option");y.value=f,y.textContent=o[f]||f,It.appendChild(y)});const u=typeof a=="string"?a.trim():"";if(u&&!Al.includes(u)){const f=t.createElement("option");f.value=u,f.textContent=o[u]||u,It.appendChild(f)}It.value=u||"",It.scrollTop=l}function nw(e){if(Jr(),!It)return;const t=typeof e=="string"?e.trim():"";if(!t||Array.from(It.options||[]).some(l=>l.value===t))return;const r=It.ownerDocument||(typeof document<"u"?document:null);if(!r)return;const n=ow(),a=r.createElement("option");a.value=t,a.textContent=n[t]||t,It.appendChild(a)}var wM={productionCompany:Zk,productionCompanyAddress:ICON_GLYPHS.pin,rentalHouse:Jk,rentalHouseContact:ICON_GLYPHS.contacts,rentalHouseAddress:ICON_GLYPHS.pin,crew:kt("",ICON_FONT_KEYS.UICONS),prepDays:kt("",ICON_FONT_KEYS.UICONS),returnDays:kt("",ICON_FONT_KEYS.UICONS),shootingDays:kt("",ICON_FONT_KEYS.UICONS),deliveryResolution:kt("",ICON_FONT_KEYS.UICONS),recordingResolution:ICON_GLYPHS.camera,recordingFrameRate:kt("",ICON_FONT_KEYS.UICONS),slowMotionRecordingResolution:ICON_GLYPHS.camera,slowMotionRecordingFrameRate:kt("",ICON_FONT_KEYS.UICONS),aspectRatio:wS,codec:ICON_GLYPHS.codec,baseFrameRate:kt("",ICON_FONT_KEYS.UICONS),slowMotionBaseFrameRate:kt("",ICON_FONT_KEYS.UICONS),sensorMode:ICON_GLYPHS.sensor,slowMotionSensorMode:ICON_GLYPHS.sensor,slowMotionAspectRatio:wS,requiredScenarios:eI,lenses:kt("",ICON_FONT_KEYS.UICONS),cameraHandle:kt("",ICON_FONT_KEYS.UICONS),viewfinderExtension:kt("",ICON_FONT_KEYS.UICONS),gimbal:kt("",ICON_FONT_KEYS.UICONS),monitoringSupport:tI,monitoringConfiguration:kt("",ICON_FONT_KEYS.UICONS),monitorUserButtons:kt("",ICON_FONT_KEYS.UICONS),cameraUserButtons:kt("",ICON_FONT_KEYS.UICONS),viewfinderUserButtons:kt("",ICON_FONT_KEYS.UICONS),storageRequirements:ICON_GLYPHS.save};function aw(e){if(!e)return;const t=e.multiple?Array.from(e.selectedOptions||[]):[],o=e.multiple?t.some(l=>typeof l.value=="string"?l.value.trim()!=="":!!l.value):typeof e.value=="string"?e.value.trim()!=="":e.value!==null&&e.value!==void 0&&String(e.value).trim()!=="";if(e.classList.toggle("select-placeholder",!o),e.id==="requiredScenarios")return;const r=e.parentNode;if(!r||typeof r.querySelector!="function")return;let n=r.querySelector(".icon-box-summary");n||(n=document.createElement("div"),n.className="icon-box-summary",r.insertBefore(n,e.nextSibling)),n.innerHTML="",(e.multiple?t:o&&e.selectedIndex>=0?[e.options[e.selectedIndex]]:[]).forEach(l=>{const s=document.createElement("span");s.className="icon-box";const u=document.createElement("span");u.className="icon icon-glyph";let f=wM[e.name]||ICON_GLYPHS.pin;l.dataset.icon&&(f=kt(l.dataset.icon,l.dataset.iconFont||ICON_FONT_KEYS.UICONS)),applyIconGlyph(u,f),s.appendChild(u),s.appendChild(document.createTextNode(l.value)),n.appendChild(s)})}try{typeof globalThis<"u"&&typeof globalThis.updateSelectIconBoxes!="function"&&(globalThis.updateSelectIconBoxes=aw)}catch(e){console.warn("Failed to expose updateSelectIconBoxes globally",e)}function gv(e,t=""){if(!e)return t;const o=Array.isArray(e)?e:typeof e=="string"?[e]:[];if(!o.length)return t;const r=i&&i[Ge]||{},n=i&&i.en||{},a=u=>o.reduce((f,y)=>{if(f&&Object.prototype.hasOwnProperty.call(f,y))return f[y]},u),l=a(r);if(l!=null&&l!=="")return String(l);const s=a(n);return s!=null&&s!==""?String(s):t}function Yi(e,t,o={}){if(!e)return;const{contextPaths:r=[],fallbackContext:n="",actionKey:a="addEntry"}=o||{};me(e,"",t||ICON_GLYPHS.add);const l=gv(["projectForm",a],a==="removeEntry"?"Remove":"Add"),s=Array.isArray(r)?r:[r];let u="";for(const R of s){if(!R)continue;const _=gv(R,"");if(_){u=_;break}}!u&&typeof n=="string"&&(u=n);const f=u?u.replace(/[:：]\s*$/,"").trim():"",y=[l,f].filter(Boolean).join(" ").trim();y&&(e.setAttribute("aria-label",y),e.setAttribute("title",y))}je("configureIconOnlyButton",Yi);let hv=0;function RM(e,t="field"){return e==null?t:String(e).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||t}function ho(e,t="field"){if(!e)return"";if(e.id)return e.id;const o=RM(t,"field");let r="";do hv+=1,r=`${o} -${hv} `;while(document.getElementById(r));return e.id=r,r}function xr(e,t){const o=document.createElement("label");return o.className="visually-hidden",o.setAttribute("for",e),o.textContent=typeof t=="string"?t:"",o}try{typeof globalThis<"u"&&(typeof globalThis.ensureElementId!="function"&&(globalThis.ensureElementId=ho),typeof globalThis.createHiddenLabel!="function"&&(globalThis.createHiddenLabel=xr))}catch(e){console.warn("Failed to expose accessibility helpers globally",e)}function cn(e,t=""){const o=i?.en?.projectForm||{},r=i?.[Ge]?.projectForm||o,n=r&&typeof r[e]=="string"?r[e].trim():"";return n||(o&&typeof o[e]=="string"?o[e].trim():"")||t}const LM="cameraPowerPlanner_contacts";function iw(){try{const e=up();if(e&&typeof e.CONTACTS_STORAGE_KEY=="string"&&e.CONTACTS_STORAGE_KEY)return e.CONTACTS_STORAGE_KEY}catch(e){console.warn("Failed to resolve contacts storage key via module.",e)}return LM}var Pt=[],bv=!1;const ft=NI({loadProfile:()=>{try{return typeof loadUserProfile=="function"?loadUserProfile():null}catch(e){return console.warn("Failed to resolve stored user profile",e),null}},saveProfile:e=>{if(typeof saveUserProfile=="function")try{saveUserProfile(e)}catch(t){console.warn("Failed to persist user profile",t)}},announce:e=>tt(e),getText:Ae,dispatchChange:()=>dw("user-profile")});function Ae(e,t=""){const o=i?.en?.contacts||{},r=i?.[Ge]?.contacts||o,n=r&&typeof r[e]=="string"?r[e].trim():"";return n||(o&&typeof o[e]=="string"?o[e].trim():"")||t}function ob(){const e=up();if(e&&typeof e.generateContactId=="function")try{return e.generateContactId()}catch(t){console.warn("Unable to generate contact id via module.",t)}return`contact - ${Date.now().toString(36)} -${Math.random().toString(36).slice(2,8)} `}function mr(e){return jI(e)}function lw(e){return UI(e)}function dc(e){return DA(e)}function GM(){const e=up();if(e&&typeof e.loadStoredContacts=="function")try{return e.loadStoredContacts()}catch(t){console.warn("Unable to load contacts via module.",t)}if(typeof localStorage>"u")return[];try{const t=iw(),o=localStorage.getItem(t);if(!o)return[];const r=JSON.parse(o);return Array.isArray(r)?dc(r):[]}catch(t){return console.warn("Failed to load contacts from storage",t),[]}}function wl(e){const t=up();if(t&&typeof t.saveContactsToStorage=="function")try{t.saveContactsToStorage(e);return}catch(o){console.warn("Unable to save contacts via module.",o)}if(!(typeof localStorage>"u"))try{const o=iw();localStorage.setItem(o,JSON.stringify(e))}catch(o){console.warn("Failed to save contacts to storage",o)}}function rb(e){return e&&Pt.find(t=>t.id===e)||null}function TM(e){if(!e)return"";const t=i?.[Ge]?.crewRoles||i?.en?.crewRoles||{},o=e.name||e.email||e.phone||e.website||e.role||e.id,r=e.role?t[e.role]||e.role:"";return o&&r&&r!==o?`${o} — ${r} `:o||r||e.id}typeof window<"u"&&(window.updateTripodOptions=Aw);function pp(e,t){if(!e)return;const o=typeof t=="string"?t:e.value;let r=e.lang;!r&&typeof document<"u"&&document&&document.documentElement&&(r=document.documentElement.lang||""),r||(r=Ge||Wt);const n=e.dir||GA(r||Ge||Wt);for(;e.firstChild;)e.removeChild(e.firstChild);const a=document.createElement("option");if(a.value="",a.textContent=Ae("selectPlaceholder","Select contact"),wr(a,r,n),e.appendChild(a),Pt.forEach(l=>{const s=document.createElement("option");s.value=l.id,s.textContent=TM(l),wr(s,r,n),l.id===o&&(s.selected=!0),e.appendChild(s)}),o&&!Pt.some(l=>l.id===o)){const l=document.createElement("option");l.value=o,l.textContent=Ae("missingContactFallback","Saved contact"),l.selected=!0,wr(l,r,n),e.appendChild(l)}}function di(){if(!yn)return;yn.querySelectorAll(".person-contact-select").forEach(t=>pp(t)),dw("contacts")}function OM(e){if(typeof e=="string"){const t=e.trim();if(t)return t.charAt(0).toUpperCase()}return"•"}function ia(e,t,o,r){if(!e)return;const n=e.querySelector(".person-avatar-visual, .contact-card-avatar-visual");if(n){for(;n.firstChild;)n.removeChild(n.firstChild);if(t&&HI(t)){const a=document.createElement("img");a.src=t,a.alt="",n.appendChild(a)}else{const a=document.createElement("span");a.className=r,a.textContent=OM(o),n.appendChild(a)}}}function Ls(e,t,o={}){if(!e)return;const r=e.querySelector(".person-avatar-data");r&&(r.value=t||"");const n=e.querySelector(".person-name"),a=o&&Object.prototype.hasOwnProperty.call(o,"name")?o.name:n?.value,l=e.querySelector(".person-avatar");ia(l,t,a,"person-avatar-initial")}function kM(e){if(typeof e!="string"||!e.startsWith("data:"))return"";const t=e.indexOf(";");return t===-1?"":e.slice(5,t).trim()}function fc(e,t){Jr()}function pc(e={}){const{restoreFocus:t=!1}=e||{};if(El&&El.classList.add("hidden"),$e){try{$e.releasePointerCapture(Se?.pointerId??-1)}catch{}t&&$e.blur()}gn&&gn.removeAttribute("style"),Se=null,typeof Wo?.getAvatar=="function"&&Wo.getAvatar(),typeof Wo?.getName=="function"&&Wo.getName(),fc(),fc()}function Gr(){po&&(pc(),Wo=null,xn(po))}function IM(){pc(),Wo=null}function nb(e=null){console.log("openAvatarOptionsDialog called",e),Jr(),console.log("avatarOptionsDialog ref:",po),po&&(Wo=e||null,typeof e?.getAvatar=="function"&&e.getAvatar(),typeof e?.getName=="function"&&e.getName(),fc(),pc(),pc(),Oc(po))}function mp(e){if(!e)return;const t=Math.min(0,e.viewportSize-e.displayWidth),o=Math.min(0,e.viewportSize-e.displayHeight);e.offsetX=Math.max(t,Math.min(0,e.offsetX)),e.offsetY=Math.max(o,Math.min(0,e.offsetY))}function mc(e){if(!e||!e.image)return;const t=e.image.naturalWidth||e.image.width||0,o=e.image.naturalHeight||e.image.height||0,r=t*e.baseScale*e.zoom,n=o*e.baseScale*e.zoom;e.displayWidth=r,e.displayHeight=n,mp(e),gn&&(gn.style.width=`${r} px`,gn.style.height=`${n} px`,gn.style.transform=`translate(${e.offsetX}px, ${e.offsetY}px)`)}function PM(){if(Jr(),!$e)return 0;let e=!1,t="",o="";$e&&$e.classList.contains("hidden")&&(e=!0,t=$e.style.visibility||"",o=$e.style.pointerEvents||"",$e.style.visibility="hidden",$e.style.pointerEvents="none",$e.classList.remove("hidden"));let r=0;try{const n=$e.getBoundingClientRect();r=Math.round(Math.max($e.offsetWidth||0,n.width||0,n.height||0))}finally{e&&$e&&($e.classList.add("hidden"),$e.style.visibility=t,$e.style.pointerEvents=o)}return!r&&pm?pm:(r&&(pm=r),r)}function BM(e){if(Jr(),!$e||!gn)return;if(!e){tt(Ae("avatarMissingImage","Add a photo before editing."));return}const t=PM();if(!t){tt(Ae("avatarEditUnavailable","Photo editor unavailable."));return}const o=new Image;o.decoding="async";const r=kM(e);o.onload=()=>{if(!o.naturalWidth||!o.naturalHeight){tt(Ae("avatarReadError","Could not read the selected image."));return}const n=Math.max(t/o.naturalWidth,t/o.naturalHeight);Se={active:!0,dataUrl:e,image:o,mime:r,viewportSize:t,baseScale:n,zoom:1,offsetX:(t-o.naturalWidth*n)/2,offsetY:(t-o.naturalHeight*n)/2,pointerId:null,pointerStartX:0,pointerStartY:0,offsetStartX:0,offsetStartY:0,displayWidth:0,displayHeight:0},gn.src=e,$e&&$e.classList.add("has-image"),El&&El.classList.remove("hidden"),Cl&&(Cl.value="100"),mc(Se);try{$e.focus()}catch{}},o.onerror=()=>{tt(Ae("avatarReadError","Could not read the selected image."))},o.src=e}function Sv(e){if(!Se||!Se.active)return;const t=Number(e?.target?.value)||100,o=Math.max(50,t)/100,r=Se.displayWidth||1,n=Se.displayHeight||1,a=-Se.offsetX+Se.viewportSize/2,l=-Se.offsetY+Se.viewportSize/2,s=a/r,u=l/n;Se.zoom=o,mc(Se);const f=Se.displayWidth*s,y=Se.displayHeight*u;Se.offsetX=-(f-Se.viewportSize/2),Se.offsetY=-(y-Se.viewportSize/2),mp(Se),mc(Se)}function MM(e){if(!(!Se||!Se.active||!$e)&&Se.pointerId===null){Se.pointerId=e.pointerId,Se.pointerStartX=e.clientX,Se.pointerStartY=e.clientY,Se.offsetStartX=Se.offsetX,Se.offsetStartY=Se.offsetY;try{$e.setPointerCapture(e.pointerId)}catch{}e.preventDefault()}}function _M(e){if(!Se||!Se.active||Se.pointerId!==e.pointerId)return;const t=e.clientX-Se.pointerStartX,o=e.clientY-Se.pointerStartY;Se.offsetX=Se.offsetStartX+t,Se.offsetY=Se.offsetStartY+o,mp(Se),mc(Se),e.preventDefault()}function sw(){Se&&(Se.pointerId=null)}function DM(e){if(!(!Se||!Se.active)&&Se.pointerId===e.pointerId){if(sw(),$e)try{$e.releasePointerCapture(e.pointerId)}catch{}e.preventDefault()}}function FM(e){if(!(!Se||!Se.active)&&Se.pointerId===e.pointerId&&(sw(),$e))try{$e.releasePointerCapture(e.pointerId)}catch{}}function xM(e){if(!Se||!Se.active)return;const t=e.shiftKey?10:2;let o=!1;switch(e.key){case"ArrowUp":Se.offsetY-=t,o=!0;break;case"ArrowDown":Se.offsetY+=t,o=!0;break;case"ArrowLeft":Se.offsetX-=t,o=!0;break;case"ArrowRight":Se.offsetX+=t,o=!0;break}o&&(mp(Se),mc(Se),e.preventDefault())}function cw(){if(!Se||!Se.image)return"";const e=Se.baseScale*Se.zoom;if(!e)return"";const t=Se.viewportSize/e,o=Math.max(0,Math.min(Se.image.naturalWidth-t,-Se.offsetX/e)),r=Math.max(0,Math.min(Se.image.naturalHeight-t,-Se.offsetY/e)),n=document.createElement("canvas");n.width=CONTACT_AVATAR_MAX_DIMENSION,n.height=CONTACT_AVATAR_MAX_DIMENSION;const a=n.getContext("2d");if(!a)return"";a.clearRect(0,0,n.width,n.height),a.drawImage(Se.image,o,r,t,t,0,0,n.width,n.height);const l=Se.mime&&Se.mime.startsWith("image/")?Se.mime:"image/png";try{return n.toDataURL(l)}catch{try{return n.toDataURL("image/png")}catch{return""}}}function NM(){if(!Se||!Se.active)return;const e=cw();if(!e){tt(Ae("avatarEditFailed","Could not update the photo framing."));return}typeof Wo?.onEditSave=="function"&&Wo.onEditSave(e),typeof Wo?.getName=="function"&&Wo.getName(),fc(),pc({restoreFocus:!0}),Gr()}function HM(e){if(!e)return;e.preventDefault(),e.stopPropagation(),$e&&$e.classList.remove("drag-over");const t=e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files[0];t&&uw(t)}function vv(e){e&&(e.preventDefault(),e.stopPropagation(),$e&&$e.classList.add("drag-over"))}function jM(e){e&&(e.preventDefault(),e.stopPropagation(),$e&&$e.classList.remove("drag-over"))}function UM(e){const t=e.target&&e.target.files&&e.target.files[0];t&&uw(t),e.target&&(e.target.value="")}function uw(e){Tc(e,t=>{const o=typeof Wo?.getName=="function"?Wo.getName():"";fc(t,o),BM(t)},t=>{tt(Ae("avatarReadError","Could not read image."))})}function zM(){if(Se&&Se.active){const e=cw();e&&typeof Wo?.onEditSave=="function"&&Wo.onEditSave(e)}Gr()}function Ev(e){if(!po||!mi(po)||e&&typeof e.button=="number"&&e.button!==0)return;const t=e?.target||null,o=typeof Element<"u"&&t instanceof Element?t:null,r=typeof e?.composedPath=="function"?e.composedPath():null;if(!(ll&&(o&&ll.contains(o)||Array.isArray(r)&&r.includes(ll)))){if(Se&&Se.active){NM();return}Gr()}}function dw(e){if(!(typeof document>"u"))try{document.dispatchEvent(new CustomEvent("gear-provider-data-changed",{detail:{reason:e}}))}catch{}}function en(e={}){!ft||typeof ft.assignUserProfileState!="function"||ft.assignUserProfileState(e)}function Tr(){return!ft||typeof ft.getUserProfileSnapshot!="function"?{name:"",role:"",avatar:"",phone:"",email:""}:ft.getUserProfileSnapshot()}function If(e={}){Jr();const t=Tr(),o=e&&e.preserveSelectionTarget?e.preserveSelectionTarget:e&&e.preserveSelection?document.activeElement:null;if(Zt)if(o===Zt){const r=Zt.selectionStart,n=Zt.selectionEnd;Zt.value=t.name;try{Zt.setSelectionRange(r,n)}catch{}}else Zt.value=t.name;if(It&&(nw(t.role),o!==It&&(It.value=t.role||"")),co)if(o===co){const r=co.selectionStart,n=co.selectionEnd;co.value=t.phone;try{co.setSelectionRange(r,n)}catch{}}else co.value=t.phone;if(uo)if(o===uo){const r=uo.selectionStart,n=uo.selectionEnd;uo.value=t.email;try{uo.setSelectionRange(r,n)}catch{}}else uo.value=t.email;if(vl&&ia(vl,t.avatar||"",t.name,"contact-card-avatar-initial"),bn){const r=!!t.avatar;bn.disabled=!r,bn.setAttribute("aria-disabled",r?"false":"true")}}function VM(){if(!ft||typeof ft.load!="function"){If();return}ft.load(),If()}function qM(e){en({avatar:typeof e=="string"?e:""}),tn()}function WM(){en({avatar:""}),tn()}typeof window<"u"&&(typeof window.setAvatar!="function"&&(window.setAvatar=qM),typeof window.clearAvatar!="function"&&(window.clearAvatar=WM),typeof window.assignUserProfileState!="function"&&(window.assignUserProfileState=en),typeof window.persistUserProfileState!="function"&&(window.persistUserProfileState=tn));function tn(e={}){if(!ft||typeof ft.schedulePersist!="function")return;const t=typeof document<"u"?document.activeElement:null,o=t===Zt||t===It||t===co||t===uo?t:null;ft.schedulePersist({announce:!!(e&&e.announce)}),If({preserveSelectionTarget:o})}function KM(){if(!Zt)return;const e=typeof Zt.value=="string"?Zt.value:"",t=Tr();e.trim()!==t.name.trim()&&(ft&&typeof ft.handleFieldInput=="function"?ft.handleFieldInput("name",e):en({name:e}),tn())}function Cv(){if(!It)return;const t=(typeof It.value=="string"?It.value:"").trim(),o=Tr();t!==o.role.trim()&&(nw(t),ft&&typeof ft.handleFieldInput=="function"?ft.handleFieldInput("role",t):en({role:t}),tn())}function $M(){if(!co)return;const e=typeof co.value=="string"?co.value:"",t=Tr();e.trim()!==t.phone.trim()&&(ft&&typeof ft.handleFieldInput=="function"?ft.handleFieldInput("phone",e):en({phone:e}),tn())}function YM(){if(!uo)return;const e=typeof uo.value=="string"?uo.value:"",t=Tr();e.trim()!==t.email.trim()&&(ft&&typeof ft.handleFieldInput=="function"?ft.handleFieldInput("email",e):en({email:e}),tn())}function bu(){ft&&typeof ft.handleFieldBlur=="function"&&ft.handleFieldBlur()}function fw(){Tr().avatar&&(en({avatar:""}),tn(),tt(Ae("avatarCleared","Profile photo removed.")),mi(po)&&Gr())}function QM(){const e=Tr(),t=!!(e&&e.avatar);if(console.log("handleUserProfileAvatarButtonClick",{hasAvatar:t,profile:e}),!t&&yr&&typeof yr.click=="function")try{yr.click();return}catch{}nb({getAvatar:()=>Tr().avatar||"",getName:()=>Tr().name||Zt?.value||"",onDelete:()=>{fw()},onChange:()=>{if(yr&&typeof yr.click=="function")try{yr.click()}catch{}},onEditSave:o=>{o&&(en({name:Tr().name||Zt?.value||"",avatar:o}),tn(),tt(Ae("avatarUpdated","Profile photo updated.")),Gr())}})}function XM(){if(!yr)return;const[e]=yr.files||[];e&&(Tc(e,t=>{const o=Tr();en({name:o.name||"",avatar:t}),tn(),tt(Ae("avatarUpdated","Profile photo updated.")),mi(po)&&Gr()},t=>{tt(t==="tooLarge"?Ae("avatarTooLarge","Choose an image under 300 KB."):Ae("avatarReadError","Could not read the selected image."))}),yr.value="")}function pw(e){if(!e)return;const t=e.querySelector(".person-avatar-data");if(t&&t.value)return;const o=e.querySelector(".person-name"),r=e.querySelector(".person-avatar");ia(r,"",o?o.value:"","person-avatar-initial")}function sl(e,t={}){if(!e)return;const{preserveSelect:o=!1}=t||{};if(delete e.dataset.contactId,!o){const r=e.querySelector(".person-contact-select");r&&(r.value="")}yp(e)}function yp(e){if(!e)return;const t=e.querySelector(".person-linked-badge");if(!t)return;const o=e.dataset.contactId,r=e.dataset.userProfileLinked==="1";if(o){const n=rb(o),a=Ae("linkedBadge","Linked to contact");n&&n.name?t.textContent=`${a}: ${n.name} `:t.textContent=a,t.hidden=!1;return}if(r){t.textContent=Ae("linkedProfileBadge","Linked to user profile"),t.hidden=!1;return}t.textContent=Ae("linkedBadge","Linked to contact"),t.hidden=!0}function Su(e,t=!1){if(typeof window<"u"&&window.cineSuppressAutosave||!e||e.dataset.syncingContact==="1")return;e.dataset.contactId&&(sl(e),tt(Ae("contactDetached","Crew row disconnected from saved contact."))),pw(e),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave(t)}function Av(e,t){Tc(t,o=>{Ls(e,o),e.dataset.contactId&&sl(e),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave(!0),tt(Ae("avatarUpdated","Profile photo updated.")),mi(po)&&Gr()},o=>{tt(o==="tooLarge"?Ae("avatarTooLarge","Choose an image under 300 KB."):Ae("avatarReadError","Could not read the selected image."))})}function tt(e){Jr(),bf&&(bf.textContent=e||"")}function ab(e,t,o={}){if(!e||!t)return;const{skipDirty:r=!1,skipAnnouncement:n=!1}=o||{},a=mw(e)||{},l=typeof jS=="function"?jS(a,t):{role:t.role||"",name:t.name||"",phone:t.phone||"",email:t.email||"",website:t.website||"",avatar:t.avatar||"",contactId:t.id||""};e.dataset.syncingContact="1";try{const s=e.querySelector('select[name="crewRole"]');if(s){if(l.role&&!Array.from(s.options).some(T=>T.value===l.role)){const T=document.createElement("option");T.value=l.role;const I=i?.[Ge]?.crewRoles||i?.en?.crewRoles||{};T.textContent=I[l.role]||l.role,s.appendChild(T)}l.role&&(s.value=l.role)}const u=e.querySelector(".person-name");u&&(u.value=l.name||"");const f=e.querySelector(".person-phone");f&&(f.value=l.phone||"");const y=e.querySelector(".person-email");y&&(y.value=l.email||"");const R=e.querySelector(".person-website");R&&(R.value=l.website||""),Ls(e,l.avatar||"",{name:l.name}),e.dataset.contactId=l.contactId||t.id;const _=e.querySelector(".person-contact-select");_&&pp(_,l.contactId||t.id)}finally{delete e.dataset.syncingContact}yp(e),!r&&typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),r||scheduleProjectAutoSave(!0),n||tt(Ae("contactApplied","Crew row updated from contact."))}function ib(e){if(!yn||!e)return;yn.querySelectorAll(".person-row").forEach(o=>{o.dataset.contactId===e.id&&ab(o,e,{skipAnnouncement:!0})})}function mw(e){if(!e)return null;const t=e.querySelector('select[name="crewRole"]'),o=e.querySelector(".person-name"),r=e.querySelector(".person-phone"),n=e.querySelector(".person-email"),a=e.querySelector(".person-website"),l=e.querySelector(".person-avatar-data");return{role:mr(t?.value||""),name:mr(o?.value||""),phone:mr(r?.value||""),email:mr(n?.value||""),website:mr(a?.value||""),avatar:mr(l?.value||""),contactId:mr(e.dataset.contactId||"")}}function ZM(e){if(!e)return;const t=Pt.findIndex(o=>o.id===e);t!==-1&&(Pt.splice(t,1),Pt=dc(Pt),wl(Pt),Ea(),di(),yn&&yn.querySelectorAll(".person-row").forEach(r=>{r.dataset.contactId===e&&sl(r)}),tt(Ae("contactDeleted","Contact removed. Project rows keep their details.")))}function JM(e){const t=mw(e);if(!t)return;if(!t.name&&!t.email&&!t.phone&&!t.website){tt(Ae("contactMissingDetails","Enter a name, email, phone number or website before saving this contact."));return}const o=Date.now();if(t.contactId){const n=rb(t.contactId);if(n){n.name=t.name||n.name,n.role=t.role||n.role,n.phone=t.phone||n.phone,n.email=t.email||n.email,n.website=t.website||n.website,t.avatar?n.avatar=t.avatar:n.avatar||delete n.avatar,n.updatedAt=o,Pt=dc(Pt),wl(Pt),Ea({focusContactId:n.id}),di(),ib(n),tt(Ae("contactUpdated","Contact updated."));return}}const r=lw({id:t.contactId||ob(),name:t.name,role:t.role,phone:t.phone,email:t.email,website:t.website,avatar:t.avatar,createdAt:o,updatedAt:o});Pt.push(r),Pt=dc(Pt),wl(Pt),Ea({focusContactId:r.id}),di(),ab(e,r,{skipAnnouncement:!0}),tt(Ae("contactSaved","Contact saved for future projects."))}function e_(e){return zI(e,{sanitize:mr})}function t_(e){if(!Array.isArray(e)||!e.length)return tt(Ae("importNone","No new contacts found in the file.")),{added:0,updated:0};const t=VI({existing:Pt,imported:e,now:()=>Date.now(),generateContactId:ob}),{contacts:o,added:r=0,updated:n=0}=t;if(Pt=Array.isArray(o)?o:Pt,wl(Pt),Ea(),di(),Array.isArray(o)&&o.forEach(a=>ib(a)),r||n){const a=Ae("importSummary","{added} added, {updated} updated.");tt(a.replace("{added}",r).replace("{updated}",n))}else tt(Ae("importNone","No new contacts found in the file."));return{added:r,updated:n}}function o_(e){const t=document.createElement("article");t.className="contact-card",t.setAttribute("role","listitem"),t.dataset.contactId=e.id;const o=document.createElement("div");o.className="contact-card-header";const r=document.createElement("div");r.className="contact-card-avatar";const n=document.createElement("div");n.className="contact-card-avatar-visual",r.appendChild(n),ia(r,e.avatar||"",e.name,"contact-card-avatar-initial");const a=document.createElement("button");a.type="button";const l=Ae("avatarChange","Change photo");a.setAttribute("aria-label",l),a.removeAttribute("title"),a.removeAttribute("data-help"),a.innerHTML="",r.appendChild(a);const s=document.createElement("input");s.type="file",s.accept="image/*",s.className="visually-hidden",s.tabIndex=-1,r.appendChild(s),o.appendChild(r);const u=document.createElement("strong");u.textContent=e.name||Ae("contactFallbackName","Crew contact"),o.appendChild(u),t.appendChild(o);const f=document.createElement("div");f.className="contact-card-fields";const y=i?.[Ge]?.crewRoles||i?.en?.crewRoles||{},R=document.createElement("input");R.type="text",R.value=e.name||"";const _=ho(R,`${e.id} -name`),T=document.createElement("label");T.setAttribute("for",_),T.textContent=Ae("nameLabel","Name");const I=document.createElement("div");I.className="contact-field",I.append(T,R),f.appendChild(I);const m=document.createElement("select"),g=ho(m,`${e.id} -role`),A=document.createElement("option");if(A.value="",A.textContent=Ae("rolePlaceholder","Select role"),m.appendChild(A),Al.forEach(q=>{const oe=document.createElement("option");oe.value=q,oe.textContent=y[q]||q,m.appendChild(oe)}),e.role&&!Al.includes(e.role)){const q=document.createElement("option");q.value=e.role,q.textContent=y[e.role]||e.role,m.appendChild(q)}m.value=e.role||"";const w=document.createElement("label");w.setAttribute("for",g),w.textContent=Ae("roleLabel","Crew role");const E=document.createElement("div");E.className="contact-field",E.append(w,m),f.appendChild(E);const S=document.createElement("input");S.type="tel",S.value=e.phone||"";const C=ho(S,`${e.id} -phone`),F=document.createElement("label");F.setAttribute("for",C),F.textContent=Ae("phoneLabel","Phone");const j=document.createElement("div");j.className="contact-field",j.append(F,S),f.appendChild(j);const $=document.createElement("input");$.type="email",$.value=e.email||"";const x=ho($,`${e.id} -email`),Q=document.createElement("label");Q.setAttribute("for",x),Q.textContent=Ae("emailLabel","Email");const le=document.createElement("div");le.className="contact-field",le.append(Q,$),f.appendChild(le);const K=document.createElement("input");K.type="url",K.inputMode="url",K.autocomplete="url",K.value=e.website||"",K.placeholder=Ae("websitePlaceholder","https://example.com");const re=ho(K,`${e.id} -website`),Ee=document.createElement("label");Ee.setAttribute("for",re),Ee.textContent=Ae("websiteLabel","Website");const ae=document.createElement("div");ae.className="contact-field",ae.append(Ee,K),f.appendChild(ae),t.appendChild(f);const Z=document.createElement("div");Z.className="contact-card-actions";const ce=document.createElement("button");ce.type="button",me(ce,Ae("useInProject","Add to project crew"),ICON_GLYPHS.add),ce.addEventListener("click",()=>{lb({...e,contactId:e.id}),xn(pr),tt(Ae("contactAddedToProject","Contact added to the current project."))}),Z.appendChild(ce);const Le=document.createElement("button");Le.type="button",me(Le,Ae("deleteContact","Delete contact"),ICON_GLYPHS.trash),Le.addEventListener("click",()=>{const q=Ae("deleteConfirm","Remove this contact? Project rows will keep their details."),oe=()=>ZM(e.id);if(typeof window.cineShowConfirmDialog=="function"){window.cineShowConfirmDialog({title:Ae("deleteContact","Delete contact"),message:q,confirmLabel:Ae("deleteButton","Delete")||"Delete",cancelLabel:Ae("cancel","Cancel")||"Cancel",danger:!0,onConfirm:oe});return}console.warn("Missing window.cineShowConfirmDialog for delete contact")}),Z.appendChild(Le),t.appendChild(Z);const Pe=(q=!1)=>{e.updatedAt=Date.now(),wl(Pt),di(),ib(e),q&&(Pt=dc(Pt),Ea({focusContactId:e.id}))};return R.addEventListener("input",()=>{e.name=mr(R.value),u.textContent=e.name||Ae("contactFallbackName","Crew contact"),ia(r,e.avatar||"",e.name,"contact-card-avatar-initial"),Pe()}),R.addEventListener("blur",q=>{const oe=q?.relatedTarget||(typeof document<"u"?document.activeElement:null);if(oe&&oe!==R&&t.contains(oe)){Pe();return}Pe(!0)}),m.addEventListener("change",()=>{e.role=mr(m.value),Pe()}),S.addEventListener("input",()=>{e.phone=mr(S.value),Pe()}),$.addEventListener("input",()=>{e.email=mr($.value),Pe()}),K.addEventListener("input",()=>{e.website=mr(K.value),Pe()}),a.addEventListener("click",()=>{if(!e.avatar&&s&&typeof s.click=="function")try{s.click();return}catch{}nb({getAvatar:()=>e.avatar||"",getName:()=>e.name||"",onDelete:()=>{e.avatar&&(e.avatar="",ia(r,"",e.name,"contact-card-avatar-initial"),Pe(),tt(Ae("avatarCleared","Profile photo removed.")))},onChange:()=>{if(s&&typeof s.click=="function")try{s.click()}catch{}},onEditSave:q=>{q&&(e.avatar=q,ia(r,q,e.name,"contact-card-avatar-initial"),Pe(),tt(Ae("avatarUpdated","Profile photo updated.")))}})}),s.addEventListener("change",()=>{const[q]=s.files||[];q&&(Tc(q,oe=>{e.avatar=oe,ia(r,oe,e.name,"contact-card-avatar-initial"),Pe(),tt(Ae("avatarUpdated","Profile photo updated.")),mi(po)&&Gr()},oe=>{tt(oe==="tooLarge"?Ae("avatarTooLarge","Choose an image under 300 KB."):Ae("avatarReadError","Could not read the selected image."))}),s.value="")}),{card:t,focusTarget:R}}function Ea(e={}){if(Jr(),!Fn)return;const{focusContactId:t=null}=e||{};for(;Fn.firstChild;)Fn.removeChild(Fn.firstChild);if(!Pt.length){ma&&(ma.hidden=!1);return}ma&&(ma.hidden=!0);let o=null;Pt.forEach(r=>{const{card:n,focusTarget:a}=o_(r);Fn.appendChild(n),t&&r.id===t&&(o=a)}),o&&requestAnimationFrame(()=>o.focus())}function yw(e,t){if(!e)return;const o=a=>{a.preventDefault(),a.stopPropagation(),e.classList.add("avatar-drag-over")},r=a=>{a.preventDefault(),a.stopPropagation(),e.classList.remove("avatar-drag-over")},n=a=>{a.preventDefault(),a.stopPropagation(),e.classList.remove("avatar-drag-over");const l=a.dataTransfer&&a.dataTransfer.files&&a.dataTransfer.files[0];l&&t(l)};e.addEventListener("dragenter",o),e.addEventListener("dragover",o),e.addEventListener("dragleave",r),e.addEventListener("drop",n)}function gw(){console.log("initializeContactsModule called"),Jr(),!(bv&&Fn&&jr)&&(console.log("initializeContactsModule running (re-init or first run)"),Pt=GM(),VM(),rw(),Ea(),di(),If(),console.log("userProfileAvatarButton found (first-run):",!!jr),Zt&&(Zt.addEventListener("input",KM),Zt.addEventListener("blur",bu)),It&&(It.addEventListener("input",Cv),It.addEventListener("change",Cv),It.addEventListener("blur",bu)),co&&(co.addEventListener("input",$M),co.addEventListener("blur",bu)),uo&&(uo.addEventListener("input",YM),uo.addEventListener("blur",bu)),jr&&jr.addEventListener("click",QM),bn&&bn.addEventListener("click",fw),yr&&yr.addEventListener("change",XM),vl&&yw(vl,e=>{Tc(e,t=>{const o=Tr();en({name:o.name||"",avatar:t}),tn(),tt(Ae("avatarUpdated","Profile photo updated.")),mi(po)&&Gr()},t=>{tt(t==="tooLarge"?Ae("avatarTooLarge","Choose an image under 300 KB."):Ae("avatarReadError","Could not read the selected image."))})}),ei&&ei.addEventListener("click",()=>{const e=lw({id:ob(),name:"",role:"",phone:"",email:"",avatar:"",createdAt:Date.now(),updatedAt:Date.now()});Pt.push(e),Ea({focusContactId:e.id}),wl(Pt),di(),tt(Ae("contactDraftCreated","New contact ready. Fill in the details."))}),ti&&Fa&&(ti.addEventListener("click",()=>Fa.click()),Fa.addEventListener("change",()=>{const[e]=Fa.files||[];e&&e.text().then(t=>t_(e_(t))).catch(()=>{tt(Ae("importError","Could not import the selected file."))}).finally(()=>{Fa.value=""})})),Wa?.addEventListener("click",()=>Gr()),ll?.addEventListener("submit",e=>e.preventDefault()),po?.addEventListener("cancel",e=>{e.preventDefault(),Gr()}),po?.addEventListener("close",IM),po?.addEventListener("pointerdown",Ev),po?.addEventListener("pointerdown",Ev),$e&&($e.addEventListener("dragenter",vv),$e.addEventListener("dragover",vv),$e.addEventListener("dragleave",jM),$e.addEventListener("drop",HM),$e.addEventListener("click",()=>Rs&&Rs.click()),$e.addEventListener("pointerdown",MM),$e.addEventListener("pointermove",_M),$e.addEventListener("pointerup",DM),$e.addEventListener("pointercancel",FM),$e.addEventListener("keydown",xM)),Rs?.addEventListener("change",UM),Bg?.addEventListener("click",zM),Mg?.addEventListener("click",()=>Gr()),Cl?.addEventListener("input",Sv),Cl?.addEventListener("change",Sv),uc?.addEventListener("click",()=>xn(pr)),Ig?.addEventListener("submit",e=>{e.preventDefault(),xn(pr)}),pr?.addEventListener("cancel",e=>{e.preventDefault(),xn(pr)}),pr?.addEventListener("click",e=>{e.target===pr&&xn(pr)}),Pg?.addEventListener("click",e=>{e.preventDefault(),Oc(pr)}),Fn&&jr&&(bv=!0))}function lb(e={}){if(yn||typeof document<"u"&&(yn=document.getElementById("crewContainer")),!yn)return;const t=document.createElement("div");t.className="person-row",e.userProfileLinked&&(t.dataset.userProfileLinked="1");let o="";typeof document<"u"&&document&&document.documentElement&&(o=document.documentElement.lang||"");const r=o||Ge||Wt,n=GA(r);wr(t,r,n);const a=typeof i<"u"&&i?.en?.projectForm||{},l=typeof i<"u"&&i?.[Ge]?.projectForm||a,s=typeof i<"u"&&(i?.[Ge]?.crewRoles||i?.en?.crewRoles)||{},u=l.crewRoleLabel||a.crewRoleLabel||"Crew role",f=l.crewNameLabel||a.crewNameLabel||"Crew member name",y=l.crewPhoneLabel||a.crewPhoneLabel||"Crew member phone",R=l.crewEmailLabel||a.crewEmailLabel||"Crew member email",_=l.crewWebsiteLabel||a.crewWebsiteLabel||"Crew member website",T=Ae("selectLabel","Saved contacts"),I=Ae("avatarChange","Change photo"),m=document.createElement("input");m.type="hidden",m.className="person-avatar-data",m.value=typeof e.avatar=="string"?e.avatar:"",t.appendChild(m);const g=document.createElement("div");g.className="person-avatar";const A=document.createElement("div");A.className="person-avatar-visual",g.appendChild(A);const w=document.createElement("button");w.type="button",w.setAttribute("aria-label",I),w.removeAttribute("title"),w.removeAttribute("data-help"),w.innerHTML="",g.appendChild(w);const E=document.createElement("input");E.type="file",E.accept="image/*",E.className="visually-hidden",E.tabIndex=-1,g.appendChild(E),yw(g,J=>{Av(t,J)});const S=document.createElement("select");if(S.name="crewRole",S.className="person-role-select",wr(S,r,n),Al.forEach(J=>{const he=document.createElement("option");he.value=J,he.textContent=s[J]||J,wr(he,r,n),S.appendChild(he)}),e.role&&!Al.includes(e.role)){const J=document.createElement("option");J.value=e.role,J.textContent=s[e.role]||e.role,wr(J,r,n),S.appendChild(J)}e.role?S.value=e.role:S.options.length>0&&(S.selectedIndex=0);const C=document.createElement("input");C.type="text",C.name="crewName",C.className="person-name",C.placeholder=l.crewNamePlaceholder||a.crewNamePlaceholder||"Name",C.value=e.name||"",wr(C,r,n);const F=document.createElement("input");F.type="tel",F.name="crewPhone",F.className="person-phone",F.placeholder=l.crewPhonePlaceholder||a.crewPhonePlaceholder||"Phone",F.value=e.phone||"",wr(F,r,n);const j=document.createElement("input");j.type="email",j.name="crewEmail",j.className="person-email",j.placeholder=l.crewEmailPlaceholder||a.crewEmailPlaceholder||"Email",j.value=e.email||"",wr(j,r,n);const $=document.createElement("input");$.type="text",$.inputMode="url",$.autocomplete="url",$.name="crewWebsite",$.className="person-website",$.placeholder=l.crewWebsitePlaceholder||a.crewWebsitePlaceholder||"Website",$.value=e.website||"",wr($,r,n);const x=document.createElement("select");x.className="person-contact-select",wr(x,r,n),pp(x,e.contactId);const Q=xr(ho(S,u),u),le=xr(ho(C,f),f),K=xr(ho(F,y),y),re=xr(ho(j,R),R),Ee=xr(ho($,_),_),ae=xr(ho(x,T),T),Z=document.createElement("span");Z.className="person-linked-badge",e.userProfileLinked?(Z.textContent=Ae("linkedProfileBadge","Linked to user profile"),Z.hidden=!1):(Z.textContent=Ae("linkedBadge","Linked to contact"),Z.hidden=!0);const ce=document.createElement("button");ce.type="button",ce.className="person-save-contact",me(ce,Ae("saveContact","Save to contacts"),ICON_GLYPHS.save),ce.addEventListener("click",()=>JM(t));const Le=document.createElement("button");Le.type="button",Le.className="person-manage-contacts",me(Le,Ae("openManager","Open contacts"),ICON_GLYPHS.gears),Le.addEventListener("click",()=>Oc(pr));const Pe=document.createElement("button");Pe.type="button",Pe.className="person-remove-btn";const q=i[Ge]?.projectForm?.removeEntry||i.en?.projectForm?.removeEntry||"Remove",oe=i[Ge]?.projectForm?.crewHeading||i.en?.projectForm?.crewHeading||"Crew",ne=`${q} ${oe} `.trim();Pe.innerHTML=Qr(ICON_GLYPHS.minus,"btn-icon"),Pe.setAttribute("aria-label",ne),Pe.setAttribute("title",ne),Pe.setAttribute("data-help",ne),Pe.addEventListener("click",()=>{t.remove(),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave()});const ge=document.createElement("div");ge.className="person-actions",ge.append(ce,Le,Pe),[Q,le,K,re,Ee,ae].forEach(J=>t.appendChild(J)),t.appendChild(g),t.appendChild(x),t.appendChild(Z),t.appendChild(S),t.appendChild(C),t.appendChild(F),t.appendChild(j),t.appendChild($),t.appendChild(ge),e.contactId&&(t.dataset.contactId=e.contactId),Ls(t,m.value,{name:e.name}),yp(t),w.addEventListener("click",()=>{if(!m.value&&E&&typeof E.click=="function")try{E.click();return}catch{}nb({getAvatar:()=>m.value||"",getName:()=>C.value||"",onDelete:()=>{m.value&&(Ls(t,""),Su(t),tt(Ae("avatarCleared","Profile photo removed.")))},onChange:()=>{if(E&&typeof E.click=="function")try{E.click()}catch{}},onEditSave:J=>{J&&(Ls(t,J,{name:C.value}),t.dataset.contactId&&sl(t),Su(t),tt(Ae("avatarUpdated","Profile photo updated.")))}})}),E.addEventListener("change",()=>{const[J]=E.files||[];J&&Av(t,J),E.value=""}),S.addEventListener("change",()=>Su(t,!1)),C.addEventListener("input",()=>{pw(t)}),x.addEventListener("change",()=>{const J=x.value;if(!J){sl(t,{preserveSelect:!0}),Su(t);return}const he=rb(J);he?ab(t,he):(tt(Ae("contactMissingDetails","Saved contact not available.")),sl(t,{preserveSelect:!0}))}),yn.appendChild(t),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty()}typeof window<"u"&&(window.createCrewRow=lb,window.createPrepRow=hw,window.createShootRow=bw,window.createReturnRow=Sw);function hw(e={}){if(!dv)return;const t=document.createElement("div");t.className="period-row";const o=document.createElement("input");o.type="date",o.name="prepStart",o.className="prep-start",o.value=e.start||"",o.setAttribute("aria-labelledby","prepLabel");const r=document.createElement("span");r.textContent="to";const n=document.createElement("input");n.type="date",n.name="prepEnd",n.className="prep-end",n.value=e.end||"",n.setAttribute("aria-labelledby","prepLabel");const a=document.createElement("button");a.type="button";const l=i[Ge]?.projectForm?.removeEntry||i.en?.projectForm?.removeEntry||"Remove",s=i[Ge]?.projectForm?.prepLabel||i.en?.projectForm?.prepLabel||"Prep",u=`${l} ${s} `.trim();a.innerHTML=Qr(ICON_GLYPHS.minus,"btn-icon"),a.setAttribute("aria-label",u),a.setAttribute("title",u),a.setAttribute("data-help",u),a.addEventListener("click",()=>{t.remove(),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave()}),t.append(o,r,n,a),dv.appendChild(t),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty()}function bw(e={}){if(!fv)return;const t=document.createElement("div");t.className="period-row";const o=document.createElement("input");o.type="date",o.name="shootStart",o.className="shoot-start",o.value=e.start||"",o.setAttribute("aria-labelledby","shootLabel");const r=document.createElement("span");r.textContent="to";const n=document.createElement("input");n.type="date",n.name="shootEnd",n.className="shoot-end",n.value=e.end||"",n.setAttribute("aria-labelledby","shootLabel");const a=document.createElement("button");a.type="button";const l=i[Ge]?.projectForm?.removeEntry||i.en?.projectForm?.removeEntry||"Remove",s=i[Ge]?.projectForm?.shootLabel||i.en?.projectForm?.shootLabel||"Shoot",u=`${l} ${s} `.trim();a.innerHTML=Qr(ICON_GLYPHS.minus,"btn-icon"),a.setAttribute("aria-label",u),a.setAttribute("title",u),a.setAttribute("data-help",u),a.addEventListener("click",()=>{t.remove(),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave()}),t.append(o,r,n,a),fv.appendChild(t),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty()}function Sw(e={}){if(!pv)return;const t=document.createElement("div");t.className="period-row";const o=document.createElement("input");o.type="date",o.name="returnStart",o.className="return-start",o.value=e.start||"",o.setAttribute("aria-labelledby","returnLabel");const r=document.createElement("span");r.textContent="to";const n=document.createElement("input");n.type="date",n.name="returnEnd",n.className="return-end",n.value=e.end||"",n.setAttribute("aria-labelledby","returnLabel");const a=document.createElement("button");a.type="button";const l=i[Ge]?.projectForm?.removeEntry||i.en?.projectForm?.removeEntry||"Remove",s=i[Ge]?.projectForm?.returnLabel||i.en?.projectForm?.returnLabel||"Return Day",u=`${l} ${s} `.trim();a.innerHTML=Qr(ICON_GLYPHS.minus,"btn-icon"),a.setAttribute("aria-label",u),a.setAttribute("title",u),a.setAttribute("data-help",u),a.addEventListener("click",()=>{t.remove(),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave()}),t.append(o,r,n,a),pv.appendChild(t),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty()}function mm(e,t){const o=Number(e);return!Number.isFinite(o)||o<=0?"":`${Number.isInteger(o)?String(o):o.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:0})} ${t} `}function r_(e){const t=[];if(!e)return t;const o=We?.cameras||{},r=typeof ui?.value=="string"?ui.value:"",n=a=>{!a||!Array.isArray(a.recordingMedia)||a.recordingMedia.forEach(l=>{l&&l.type===e&&t.push(l)})};return r&&o[r]&&n(o[r]),Object.keys(o).forEach(a=>{a!==r&&n(o[a])}),t}function vw(){const e=We?.cameras||{},t=We?.gearList?.media||{},o=[],r=new Set,n=u=>{if(!u||typeof u!="string")return;const f=u.trim();if(!f)return;const y=f.toLowerCase();r.has(y)||(r.add(y),o.push(f))},a=typeof ui?.value=="string"?ui.value:"";if(a&&e[a])return(e[a].recordingMedia||[]).forEach(f=>{f&&f.type&&n(f.type)}),o;const l=u=>{u&&(u.recordingMedia||[]).forEach(f=>{f&&f.type&&n(f.type)})};Object.values(e).forEach(u=>l(u));const s=u=>{Object.values(u).forEach(f=>{if(f)if(f.brand||f.model||f.type||f.capacityGB||f.capacity){f.type&&n(f.type);const y=typeof f.interface=="string"?f.interface.trim():"";y&&n(y),Array.isArray(f.supportedMedia)&&f.supportedMedia.forEach(R=>n(R))}else typeof f=="object"&&s(f)})};return s(t),o.sort(localeSort)}function Ew(e){const t=[];if(!e)return t;const o=e.toLowerCase(),r=[],n=We?.gearList?.media||{},a=f=>{Object.entries(f).forEach(([y,R])=>{R&&(R.brand||R.model||R.type||R.capacityGB||R.capacity?r.push({id:y,...R}):typeof R=="object"&&a(R))})};a(n);const l=new Set,s=(f,y)=>{if(!f||l.has(f))return;const R=(y||f).toLowerCase();R.includes("dual slots")||R.includes("slot 1")||R==="adapter"||R.includes("via adapter")||R==="red pro"||/\d/.test(R)&&(t.push({value:f,label:y||f}),l.add(f))};r.forEach(f=>{let y=!1;if(f.type&&(y=f.type.toLowerCase()===o),y||(y=[f.id,f.model,f.interface].some(A=>typeof A=="string"&&A.toLowerCase().includes(o))),!y)return;const R=[];f.brand&&R.push(f.brand);const _=f.model||"";_&&(!f.brand||_.toLowerCase()!==f.brand.toLowerCase())&&R.push(_);const T=Number(f.capacityGB||f.capacity),I=Number(f.capacityTb);let m="";Number.isFinite(T)&&T>0?T>=1e3?m=mm(T/1e3,"TB"):m=mm(T,"GB"):Number.isFinite(I)&&I>0&&(m=mm(I,"TB")),m&&R.push(m),s(f.id,R.length?R.join(" • "):f.id)});const u=new Set;return r_(e).forEach(f=>{const y=typeof f?.notes=="string"?f.notes:"";y&&y.split(/[,;/]/).forEach(R=>{const _=R.trim();_&&u.add(_)})}),u.forEach(f=>{const y=`${e} ${f} `.trim();s(y,f)}),t.length||s(e,e),t.sort((f,y)=>localeSort(f.label,y.label))}function Cw(e,t,o){if(!e)return;const r=Ew(t),n=cn("storageVariantPlaceholder","Select brand & size"),a=o!==void 0?o:e.value;e.innerHTML="";const l=document.createElement("option");if(l.value="",l.textContent=n,e.appendChild(l),r.forEach(s=>{const u=document.createElement("option");u.value=s.value,u.textContent=s.label,e.appendChild(u)}),a){if(!(e.options&&Array.from(e.options).some(u=>u.value===a))){const u=document.createElement("option");u.value=a,u.textContent=a,u.dataset.extraOption="true",e.appendChild(u)}e.value=a}else e.value=""}function Pf(){if(!Da)return;const e=vw(),t=cn("storageTypePlaceholder","Select media type");Array.from(Da.querySelectorAll(".storage-row")).forEach(o=>{const r=o.querySelector(".storage-type"),n=o.querySelector(".storage-variant");if(!r)return;const a=r.value,l=n?n.value:"";r.innerHTML="";const s=document.createElement("option");if(s.value="",s.textContent=t,r.appendChild(s),e.forEach(u=>{const f=document.createElement("option");f.value=u,f.textContent=u,r.appendChild(f)}),a){if(!e.includes(a)){const f=document.createElement("option");f.value=a,f.textContent=a,f.dataset.extraOption="true",r.appendChild(f)}r.value=a}else r.value="";Cw(n,r.value,l)})}typeof window<"u"&&(window.getAvailableStorageMediaTypes=vw,window.getStorageVariantOptions=Ew,window.updateStorageRequirementTypeOptions=Pf,window.createStorageRequirementRow=_g);function _g(e={}){if(!Da)return null;const t=document.createElement("div");t.className="storage-row form-row";const o=document.createElement("input");o.type="number",o.min="1",o.step="1",o.name="storageQuantity",o.className="storage-quantity";const r=Number(e.quantity);Number.isFinite(r)&&r>0&&(o.value=r);const n=cn("storageQuantityLabel","Quantity"),a=ho(o,n),l=document.createElement("label");l.className="form-row-label storage-quantity-label",l.setAttribute("for",a),l.textContent=n,l.dataset.storageLabelKey="storageQuantityLabel";const s=document.createElement("select");s.name="storageMediaType",s.className="storage-type",s.value=typeof e.type=="string"?e.type:"";const u=cn("storageTypeLabel","Media type"),f=xr(ho(s,u),u);f.dataset.storageLabelKey="storageTypeLabel";const y=document.createElement("select");y.name="storageMediaVariant",y.className="storage-variant",y.value=typeof e.variant=="string"?e.variant:"";const R=cn("storageVariantLabel","Brand & capacity"),_=xr(ho(y,R),R);_.dataset.storageLabelKey="storageVariantLabel";const T=document.createElement("input");T.type="text",T.name="storageMediaNotes",T.className="storage-notes",T.value=typeof e.notes=="string"?e.notes:"",T.placeholder=cn("storageNotesPlaceholder","");const I=cn("storageNotesLabel","Notes"),m=xr(ho(T,I),I);m.dataset.storageLabelKey="storageNotesLabel",s.addEventListener("change",()=>{Cw(y,s.value),scheduleProjectAutoSave()});const g=document.createElement("button");g.type="button";const A=cn("removeEntry","Remove"),w=cn("storageNeedsLabel","Recording media needs"),E=`${A} ${w} `.trim();g.innerHTML=Qr(ICON_GLYPHS.minus,"btn-icon"),g.setAttribute("aria-label",E),g.setAttribute("title",E),g.setAttribute("data-help",E),g.dataset.storageActionKey="storageRemoveEntry",g.addEventListener("click",()=>{t.remove(),Da.querySelector(".storage-row")?Pf():_g(),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),scheduleProjectAutoSave()});const S=document.createElement("button");S.type="button",S.className="storage-duplicate-btn",S.innerHTML=Qr(ICON_GLYPHS.add,"btn-icon"),S.dataset.storageActionKey="storageDuplicateEntry";const C=cn("storageDuplicateEntry","Duplicate media row");S.setAttribute("aria-label",C),S.setAttribute("title",C),S.setAttribute("data-help",C),S.addEventListener("click",()=>{const j={quantity:o?o.value:"",type:s?s.value:"",variant:y?y.value:"",notes:T?T.value:""},$=_g(j);if($&&typeof Da?.insertBefore=="function"){Da.insertBefore($,t.nextSibling);const x=$.querySelector(".storage-quantity");x&&(x.focus(),typeof x.select=="function"&&x.select())}scheduleProjectAutoSave()});const F=document.createElement("div");return F.className="storage-row-actions",F.append(S,g),t.append(l,o,f,s,_,y,m,T,F),Da.appendChild(t),Pf(),typeof markProjectFormDataDirty=="function"&&markProjectFormDataDirty(),t}function n_(e){const t=document.getElementById("requiredScenarios");if(!t)return;const r=(i[e]||{}).scenarios||{},n=i.en&&i.en.scenarios?i.en.scenarios:{};t.options&&Array.from(t.options).forEach(a=>{const l=a.value,s=r[l]||n[l]||a.value;a.textContent=s})}function a_(e,t){const o=e.storageHeading||t.storageHeading||"Storage & Media";Og&&(Og.textContent=o);const r=e.storageNeedsLabel||t.storageNeedsLabel||"Recording media needs:";kg&&(kg.textContent=r);const n=R=>{const _=e[R]||t[R];_&&document.querySelectorAll(`#storageNeedsContainer [data-storage-label-key="${R}"]`).forEach(T=>{T.textContent=_})};["storageQuantityLabel","storageTypeLabel","storageVariantLabel","storageNotesLabel"].forEach(n);const a=e.storageTypePlaceholder||t.storageTypePlaceholder||"Select media type",l=e.storageVariantPlaceholder||t.storageVariantPlaceholder||"Select brand & size",s=e.storageNotesPlaceholder||t.storageNotesPlaceholder||"",u=e.storageDuplicateEntry||t.storageDuplicateEntry||"Duplicate media row",f=e.removeEntry||t.removeEntry||"Remove";document.querySelectorAll("#storageNeedsContainer .storage-type").forEach(R=>{if(!R.options)return;const _=R.options[0];_&&(_.textContent=a)}),document.querySelectorAll("#storageNeedsContainer .storage-variant").forEach(R=>{if(!R.options)return;const _=R.options[0];_&&(_.textContent=l)}),document.querySelectorAll("#storageNeedsContainer .storage-notes").forEach(R=>{R.placeholder=s}),document.querySelectorAll('#storageNeedsContainer [data-storage-action-key="storageDuplicateEntry"]').forEach(R=>{R.setAttribute("aria-label",u),R.setAttribute("title",u),R.setAttribute("data-help",u)});const y=`${f} ${r} `.trim();document.querySelectorAll('#storageNeedsContainer [data-storage-action-key="storageRemoveEntry"]').forEach(R=>{R.setAttribute("aria-label",y),R.setAttribute("title",y),R.setAttribute("data-help",y)})}qi&&qi.addEventListener("click",()=>{lb()});Wi&&Wi.addEventListener("click",()=>hw());Ki&&Ki.addEventListener("click",()=>bw());$i&&$i.addEventListener("click",()=>Sw());function Aw(){const e=ln?ln.value:"",t=sn?sn.value:"",o=ln&&ln.options?Array.from(ln.options):[],r=sn&&sn.options?Array.from(sn.options):[];if(o.forEach(n=>{n.hidden=!1}),r.forEach(n=>{n.hidden=!1}),e==="OConnor"){const n=r.find(a=>a.value==="75mm bowl");n&&(n.hidden=!0),sn.value==="75mm bowl"&&(sn.value="")}if(e==="Sachtler"){const n=r.find(a=>a.value==="Mitchell Mount");n&&(n.hidden=!0),sn.value==="Mitchell Mount"&&(sn.value="")}if(t==="75mm bowl"){const n=o.find(a=>a.value==="OConnor");n&&(n.hidden=!0),ln.value==="OConnor"&&(ln.value="")}if(t==="Mitchell Mount"){const n=o.find(a=>a.value==="Sachtler");n&&(n.hidden=!0),ln.value==="Sachtler"&&(ln.value="")}}typeof window<"u"&&(window.updateTripodOptions=Aw);document.getElementById("totalPower")||document.getElementById("heroTotalDraw");document.getElementById("totalCurrent144")||document.getElementById("heroCurrent144");document.getElementById("totalCurrent12")||document.getElementById("heroCurrent12");document.getElementById("batteryLife")||document.getElementById("heroRuntime");var _l=document.getElementById("batteryLifeLabel"),vu=document.getElementById("runtimeAverageNote");document.getElementById("batteryCount")||document.getElementById("heroBatteryCount");var Eu=document.getElementById("pinWarning"),Cu=document.getElementById("dtapWarning"),Au=document.getElementById("hotswapWarning"),la=document.getElementById("powerWarningDialog"),wu=document.getElementById("powerWarningTitle");document.getElementById("powerWarningMessage");var Ru=document.getElementById("powerWarningLimitsHeading");document.getElementById("powerWarningPinsDetail");document.getElementById("powerWarningDtapDetail");var Lu=document.getElementById("powerWarningAdvice"),Qi=document.getElementById("powerWarningCloseBtn"),ym=document.getElementById("heroCard"),La=document.getElementById("heroTotalDraw"),wv=document.getElementById("heroAvailablePower"),Rv=document.getElementById("heroBatteryLabel");document.getElementById("heroRuntime");document.getElementById("heroCurrent144");document.getElementById("heroCurrent12");document.getElementById("heroBatteryCount");var Ci=document.getElementById("powerDiagram"),Ga=document.getElementById("powerDiagramBar"),Dl=document.getElementById("maxPowerText"),Ai=document.getElementById("powerDiagramLegend");function i_(){}function l_(e={}){la&&(mi(la)?xn(la):la.removeAttribute&&la.removeAttribute("open"),e.keepDismissed)}function ww(){la&&l_({keepDismissed:!0})}Qi&&Qi.addEventListener("click",ww);la&&la.addEventListener("cancel",e=>{e.preventDefault(),ww()});function s_(e,t,o){const r=(t||[]).reduce((a,l)=>a+l.power,0);if(La&&(La.textContent=`${r.toFixed(0)} W`),!ym)return;if(!e||e<=0){ym.classList.add("hidden"),Ci&&Ci.classList.add("hidden"),Ga&&(Ga.innerHTML=""),Ai&&(Ai.innerHTML=""),Dl&&(Dl.textContent="",$P(Dl));return}ym.classList.remove("hidden"),Ci&&Ci.classList.remove("hidden"),Ga&&(Ga.innerHTML=""),Ai&&(Ai.innerHTML="");const n=r/e;if(La&&(La.classList.remove("glow-safe","glow-warning","glow-danger"),n>1?La.classList.add("glow-danger"):n>=.8?La.classList.add("glow-warning"):La.classList.add("glow-safe")),wv&&(wv.textContent=`${e.toFixed(0)} W`),Rv&&ps&&ps.options){const a=ps.options[ps.selectedIndex],l=a?a.text:"";Rv.textContent=`Camera Setup draws ${r.toFixed(0)}W from the ${e.toFixed(0)}W available on the ${l} `}if(Ga&&Ai){const a=100/Math.max(e,r),l=e*a,s=document.createElement("div");if(s.className="power-bar-inner",Ga.appendChild(s),t.forEach(f=>{const y=f.power*a;if(y<=0)return;const R=document.createElement("div");R.className=`segment ${f.className} `,R.style.width=`${y}% `,R.setAttribute("title",`${f.label} ${f.power.toFixed(1)} W`),s.appendChild(R);const _=document.createElement("span"),T=document.createElement("span");T.className=`swatch ${f.className} `,_.appendChild(T),_.appendChild(document.createTextNode(f.label.replace(/:$/,""))),Ai.appendChild(_)}),r>e){const f=document.createElement("div");f.className="over-usage",f.style.left=`${l}% `,f.style.right="0",s.appendChild(f)}const u=document.createElement("div");if(u.className="limit-line",u.style.left=`${l}% `,typeof o=="number"&&o>0){const f=document.createElement("span");f.className="limit-label",f.textContent=`${i[Ge].pinLabel} ${o} A`,u.appendChild(f)}Ga.appendChild(u),Ci&&Ci.classList.toggle("over",r>e)}Dl&&(Dl.textContent="")}var dn=document.getElementById("setupSelect"),sa=document.getElementById("setupName"),c_=document.getElementById("saveSetupBtn"),Gu=document.getElementById("deleteSetupBtn"),gm=document.getElementById("shareSetupBtn");document.getElementById("sharedLinkRow");var Tu=document.getElementById("sharedLinkInput");document.getElementById("shareLinkMessage");document.getElementById("shareDialog");document.getElementById("shareForm");const hm=document.getElementById("shareDialogHeading");var Lv=document.getElementById("shareFilename");const bm=document.getElementById("shareFilenameLabel");var u_=document.getElementById("shareFilenameMessage"),Fl=document.getElementById("shareCancelBtn");const wi=document.getElementById("shareConfirmBtn"),Sm=document.getElementById("shareIncludeAutoGearText");var vm=document.getElementById("shareIncludeAutoGearLabel");const Em=document.getElementById("shareIncludeOwnedGearText");var Cm=document.getElementById("shareIncludeOwnedGearLabel"),Gv=document.getElementById("shareIncludeAutoGear"),Tv=document.getElementById("shareIncludeOwnedGear");Lv&&u_&&Lv.setAttribute("aria-describedby","shareFilenameMessage");var Ov=document.getElementById("sharedImportDialog");document.getElementById("sharedImportForm");const Am=document.getElementById("sharedImportDialogHeading"),Ou=document.getElementById("sharedImportDialogMessage"),xl=document.getElementById("sharedImportMetadata"),kv=document.getElementById("sharedImportOptions"),Nl=document.getElementById("sharedImportLegend");var oi=document.getElementById("sharedImportModeSelect");const Ri=document.getElementById("sharedImportModeNoneOption"),Li=document.getElementById("sharedImportModeProjectOption"),Gi=document.getElementById("sharedImportModeGlobalOption"),ku=document.getElementById("sharedImportConfirmBtn");var Iu=document.getElementById("sharedImportCancelBtn");oi&&Array.from(oi.options||[]).forEach(e=>{e.value!=="none"&&(e.disabled=!0)});var wm=null;dn&&dn.value;var Ti=document.getElementById("applySharedLinkBtn");const Gs={setupName:"s",camera:"c",monitor:"m",video:"v",cage:"g",motors:"o",controllers:"r",distance:"d",batteryPlate:"p",battery:"b",batteryHotswap:"h",powerSelection:"w",projectInfo:"i",projectHtml:"q",gearSelectors:"e",gearList:"l",ownedGearMarkers:"u",changedDevices:"x",feedback:"f",autoGearRules:"a",autoGearCoverage:"z",diagramPositions:"y",metadata:"t",contacts:"n"},Xi=Object.keys(Gs),Rm=Object.prototype.hasOwnProperty;function d_(e){return""}function f_(e){if(!xl)return;const t=d_();t?(xl.textContent=t,xl.classList.remove("hidden")):(xl.textContent="",xl.classList.add("hidden"))}function p_(){f_()}function m_(){p_(),Ov&&xn(Ov),typeof Iv=="function"&&Iv([]),Tu&&(wm&&typeof Tu.removeEventListener=="function"&&Tu.removeEventListener("change",wm),Tu.value=""),wm=null}function Iv(e){if(!oi)return Array.isArray(e)&&e.length>0;const t=Array.isArray(e)&&e.length>0;return Array.from(oi.options||[]).forEach(r=>{r.value==="none"?(r.disabled=!1,r.selected=!t):(r.disabled=!t,r.selected=t&&r.value==="project")}),t}function Rw(e){if(!e||typeof e!="object")return{};const t={};for(let o=0;o<Xi.length;o+=1){const r=Xi[o];if(r==="gearList"||r==="projectHtml")continue;const n=e[r];n!=null&&(t[Gs[r]]=n)}return t}function Lw(e){if(!e||typeof e!="object")return{};let t=!1,o=!1;const r=[];for(let a=0;a<Xi.length;a+=1){const l=Xi[a],s=Gs[l],u=Rm.call(e,l),f=Rm.call(e,s);u&&(t=!0),f&&(o=!0,!u&&e[s]!=null&&r.push(l))}if(!t&&!o)return{};if(!t){const a={};for(let l=0;l<Xi.length;l+=1){const s=Xi[l],u=Gs[s],f=e[u];f!=null&&(a[s]=f)}return a}if(!r.length)return e;const n={...e};for(let a=0;a<r.length;a+=1){const l=r[a];if(!Rm.call(n,l)){const s=Gs[l],u=e[s];u!=null&&(n[l]=u)}}return n}var Lm=typeof Lm<"u"&&Lm?Lm:typeof document<"u"&&typeof document.getElementById=="function"?document.getElementById("device-manager"):null,Gm=typeof Gm<"u"&&Gm?Gm:typeof document<"u"&&typeof document.getElementById=="function"?document.getElementById("toggleDeviceManager"):null,Pv=null;function Gw(){const e=document.getElementById("deviceListContainer");return e?(Pv=e,e):Pv}const Lr=(()=>{const e=typeof be<"u"&&be?be:typeof globalThis<"u"&&globalThis?globalThis:typeof window<"u"&&window?window:typeof self<"u"&&self?self:typeof global<"u"&&global?global:null;if(e&&e.deviceManagerLists&&e.deviceManagerLists instanceof Map)return e.deviceManagerLists;const t=new Map;if(e&&typeof e=="object")try{e.deviceManagerLists=t}catch{e.deviceManagerLists=t}return t})();var ri=typeof be<"u"&&be?be:typeof globalThis<"u"&&globalThis?globalThis:typeof window<"u"&&window?window:typeof self<"u"&&self?self:typeof global<"u"&&global?global:null;function y_(e,t){if(!e||typeof e!="object")return;const o=(t||"").toLowerCase();Array.from(e.options||[]).forEach(r=>{if(!r||typeof r!="object")return;const n=r.value==="None"||o===""||(r.textContent||"").toLowerCase().includes(o);r.hidden=!n,r.disabled=!n})}function Tw(e,t){if(!e||typeof e!="object")return;const o=(t||"").toLowerCase();Array.from(e.querySelectorAll?e.querySelectorAll("li"):[]).forEach(r=>{if(!r||typeof r!="object")return;const n=r.querySelector?r.querySelector(".device-summary span"):null,a=n&&typeof n.textContent=="string"?n.textContent.toLowerCase():"";r.style.display=o===""||a.includes(o)?"":"none"})}function Ow(e,t){if(!e||typeof e!="object"||typeof e.insertAdjacentElement!="function")return;const o=typeof i=="object"&&i||typeof window<"u"&&typeof window.texts=="object"&&window.texts||null,r=o&&o[Ge]&&o[Ge].clearFilter||"Clear filter",n=document.createElement("button");n.type="button",n.className="clear-input-btn",n.innerHTML=Qr(ICON_GLYPHS.circleX,"clear-icon"),n.setAttribute("aria-label",r),n.title=r,n.hidden=!0,n.addEventListener("click",()=>{e.value="",typeof t=="function"&&t(),typeof e.focus=="function"&&e.focus()}),e.insertAdjacentElement("afterend",n);const a=()=>{n.hidden=!e.value};e.addEventListener("input",a),a()}function g_(e,t){if(!e||typeof e!="object")return;const o=typeof t=="function"?t:()=>{};e.addEventListener("input",o),e.addEventListener("keydown",r=>{r&&r.key==="Escape"&&(e.value="",o())}),Ow(e,o)}function kw(){const e=ri&&typeof ri=="object"?ri:{},t=(o,r)=>{if(typeof e[o]!="function")try{e[o]=r}catch{try{Object.defineProperty(e,o,{configurable:!0,writable:!0,value:r})}catch{}}};return t("filterSelect",y_),t("filterDeviceList",Tw),t("bindFilterInput",g_),t("addInputClearButton",Ow),e}kw();function h_(){const e=kw(),t=typeof e.filterDeviceList=="function"?e.filterDeviceList:Tw;Lr instanceof Map&&Lr.forEach(o=>{if(!o||typeof o!="object")return;const{list:r,filterInput:n}=o;if(!r||typeof r!="object")return;const a=n&&typeof n.value=="string"?n.value:"";try{t(r,a)}catch(l){console.warn("Failed to apply device manager filters",l)}})}const b_=Object.freeze(["cameras","viewfinders","monitors","video","wirelessReceivers","directorMonitors","iosVideo","lenses","fiz.motors","fiz.controllers","fiz.handUnits","fiz.distance","batteries","batteryHotswaps","accessories.batteries","accessories.powerPlates","accessories.cables","accessories.cages","accessories.cameraSupport","accessories.cameraStabiliser","accessories.chargers","accessories.videoAssist","accessories.media","accessories.cardReaders","accessories.filters","accessories.matteboxes","accessories.rigging","accessories.grip","accessories.sliders","accessories.tripodHeads","accessories.tripods","accessories.carts"]);function S_(){const e=ri,t=e&&Array.isArray(e.deviceManagerPreferredOrder)?e.deviceManagerPreferredOrder:null;return t&&t.every(o=>typeof o=="string"&&o)?t:b_}function v_(e){return!e||e==="accessories"||e==="fiz"||e==="filterOptions"?null:e.startsWith("accessories.cables.")?"accessories.cables":e==="videoAssist"&&We?.accessories?.videoAssist?"accessories.videoAssist":e==="media"&&We?.accessories?.media?"accessories.media":e==="cardReaders"&&We?.accessories?.cardReaders?"accessories.cardReaders":e}function Ts(e,t=Ge){if(!e)return"";const o=typeof categoryNames=="object"&&categoryNames&&categoryNames[t]||{};if(o[e])return o[e];const r=typeof categoryNames=="object"&&categoryNames&&categoryNames.en||{};return r[e]?r[e]:e==="batteries"||e==="accessories.batteries"?t==="en"?"Battery":t==="de"?"Akku":"Battery":e.split(".").map(a=>pI(a)).join(" ")}function Iw(){const e=new Set,t=s=>{const u=v_(s);u&&e.add(u)},o=(s,u=[])=>{if(!(u.length>20)&&!(!s||typeof s!="object")){if(Array.isArray(s.attributes)){const f=u.length,y=u[0];(f===1||f>1&&(y==="accessories"||y==="fiz"))&&t(u.join("."))}Object.entries(s).forEach(([f,y])=>{f!=="attributes"&&y&&typeof y=="object"&&o(y,u.concat(f))})}};Nt&&o(Nt,[]),(s=>{!s||typeof s!="object"||Array.isArray(s)||Object.entries(s).forEach(([u,f])=>{u==="accessories"?f&&typeof f=="object"&&Object.entries(f).forEach(([y,R])=>{R&&typeof R=="object"&&!Array.isArray(R)&&t(`accessories.${y} `)}):u==="fiz"?f&&typeof f=="object"&&Object.entries(f).forEach(([y,R])=>{R&&typeof R=="object"&&!Array.isArray(R)&&t(`fiz.${y} `)}):f&&typeof f=="object"&&!Array.isArray(f)&&t(u)})})(We);const n=Array.from(e),a=S_(),l=new Map(a.map((s,u)=>[s,u]));return n.sort((s,u)=>{const f=l.has(s)?l.get(s):a.length,y=l.has(u)?l.get(u):a.length;return f!==y?f-y:s.localeCompare(u)}),n}function E_(e){const t=Gw();if(!t||Lr.has(e))return Lr.get(e)||null;const o=document.createElement("div");o.className="device-category";const r=e.replace(/[^a-z0-9]+/gi,"_"),n=document.createElement("h4");n.id=`category_${r} `,n.dataset.categoryKey=e,o.appendChild(n);const a=document.createElement("input");a.type="search",a.className="list-filter",a.id=`${r} ListFilter`,a.dataset.categoryKey=e;const l=xr(ho(a,`${r} -list - filter`),`Filter ${e} `);o.appendChild(l),o.appendChild(a);const s=document.createElement("ul");s.className="device-ul";const u=r==="cameras"?"cameraList":`${r} List`;s.id=u,r==="cameras"&&s.setAttribute("data-current-id","camerasList"),o.appendChild(s),t.appendChild(o);const f=()=>typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:null,y=()=>{const _=f(),T=_&&_.bindFilterInput,I=_&&_.filterDeviceList;return typeof T!="function"||typeof I!="function"?!1:(T(a,()=>I(s,a.value)),!0)};y()||na(()=>{y()});const R={section:o,heading:n,filterInput:a,filterLabel:l,list:s,sanitizedId:r};return Lr.set(e,R),R}function Pw(e=Ge){if(!Lr.size)return;const t=i[e]&&i[e].placeholder_filter||"Filter {item}...",o=i[e]&&i[e].clearFilter||"Clear filter",r=document.getElementById("deviceLibrarySearch"),n=document.getElementById("deviceLibrarySearchLabel"),a=i[e]&&i[e].deviceLibrarySearchHelp||"Filter all categories and press Enter to jump to the best match.",l=i[e]&&i[e].deviceLibrarySearchPlaceholder||"Search all device categories…",s=i[e]&&i[e].deviceLibrarySearchLabel||"Search entire library";n&&(n.textContent=s),r&&(r.placeholder=l,r.setAttribute("aria-label",l),r.setAttribute("data-help",a),r.setAttribute("autocomplete","off"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false")),Lr.forEach((f,y)=>{const R=Ts(y,e);if(f.heading&&(f.heading.textContent=R),f.filterInput){const _=t.replace("{item}",R.toLowerCase());if(f.filterInput.placeholder=_,f.filterInput.setAttribute("aria-label",_),f.filterInput.setAttribute("autocomplete","off"),f.filterInput.setAttribute("autocorrect","off"),f.filterInput.setAttribute("autocapitalize","off"),f.filterInput.setAttribute("spellcheck","false"),f.filterInput.setAttribute("inputmode","search"),f.filterLabel){const I=_.replace(/\s*(?:\.{3}|\u2026)$/,"");f.filterLabel.textContent=I}const T=f.filterInput.nextElementSibling;T&&T.classList.contains("clear-input-btn")&&(T.setAttribute("aria-label",o),T.title=o)}});const u=ri&&typeof ri.updateDeviceLibrarySearchLocalization=="function"?ri.updateDeviceLibrarySearchLocalization:null;u&&u()}function C_(){const e=Gw();if(!e)return;const t=Iw(),o=new Set(t),r=Array.from(Lr.keys());t.forEach(n=>{Lr.has(n)||E_(n)}),r.forEach(n=>{if(!o.has(n)){const a=Lr.get(n);a&&a.section&&a.section.parentNode&&a.section.parentNode.removeChild(a.section),Lr.delete(n)}}),t.forEach(n=>{const a=Lr.get(n);a&&a.section&&e.appendChild(a.section)}),Pw(Ge)}je("syncDeviceManagerCategories",C_);function A_(){const e=(sa&&typeof sa.value=="string"?sa.value.trim():"")||"";return e||dn&&dn.value||""}je("getCurrentProjectName",A_);var Cr=document.getElementById("newCategory");document.getElementById("newSubcategory");document.getElementById("subcategoryField");var Tm=document.getElementById("newName"),Om=document.getElementById("newWatt"),Bv=document.getElementById("wattField");document.getElementById("dynamicFields");document.getElementById("cameraFields");document.getElementById("cameraWatt");var km=document.getElementById("cameraVoltage");document.getElementById("cameraPortType");document.getElementById("monitorFields");document.getElementById("monitorScreenSize");document.getElementById("monitorBrightness");document.getElementById("monitorWatt");var Im=document.getElementById("monitorVoltage");document.getElementById("monitorPortType");document.getElementById("monitorVideoInputsContainer");document.getElementById("lensFields");document.getElementById("lensMountOptionsContainer");function Bw(){if(!Cr&&typeof document<"u"&&(Cr=document.getElementById("newCategory")),!Cr)return;Cr.options?Cr.options.length=0:Cr.innerHTML="";const e=t=>{const o=document.createElement("option");o.value=t,o.textContent=Ts(t,Ge),Cr.appendChild(o)};if(Nt){const t=new Set;if(Nt.accessories)for(const[r,n]of Object.entries(Nt.accessories))r==="cables"?t.add("accessories.cables"):n&&n.attributes&&t.add(`accessories.${r}`);for(const[r,n]of Object.entries(Nt))r==="accessories"||r==="fiz"||n&&n.attributes&&t.add(r);const o=Array.from(t).sort((r,n)=>{const a=Ts(r,Ge),l=Ts(n,Ge);return a.localeCompare(l,Ge)});for(const r of o)e(r);if(Nt.fiz)for(const[r,n]of Object.entries(Nt.fiz))n&&n.attributes&&e(`fiz.${r}`);if(Cr&&typeof Cr.dispatchEvent=="function")try{Cr.dispatchEvent(new Event("change",{bubbles:!0}))}catch(r){console.warn("Failed to dispatch change event in populateCategoryOptions",r)}}if(typeof We=="object"){const t=new Set(Cr.options?Array.from(Cr.options).map(r=>r.value):[]),o=r=>{t.has(r)||(e(r),t.add(r))};for(const[r,n]of Object.entries(We))if(r==="accessories")for(const a of Object.keys(n||{}))o(`accessories.${a}`);else if(r==="fiz")for(const a of Object.keys(n||{}))o(`fiz.${a}`);else n&&typeof n=="object"&&!Array.isArray(n)&&o(r)}}Bw();function Mw(e,t,{create:o=!1}={}){if(!e)return null;if(e==="accessories.cables"){if(!t)return null;if(!We.accessories){if(!o)return null;We.accessories={}}if(!We.accessories.cables){if(!o)return null;We.accessories.cables={}}if(!We.accessories.cables[t]){if(!o)return null;We.accessories.cables[t]={}}return We.accessories.cables[t]}if(e.includes(".")){const[r,n]=e.split("."),a=n&&n.trim();if(!We[r]){if(!o)return null;We[r]={}}if(!We[r][a]){if(!o)return null;We[r][a]={}}return We[r][a]}if(!We[e]){if(!o)return null;We[e]={}}return We[e]}function w_(e,t,o,r,n,a){if(!e||!o||!(e!==r)&&!(e==="accessories.cables"&&t!==n)&&!(o!==a))return;const f=Mw(e,e==="accessories.cables"?t:null,{create:!1});if(!(!f||!Object.prototype.hasOwnProperty.call(f,o))&&(delete f[o],e==="accessories.cables"&&t&&We.accessories?.cables)){const y=We.accessories.cables[t];(!y||typeof y!="object")&&(We.accessories.cables[t]={})}}document.getElementById("monitorVideoOutputsContainer");je("getCategoryContainer",Mw);je("removeOriginalDeviceEntry",w_);document.getElementById("monitorWirelessTx");var Oi=document.getElementById("monitorLatency");document.getElementById("monitorAudioOutput");document.getElementById("viewfinderFields");document.getElementById("viewfinderScreenSize");document.getElementById("viewfinderBrightness");document.getElementById("viewfinderWatt");document.getElementById("viewfinderVoltage");document.getElementById("viewfinderPortType");document.getElementById("viewfinderVideoInputsContainer");document.getElementById("viewfinderVideoOutputsContainer");document.getElementById("viewfinderWirelessTx");var ki=document.getElementById("viewfinderLatency");document.getElementById("videoFields");document.getElementById("videoPowerInputsContainer");document.getElementById("videoVideoInputsContainer");document.getElementById("videoVideoOutputsContainer");document.getElementById("videoFrequency");document.getElementById("videoLatency");function R_(){return{min:typeof FEEDBACK_TEMPERATURE_MIN_VALUE=="number"?FEEDBACK_TEMPERATURE_MIN_VALUE:typeof FEEDBACK_TEMPERATURE_MIN=="number"?FEEDBACK_TEMPERATURE_MIN:-20,max:typeof FEEDBACK_TEMPERATURE_MAX_VALUE=="number"?FEEDBACK_TEMPERATURE_MAX_VALUE:typeof FEEDBACK_TEMPERATURE_MAX_LIMIT=="number"?FEEDBACK_TEMPERATURE_MAX_LIMIT:50}}function _w(e){if(!e)return;const{min:t,max:o}=R_(),r=o-t+2,n=e.getAttribute("data-temp-min"),a=e.getAttribute("data-temp-max");if(e.options.length===r&&n===String(t)&&a===String(o))return;const l=e.value;e.innerHTML="";const s=document.createElement("option");s.value="",s.textContent="",e.appendChild(s);for(let u=t;u<=o;u+=1){const f=document.createElement("option");f.value=String(u),f.textContent=String(u),e.appendChild(f)}e.setAttribute("data-temp-min",String(t)),e.setAttribute("data-temp-max",String(o)),l&&Array.from(e.options).find(f=>f.value===l)&&(e.value=l)}function ms(e=Ge,t){const o=T_(e,typeof t>"u"?yi():t),r=document.getElementById("fbTemperatureLabelText");r&&(r.textContent=`${o}:`),document.querySelectorAll('a.help-link[href="#fbTemperature"]').forEach(a=>{a&&(a.textContent=o)})}function kd(e=Ge,t){const o=document.getElementById("fbTemperature");if(!o)return;_w(o);const r=typeof e=="string"?e:Ge,n=typeof t>"u"?yi():t,a=sb(r,n);Array.from(o.options).forEach(l=>{if(!l)return;if(l.value===""){l.textContent="";return}const s=Number(l.value);if(!Number.isFinite(s)){l.textContent=l.value;return}const u=typeof Mv=="function"?Mv(s,{unit:n,lang:r,includeSign:!1}):"";l.textContent=u||`${s} ${a}`.trim()})}typeof window<"u"&&(window.ensureFeedbackTemperatureOptions=_w,window.refreshFeedbackTemperatureLabel=ms,window.updateFeedbackTemperatureOptions=kd);function Rl(e){if(typeof e=="string"){const t=e.trim().toLowerCase();if(t===Xt.fahrenheit)return Xt.fahrenheit;if(t===Xt.celsius)return Xt.celsius}return e===Xt.fahrenheit?Xt.fahrenheit:Xt.celsius}function yi(){const e=[];typeof temperatureUnit<"u"&&e.push(temperatureUnit),typeof be<"u"&&be&&typeof be=="object"&&e.push(be.temperatureUnit),typeof globalThis<"u"&&globalThis&&typeof globalThis=="object"&&e.push(globalThis.temperatureUnit),typeof window<"u"&&window&&typeof window=="object"&&e.push(window.temperatureUnit),typeof self<"u"&&self&&typeof self=="object"&&e.push(self.temperatureUnit),typeof global<"u"&&global&&typeof global=="object"&&e.push(global.temperatureUnit);for(let t=0;t<e.length;t+=1){const o=e[t];if(typeof o=="string"&&o)return o}return Xt.celsius}function L_(e,t){const o=Number(e);return Number.isFinite(o)?Rl(typeof t>"u"?yi():t)===Xt.fahrenheit?o*9/5+32:o:Number.NaN}function sb(e=Ge,t){const o=Rl(typeof t>"u"?yi():t),r=getLanguageTexts(e),n=getLanguageTexts("en"),a=o===Xt.fahrenheit?"temperatureUnitSymbolFahrenheit":"temperatureUnitSymbolCelsius";return r[a]||n[a]||(o===Xt.fahrenheit?"°F":"°C")}function G_(e=Ge,t){const o=Rl(typeof t>"u"?yi():t),r=getLanguageTexts(e),n=getLanguageTexts("en"),a=o===Xt.fahrenheit?"temperatureUnitFahrenheit":"temperatureUnitCelsius";return r[a]||n[a]||(o===Xt.fahrenheit?"Fahrenheit (°F)":"Celsius (°C)")}function T_(e=Ge,t){const o=getLanguageTexts(e),r=getLanguageTexts("en"),n=o.temperatureLabel||r.temperatureLabel||"Temperature",a=sb(e,typeof t>"u"?yi():t);return`${n} (${a})`}function Mv(e,t={}){const{unit:o,lang:r=Ge,includeSign:n=!0}=t||{},a=Rl(typeof o>"u"?yi():o);let l=L_(e,a);if(!Number.isFinite(l))return"";const s=getLanguageTexts(r),u=getLanguageTexts("en"),f=a===Xt.fahrenheit?s.temperatureFormatterFahrenheit||u.temperatureFormatterFahrenheit:s.temperatureFormatterCelsius||u.temperatureFormatterCelsius;if(typeof f=="function")return f(l,{includeSign:n});const y=Math.round(l*10)/10,R=n&&y>0?`+ ${y} `:String(y),_=sb(r,a);return`${R} ${_} `.trim()}(function(){const t=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||{},o=typeof document<"u"&&!!document&&typeof document.createElement=="function",r=(q,oe)=>{if(typeof t[q]=="function")return t[q];const ne=typeof oe=="function"?oe():oe;if(typeof ne=="function")try{t[q]=ne}catch{}return ne},n=(q,oe)=>{if(Array.isArray(t[q]))return t[q];const ne=Array.isArray(oe)?oe.slice():[];try{t[q]=ne}catch{t[q]=ne}return t[q]},a=["3G-SDI","6G-SDI","12G-SDI","Mini BNC","HDMI","Mini HDMI","Micro HDMI"],l=["Electronic Viewfinder","Optical Viewfinder","LCD Monitor","OLED Viewfinder"],s=["BNC","Mini BNC","HDMI","Mini HDMI","Micro HDMI"],u=typeof localeSort=="function"?localeSort:(q,oe)=>String(q||"").localeCompare(String(oe||""),void 0,{sensitivity:"base"}),f=()=>typeof We<"u"&&We&&typeof We=="object"?We:{},y=(q,oe)=>{const ne=new Set((q||[]).filter(Boolean));try{oe(ne)}catch{}return Array.from(ne).filter(Boolean).sort(u)},R=()=>{const q=y(l,oe=>{const ne=f();Object.values(ne.cameras||{}).forEach(ge=>{if(!ge)return;(Array.isArray(ge.viewfinder)?ge.viewfinder:[]).forEach(he=>{const ke=typeof he?.type=="string"?he.type.trim():"";ke&&oe.add(ke)})})});return n("viewfinderTypeOptions",q),q},_=()=>{const q=y(s,oe=>{const ne=f();Object.values(ne.cameras||{}).forEach(ge=>{if(!ge)return;(Array.isArray(ge.viewfinder)?ge.viewfinder:[]).forEach(he=>{const ke=typeof he?.connector=="string"?he.connector.trim():"";ke&&oe.add(ke)})})});return n("viewfinderConnectorOptions",q),q},T=()=>y(a,oe=>{const ne=f(),ge=J=>{Array.isArray(J)&&J.forEach(he=>{if(typeof he=="string"){const pt=he.trim();pt&&oe.add(pt);return}const ke=typeof he?.type=="string"?he.type.trim():"";ke&&oe.add(ke);const nt=typeof he?.portType=="string"?he.portType.trim():"";nt&&oe.add(nt)})};Object.values(ne.cameras||{}).forEach(J=>{J&&(ge(J.videoInputs),ge(J.videoOutputs))}),Object.values(ne.monitors||{}).forEach(J=>{J&&(ge(J.videoInputs),ge(J.videoOutputs))})});if(r("getAllViewfinderTypes",()=>R),r("getAllViewfinderConnectors",()=>_),!o){r("setViewfinders",()=>function(){}),r("getViewfinders",()=>function(){return[]}),r("clearViewfinders",()=>function(){}),r("setViewfinderVideoInputs",()=>function(){}),r("getViewfinderVideoInputs",()=>function(){return[]}),r("clearViewfinderVideoInputs",()=>function(){}),r("setViewfinderVideoOutputs",()=>function(){}),r("getViewfinderVideoOutputs",()=>function(){return[]}),r("clearViewfinderVideoOutputs",()=>function(){});return}const I=q=>{if(!o||typeof document?.getElementById!="function")return null;try{return document.getElementById(q)}catch{return null}},m=I("viewfinderContainer"),g=I("viewfinderVideoInputsContainer"),A=I("viewfinderVideoOutputsContainer");if([["setViewfinders",m],["getViewfinders",m],["clearViewfinders",m]].some(([q,oe])=>oe?!1:(r(q,()=>q==="getViewfinders"?()=>[]:()=>{}),!0)))return;let S=0;const C=(q,oe)=>{if(!q)return"";if(q.id)return q.id;const ne=typeof oe=="string"&&oe?oe:"field";S+=1;const ge=`${ne.toLowerCase().replace(/[^a-z0-9]+/g,"-")||"field"} -${S} `;try{q.id=ge}catch{}return q.id||ge},F=(q,oe)=>{const ne=document.createElement("label");return ne.className="visually-hidden",q&&ne.setAttribute("for",q),ne.textContent=typeof oe=="string"?oe:"",ne},j=(q,oe)=>{const ne=document.createElement("div");ne.className="field-with-label",ne.dataset.label=oe;const ge=C(q,oe);return ne.appendChild(F(ge,oe)),ne.appendChild(q),ne},$=(q,oe,ne)=>{if(!q)return;const ge=new Set;q.innerHTML="";const J=(he,ke)=>{if(ge.has(he))return;const nt=document.createElement("option");nt.value=he,nt.textContent=typeof ke=="string"?ke:he,q.appendChild(nt),ge.add(he)};J("",""),oe.forEach(he=>{if(typeof he!="string")return;const ke=he.trim();ke&&J(ke,ke)}),typeof ne=="string"&&ne&&!ge.has(ne)&&J(ne,ne),q.value=typeof ne=="string"?ne:""},x=(q="",oe="",ne="",ge="")=>{const J=document.createElement("div");J.className="form-row";const he=document.createElement("select");he.className="viewfinder-type-select",he.name="viewfinderType",$(he,R(),typeof q=="string"?q.trim():""),J.appendChild(j(he,"Type"));const ke=document.createElement("input");ke.type="text",ke.name="viewfinderResolution",ke.placeholder="Resolution",ke.value=typeof oe=="string"?oe:"",J.appendChild(j(ke,"Resolution"));const nt=document.createElement("select");nt.className="viewfinder-connector-select",nt.name="viewfinderConnector",$(nt,_(),typeof ne=="string"?ne.trim():""),J.appendChild(j(nt,"Connector"));const pt=document.createElement("input");pt.type="text",pt.name="viewfinderNotes",pt.placeholder="Notes",pt.value=typeof ge=="string"?ge:"",J.appendChild(j(pt,"Notes"));const Gt=document.createElement("button");Gt.type="button",Yi(Gt,ICON_GLYPHS.add,{contextPaths:["viewfinderHeading",["cameraViewfinderLabel"]],fallbackContext:"Viewfinder",actionKey:"addEntry"}),Gt.addEventListener("click",()=>{J.after(x())}),J.appendChild(Gt);const Kt=document.createElement("button");return Kt.type="button",Yi(Kt,ICON_GLYPHS.minus,{contextPaths:["viewfinderHeading",["cameraViewfinderLabel"]],fallbackContext:"Viewfinder",actionKey:"removeEntry"}),Kt.addEventListener("click",()=>{m&&m.children.length>1?J.remove():Array.from(J.querySelectorAll("select, input")).forEach(Je=>{Je&&(Je.value="")})}),J.appendChild(Kt),J},Q=(q,oe,ne,ge,J,he="")=>{if(!q)return null;const ke=document.createElement("div");ke.className="form-row";const nt=document.createElement("select");nt.name=oe,nt.className=`${oe} -select`,$(nt,T(),typeof he=="string"?he.trim():""),ke.appendChild(j(nt,"Type"));const pt=document.createElement("button");pt.type="button",Yi(pt,ICON_GLYPHS.add,{contextPaths:[ne,[ge]],fallbackContext:J,actionKey:"addEntry"}),pt.addEventListener("click",()=>{ke.after(Q(q,oe,ne,ge,J))}),ke.appendChild(pt);const Gt=document.createElement("button");return Gt.type="button",Yi(Gt,ICON_GLYPHS.minus,{contextPaths:[ne,[ge]],fallbackContext:J,actionKey:"removeEntry"}),Gt.addEventListener("click",()=>{q.children.length>1?ke.remove():nt.value=""}),ke.appendChild(Gt),ke},le=q=>{if(!m)return;m.innerHTML="";const oe=Array.isArray(q)?q:[];if(!oe.length){m.appendChild(x());return}oe.forEach(ne=>{const ge=typeof ne?.type=="string"?ne.type:"",J=typeof ne?.resolution=="string"?ne.resolution:"",he=typeof ne?.connector=="string"?ne.connector:"",ke=typeof ne?.notes=="string"?ne.notes:"";m.appendChild(x(ge,J,he,ke))})},K=()=>m?Array.from(m.querySelectorAll(".form-row")).map(q=>{const[oe,ne,ge,J]=q.querySelectorAll("select, input");return{type:oe?oe.value:"",resolution:ne?ne.value:"",connector:ge?ge.value:"",notes:J?J.value:""}}).filter(q=>q.type):[],re=()=>{le([])},Ee=q=>{if(!g)return;g.innerHTML="";const oe=Array.isArray(q)?q:[];if(!oe.length){const ne=Q(g,"viewfinderVideoInput","viewfinderVideoInputsHeading","viewfinderVideoInputsLabel","Video Inputs");ne&&g.appendChild(ne);return}oe.forEach(ne=>{const ge=typeof ne=="string"?ne:typeof ne?.type=="string"?ne.type:"",J=Q(g,"viewfinderVideoInput","viewfinderVideoInputsHeading","viewfinderVideoInputsLabel","Video Inputs",ge);J&&g.appendChild(J)})},ae=()=>g?Array.from(g.querySelectorAll("select")).map(q=>({type:q.value})).filter(q=>q.type):[],Z=()=>{Ee([])},ce=q=>{if(!A)return;A.innerHTML="";const oe=Array.isArray(q)?q:[];if(!oe.length){const ne=Q(A,"viewfinderVideoOutput","viewfinderVideoOutputsHeading","viewfinderVideoOutputsLabel","Video Outputs");ne&&A.appendChild(ne);return}oe.forEach(ne=>{const ge=typeof ne=="string"?ne:typeof ne?.type=="string"?ne.type:"",J=Q(A,"viewfinderVideoOutput","viewfinderVideoOutputsHeading","viewfinderVideoOutputsLabel","Video Outputs",ge);J&&A.appendChild(J)})},Le=()=>A?Array.from(A.querySelectorAll("select")).map(q=>({type:q.value})).filter(q=>q.type):[],Pe=()=>{ce([])};r("setViewfinders",()=>le),r("getViewfinders",()=>K),r("clearViewfinders",()=>re),r("setViewfinderVideoInputs",()=>Ee),r("getViewfinderVideoInputs",()=>ae),r("clearViewfinderVideoInputs",()=>Z),r("setViewfinderVideoOutputs",()=>ce),r("getViewfinderVideoOutputs",()=>Le),r("clearViewfinderVideoOutputs",()=>Pe),m&&!m.children.length&&le([]),g&&!g.children.length&&Ee([]),A&&!A.children.length&&ce([])})();Bv&&Bv.parentNode;function _v(e,t){const o=document.getElementById("addDeviceForm"),r=document.getElementById("wattField"),n=document.getElementById("videoFields"),a=document.getElementById("cameraFields");if(!r||!o)return;const l=e==="video"||e==="wirelessReceivers"||e==="iosVideo";try{l&&n&&n.parentNode===o?o.insertBefore(r,n):a&&a.parentNode===o?o.insertBefore(r,a):o.appendChild(r)}catch(s){console.warn("placeWattField failed to insert element safely",s)}}try{je("placeWattField",_v)}catch{typeof window<"u"&&(window.placeWattField=_v)}document.getElementById("motorFields");document.getElementById("motorConnector");document.getElementById("motorInternal");document.getElementById("motorTorque");document.getElementById("motorGearTypes");document.getElementById("motorNotes");document.getElementById("controllerFields");document.getElementById("controllerConnector");document.getElementById("controllerPower");document.getElementById("controllerBattery");document.getElementById("controllerConnectivity");document.getElementById("controllerNotes");document.getElementById("distanceFields");document.getElementById("distanceConnection");document.getElementById("distanceMethod");document.getElementById("distanceRange");document.getElementById("distanceAccuracy");document.getElementById("distanceOutput");document.getElementById("distanceNotes");document.getElementById("batteryPlatesContainer");document.getElementById("cameraMediaContainer");document.getElementById("lensMountContainer");var ca=document.getElementById("lensFocusScaleUnit");document.getElementById("powerDistContainer");document.getElementById("videoOutputsContainer");document.getElementById("fizConnectorContainer");document.getElementById("viewfinderContainer");document.getElementById("timecodeContainer");document.getElementById("batteryFields");var Pm=document.getElementById("newCapacity"),Bm=document.getElementById("newPinA"),Os=document.getElementById("newDtapA");Os&&Os.parentElement;document.getElementById("addDeviceBtn");document.getElementById("cancelEditBtn");document.getElementById("exportDataBtn");document.getElementById("exportOutput");document.getElementById("importFileInput");document.getElementById("importDataBtn");var Dv=document.getElementById("skipLink");function Dg(){const e=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||typeof global<"u"&&global||null,o=(e&&typeof e.focusScalePreference=="string"?e.focusScalePreference:null)||(typeof focusScalePreference=="string"?focusScalePreference:null)||"metric";if(typeof normalizeFocusScale=="function")try{const n=normalizeFocusScale(o);if(n==="imperial"||n==="metric")return n}catch{}return(typeof o=="string"?o.trim().toLowerCase():"")==="imperial"?"imperial":"metric"}function O_(e=Ge,{preserveValue:t=!0}={}){if(!ca)return;const o=t?ca.value:"",r=typeof e=="string"?e:Ge,n=i&&r&&i[r]?i[r]:i?.en||{},a=n.lensFocusScaleDefault||n.focusScaleSetting||"Use global focus scale",l=n.focusScaleMetric||"Metric",s=n.focusScaleImperial||"Imperial",f=Dg()==="imperial"?`${a} (${s})`:`${a} (${l})`,y=o&&(o==="metric"||o==="imperial")?o:"";ca.innerHTML="";const R=(_,T)=>{const I=document.createElement("option");I.value=_,I.textContent=T,ca.appendChild(I)};R("",f),R("metric",l),R("imperial",s),ca.value=y}var Fv=document.getElementById("languageSelect"),ut=document.getElementById("settingsTablist"),Pu=document.getElementById("pinkModeToggle");document.getElementById("pinkModeHelpIcon");var Bu=document.getElementById("darkModeToggle"),ta=document.getElementById("helpButton"),Dr=document.getElementById("reloadButton");document.getElementById("helpDialog");var Hl=document.getElementById("closeHelp"),Mu=document.getElementById("helpSearch"),xv=document.getElementById("helpNoResults");document.getElementById("helpNoResultsSuggestions");var Nv=document.getElementById("helpNoResultsSuggestionsHeading"),Hv=document.getElementById("helpNoResultsSuggestionsIntro"),k_=document.getElementById("helpNoResultsSuggestionClear"),I_=document.getElementById("helpNoResultsSuggestionSynonyms"),P_=document.getElementById("helpNoResultsSuggestionQuickStart"),B_=document.getElementById("helpNoResultsSuggestionBackup"),Mm=document.getElementById("helpDataAuditHeading"),M_=document.getElementById("helpDataAuditStep1"),__=document.getElementById("helpDataAuditStep2"),D_=document.getElementById("helpDataAuditStep3"),F_=document.getElementById("helpDataAuditStep4"),_m=document.getElementById("helpDataAuditNote");document.getElementById("helpResultsSummary");document.getElementById("helpResultsAssist");var _u=document.getElementById("helpSearchClear");document.getElementById("helpSections");document.getElementById("helpQuickLinks");document.getElementById("helpQuickLinksHeading");document.getElementById("helpQuickLinksList");var mo,ks,fn,Is,jo,So,Ps,Bs,cl,Ms,ul,dl,fl,Ka,pl,Rr,Kr=document.getElementById("iosPwaHelpDialog"),_s,Ds,Fs,Dm=!1;function $n(){if(!(Dm&&mo)){if(typeof document>"u"){Dm=!0,mo=mo||null,ks=ks||null,fn=fn||null,Is=Is||null,jo=jo||null,So=So||null,Ps=Ps||null,Bs=Bs||null,cl=cl||null,Ms=Ms||null,ul=ul||null,dl=dl||null,fl=fl||null,Ka=Ka||null,pl=pl||null,Rr=Rr||null,_s=_s||null,Ds=Ds||null,Fs=Fs||null;return}mo=document.getElementById("installPromptBanner"),ks=document.getElementById("installPromptBannerText"),fn=document.getElementById("installPromptBannerAction"),Is=document.getElementById("installPromptBannerIcon"),jo=document.getElementById("installPromptBannerDismiss"),So=document.getElementById("installGuideDialog"),Ps=document.getElementById("installGuideTitle"),Bs=document.getElementById("installGuideIntro"),cl=document.getElementById("installGuideSteps"),Ms=document.getElementById("installGuideNote"),ul=document.getElementById("installGuideMigration"),dl=document.getElementById("installGuideMigrationTitle"),fl=document.getElementById("installGuideMigrationIntro"),Ka=document.getElementById("installGuideMigrationSteps"),pl=document.getElementById("installGuideMigrationNote"),Rr=document.getElementById("installGuideClose"),_s=document.getElementById("iosPwaHelpTitle"),Ds=document.getElementById("iosPwaHelpIntro"),Fs=document.getElementById("iosPwaHelpStep1"),Dm=!0}}const x_=(typeof globalThis<"u"&&globalThis&&typeof globalThis.syncMountVoltageResetButtonGlobal=="function"?globalThis.syncMountVoltageResetButtonGlobal:null)||(typeof syncMountVoltageResetButtonGlobal=="function"?syncMountVoltageResetButtonGlobal:function(){}),N_=document.getElementById("mountVoltageSettings"),H_=document.getElementById("mountVoltageHeading"),j_=document.getElementById("mountVoltageDescription"),U_=document.getElementById("mountVoltageNote"),Dw=document.getElementById("mountVoltageReset");x_(Dw);const z_={V:document.getElementById("mountVoltageVTitle"),Gold:document.getElementById("mountVoltageGoldTitle"),B:document.getElementById("mountVoltageBTitle")},jv={"V-Mount":{high:document.getElementById("mountVoltageVHigh"),low:document.getElementById("mountVoltageVLow"),highLabel:document.getElementById("mountVoltageVHighLabel"),lowLabel:document.getElementById("mountVoltageVLowLabel")},"Gold-Mount":{high:document.getElementById("mountVoltageGoldHigh"),low:document.getElementById("mountVoltageGoldLow"),highLabel:document.getElementById("mountVoltageGoldHighLabel"),lowLabel:document.getElementById("mountVoltageGoldLowLabel")},"B-Mount":{high:document.getElementById("mountVoltageBHigh"),low:document.getElementById("mountVoltageBLow"),highLabel:document.getElementById("mountVoltageBHighLabel"),lowLabel:document.getElementById("mountVoltageBLowLabel")}},Fm=typeof setMountVoltageDomReferences=="function"?{setDomReferences:setMountVoltageDomReferences}:be&&typeof be=="object"&&be.cineCoreMountVoltage&&typeof be.cineCoreMountVoltage.setMountVoltageDomReferences=="function"?{setDomReferences:be.cineCoreMountVoltage.setMountVoltageDomReferences}:null;if(Fm&&typeof Fm.setDomReferences=="function")Fm.setDomReferences({section:N_,heading:H_,description:j_,note:U_,resetButton:Dw,titles:z_,inputs:jv});else if(be&&typeof be=="object")try{be.mountVoltageInputs=jv}catch{}typeof updateMountVoltageInputsFromState=="function"&&updateMountVoltageInputsFromState();typeof updateMountVoltageSettingLabels=="function"&&updateMountVoltageSettingLabels(Ge);const Uv=document.getElementById("iosPwaHelpStep2"),zv=document.getElementById("iosPwaHelpStep3");PA(Xk);typeof window<"u"&&typeof document<"u"&&Wk().catch(()=>{});const Vv=document.getElementById("iosPwaHelpStep4"),qv=document.getElementById("iosPwaHelpNote");var ml=document.getElementById("iosPwaHelpClose"),Wv=!1,Bf=null,ys=null,gs=null;function xm(e){if(typeof e=="number"&&Number.isFinite(e))return Math.max(0,Math.min(255,Math.round(e)));if(typeof e!="string")return null;const t=e.trim();if(!t)return null;if(t.endsWith("%")){const r=Number.parseFloat(t.slice(0,-1));return Number.isNaN(r)?null:Math.max(0,Math.min(255,Math.round(r/100*255)))}const o=Number.parseFloat(t);return Number.isNaN(o)?null:Math.max(0,Math.min(255,Math.round(o)))}function V_(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const o=t.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(o){const n=o[1];return n.length===3?{r:Number.parseInt(n[0]+n[0],16),g:Number.parseInt(n[1]+n[1],16),b:Number.parseInt(n[2]+n[2],16)}:{r:Number.parseInt(n.slice(0,2),16),g:Number.parseInt(n.slice(2,4),16),b:Number.parseInt(n.slice(4,6),16)}}const r=t.match(/^rgba?\(([^)]+)\)$/i);if(r){const n=r[1].split(",");if(n.length<3)return null;const[a,l,s]=n,u=xm(a),f=xm(l),y=xm(s);return[u,f,y].some(R=>R===null)?null:{r:u,g:f,b:y}}return null}function q_(e){if(!e||typeof e!="object")return 0;const t=l=>{const s=Number(l);return Number.isFinite(s)?Math.min(1,Math.max(0,s/255)):0},o=l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4),r=o(t(e.r)),n=o(t(e.g)),a=o(t(e.b));return .2126*r+.7152*n+.0722*a}function Fw(){try{if(Mo&&typeof Mo.isIosDevice=="function")return!!Mo.isIosDevice()}catch(e){typeof console<"u"&&console&&typeof console.warn=="function"&&console.warn("isIosDevice() failed",e)}return!1}function W_(){try{if(Mo&&typeof Mo.isAndroidDevice=="function")return!!Mo.isAndroidDevice()}catch(e){typeof console<"u"&&console&&typeof console.warn=="function"&&console.warn("isAndroidDevice() failed",e)}return!1}function K_(){try{if(Mo&&typeof Mo.isStandaloneDisplayMode=="function")return!!Mo.isStandaloneDisplayMode()}catch(e){typeof console<"u"&&console&&typeof console.warn=="function"&&console.warn("isStandaloneDisplayMode() failed",e)}return!1}function $_(){try{Mo&&typeof Mo.markIosPwaHelpDismissed=="function"&&Mo.markIosPwaHelpDismissed()}catch(e){typeof console<"u"&&console&&typeof console.warn=="function"&&console.warn("markIosPwaHelpDismissed() failed",e)}}function Kv(){return!Hr||typeof Hr!="object"?!1:typeof Hr.installBannerDismissedInSession!="boolean"?(Hr.installBannerDismissedInSession=!1,!1):Hr.installBannerDismissedInSession}function xw(e){!Hr||typeof Hr!="object"||(Hr.installBannerDismissedInSession=!!e)}function Y_(){if(Kv())return!0;if(typeof localStorage>"u")return!1;try{const t=localStorage.getItem(Vh)==="1";return t&&xw(!0),t}catch(e){return console.warn("Could not read install banner dismissal flag",e),Kv()}}function Q_(){if(xw(!0),!(typeof localStorage>"u"))try{localStorage.setItem(Vh,"1")}catch(e){console.warn("Could not store install banner dismissal",e)}}function X_(){return $n(),!mo||K_()||Y_()?!1:Fw()||W_()}function jl(){if($n(),!mo)return;const e=X_(),t=typeof document<"u"?document.documentElement:null;t&&typeof t.classList<"u"&&t.classList.toggle("install-banner-visible",e),e?(mo.removeAttribute("hidden"),Mf(),ha()):(mo.setAttribute("hidden",""),wg(0),mo.style.removeProperty("top"))}function Mf(){if($n(),!!mo&&!(typeof window>"u"||typeof window.getComputedStyle!="function"))try{const e=document.documentElement;if(!e)return;const o=window.getComputedStyle(e).getPropertyValue("--accent-color").trim();if(!o){mo.style.removeProperty("--install-banner-text-color");return}const r=V_(o);if(!r)return;const a=q_(r)>.55?"#000000":"#ffffff";mo.style.setProperty("--install-banner-text-color",a)}catch(e){console.warn("Unable to update install banner colors",e)}}function Nw(e,t=Ge){if($n(),!So)return;const o=i.en||{},r=i[t]||o,n=e==="ios",a=n?"installHelpTitleIos":"installHelpTitleAndroid",l=n?"installHelpIntroIos":"installHelpIntroAndroid",s=n?"installHelpStepsIos":"installHelpStepsAndroid",u=n?"installHelpNoteIos":"installHelpNoteAndroid",f=r[a]||o[a]||"";Ps&&(Ps.textContent=f);const y=r[l]||o[l]||"";Bs&&(Bs.textContent=y);const R=r[s],_=o[s],T=w=>w?Array.isArray(w)?w:[w]:[],I=T(R),m=T(_),g=I.length?I:m;cl&&(cl.textContent="",g.forEach(w=>{if(!w)return;const E=document.createElement("li");E.textContent=w,cl.appendChild(E)}));const A=r[u]||o[u]||"";if(Ms&&(Ms.textContent=A),So.setAttribute("data-platform",e),!(!ul||!dl||!fl||!Ka||!pl))if(n){ul.removeAttribute("hidden");const w=r.installHelpMigrationTitle||o.installHelpMigrationTitle||"";dl.textContent=w;const E=r.iosPwaHelpIntro||o.iosPwaHelpIntro||"";fl.textContent=E;const S=[r.iosPwaHelpStep1||o.iosPwaHelpStep1,r.iosPwaHelpStep2||o.iosPwaHelpStep2,r.iosPwaHelpStep3||o.iosPwaHelpStep3,r.iosPwaHelpStep4||o.iosPwaHelpStep4].filter(Boolean);Ka.textContent="",S.forEach(F=>{const j=document.createElement("li");j.textContent=F,Ka.appendChild(j)});const C=r.iosPwaHelpNote||o.iosPwaHelpNote||"";pl.textContent=C}else ul.setAttribute("hidden",""),dl.textContent="",fl.textContent="",Ka.textContent="",pl.textContent=""}function Z_(e){if($n(),!So)return;Bf=e,ys=document.activeElement,Nw(e),So.removeAttribute("hidden");const t=Rr||So.querySelector('button, [href], [tabindex]:not([tabindex="-1"])');if(t&&typeof t.focus=="function")try{t.focus()}catch{t.focus()}}function Fg(){if($n(),!!So&&(So.setAttribute("hidden",""),Bf=null,ys&&typeof ys.focus=="function"))try{ys.focus()}catch{ys.focus()}}function J_(){if($n(),!mo)return!1;if(Wv)return xg(Ge),Mf(),jl(),ha(),!0;if(Wv=!0,Is&&typeof applyIconGlyph=="function"&&applyIconGlyph(Is,ICON_GLYPHS.installApp),fn&&fn.addEventListener("click",e=>{e.preventDefault();const t=Fw()?"ios":"android";Z_(t)}),jo&&jo.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Q_(),jl()}),Rr&&Rr.addEventListener("click",()=>{Fg()}),So&&So.addEventListener("click",e=>{e.target===So&&Fg()}),xg(Ge),Mf(),jl(),ha(),typeof window<"u"&&(window.addEventListener("resize",ha),window.addEventListener("appinstalled",jl),typeof window.matchMedia=="function"))try{const e=window.matchMedia("(display-mode: standalone)"),t=()=>jl();typeof e.addEventListener=="function"?e.addEventListener("change",t):typeof e.addListener=="function"&&e.addListener(t)}catch(e){console.warn("matchMedia display-mode listener failed",e)}return!0}function xg(e){$n();const t=i.en||{},o=i[e]||t,r=o.installBannerText||t.installBannerText||"";ks&&r&&(ks.textContent=r),mo&&(r?(mo.setAttribute("aria-label",r),mo.setAttribute("title",r)):(mo.removeAttribute("aria-label"),mo.removeAttribute("title"))),fn&&(r?(fn.setAttribute("aria-label",r),fn.setAttribute("title",r)):(fn.removeAttribute("aria-label"),fn.removeAttribute("title")));const n=o.installHelpClose||t.installHelpClose||"",a=o.installBannerDismiss||t.installBannerDismiss||n||"";if(jo){const l=a||"";if(typeof me=="function"&&me(jo,"",ICON_GLYPHS.circleX),Array.from(jo.querySelectorAll(".visually-hidden")).forEach(s=>{s&&s.parentNode===jo&&jo.removeChild(s)}),l){jo.setAttribute("aria-label",l),jo.setAttribute("title",l);const s=document.createElement("span");s.className="visually-hidden",s.textContent=l,jo.appendChild(s)}else jo.removeAttribute("aria-label"),jo.removeAttribute("title")}Rr&&(n&&typeof me=="function"?(me(Rr,n,ICON_GLYPHS.circleX),Rr.setAttribute("aria-label",n),Rr.setAttribute("title",n)):n||(Rr.removeAttribute("aria-label"),Rr.removeAttribute("title"))),So&&!So.hasAttribute("hidden")&&Bf&&Nw(Bf,e),ha(),Mf()}function eD(){try{if(Mo&&typeof Mo.shouldShowIosPwaHelp=="function")return!!Mo.shouldShowIosPwaHelp(()=>Kr)}catch(e){typeof console<"u"&&console&&typeof console.warn=="function"&&console.warn("shouldShowIosPwaHelp() failed",e)}return!1}function tD(){if(!Kr||!eD())return;gs=document.activeElement,Kr.removeAttribute("hidden");const e=ml||Kr.querySelector('button, [href], [tabindex]:not([tabindex="-1"])');if(e&&typeof e.focus=="function")try{e.focus()}catch{e.focus()}}function cb(e=!1){if(Kr&&(Kr.setAttribute("hidden",""),e&&$_(),gs&&typeof gs.focus=="function"))try{gs.focus()}catch{gs.focus()}}function oD(){tD()}ml&&ml.addEventListener("click",()=>cb(!0));Kr&&Kr.addEventListener("click",e=>{e.target===Kr&&cb(!0)});document.addEventListener("keydown",e=>{if(e.key!=="Escape"&&e.key!=="Esc")return;let t=!1;Kr&&!Kr.hasAttribute("hidden")&&(cb(!0),t=!0),So&&!So.hasAttribute("hidden")&&(Fg(),t=!0),t&&e.preventDefault()});var Du=document.getElementById("hoverHelpButton"),$a=document.getElementById("settingsButton");const Nm=$a?.querySelector?.(".settings-button-icon");var _f=document.getElementById("settingsDialog");$a&&$a.setAttribute("data-allow-hover-help","");Nm&&(applyIconGlyph(Nm,ICON_GLYPHS.gears),Nm.setAttribute("aria-hidden","true"));_f&&_f.setAttribute("data-allow-hover-help","");const Po=ut?Array.from(ut.querySelectorAll('[role="tab"]')):[],Fu=ut?ut.closest(".settings-tabs-container")||ut:null,Na=document.getElementById("settingsTabsScrollPrev"),Ha=document.getElementById("settingsTabsScrollNext");let Ul=0;const rD="(max-width: 720px)",Ii=typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia(rD):null;function Hm(e){ut&&(ut.setAttribute("aria-orientation",e?"vertical":"horizontal"),yc())}if(Ii)try{Hm(Ii.matches);const e=t=>{Hm(t.matches)};typeof Ii.addEventListener=="function"?Ii.addEventListener("change",e):typeof Ii.addListener=="function"&&Ii.addListener(e)}catch{Hm(!1)}else ut&&ut.setAttribute("aria-orientation","horizontal");function $v(){if(!ut||!Fu){Na&&(Na.hidden=!0),Ha&&(Ha.hidden=!0);return}const e=typeof ut.scrollWidth=="number"?ut.scrollWidth:0,t=typeof ut.clientWidth=="number"?ut.clientWidth:0,o=typeof ut.scrollLeft=="number"?ut.scrollLeft:Number(ut.scrollLeft)||0,r=Math.max(0,e-t),n=Math.min(r,Math.max(0,o)),a=e>t+4,l=!a||n<=1,s=!a||Math.abs(e-t-n)<=1;Fu.classList.toggle("is-scrollable",a),Fu.classList.toggle("is-at-start",l),Fu.classList.toggle("is-at-end",s),Na&&(Na.hidden=!a,Na.disabled=l),Ha&&(Ha.hidden=!a,Ha.disabled=s)}function yc(){ut&&(typeof window<"u"&&typeof window.requestAnimationFrame=="function"?(Ul&&(typeof window.cancelAnimationFrame=="function"&&window.cancelAnimationFrame(Ul),Ul=0),Ul=window.requestAnimationFrame(()=>{Ul=0,$v()})):$v())}function Hw(e){if(!ut)return;const t=ut.clientWidth?ut.clientWidth*.75:200,o=e*t;if(typeof ut.scrollBy=="function")try{ut.scrollBy({left:o,behavior:"smooth"})}catch{ut.scrollLeft+=o}else ut.scrollLeft+=o;yc()}Na&&Na.addEventListener("click",()=>{Hw(-1)});Ha&&Ha.addEventListener("click",()=>{Hw(1)});if(ut){let e=!1;if(typeof window<"u"&&typeof window.addEventListener=="function")try{const t=()=>{},o=Object.defineProperty({},"passive",{get(){return e={passive:!0},!1}});window.addEventListener("testPassive",t,o),window.removeEventListener("testPassive",t,o)}catch{e=!1}ut.addEventListener("scroll",()=>{yc()},e),typeof window<"u"&&typeof window.addEventListener=="function"&&window.addEventListener("resize",yc,e)}var nD=_f?Array.from(_f.querySelectorAll(".settings-panel")):[],Id=document.getElementById("settingsTab-general"),jw=document.getElementById("settingsTab-autoGear"),Uw=document.getElementById("settingsTab-accessibility"),zw=document.getElementById("settingsTab-backup"),Vw=document.getElementById("settingsTab-data"),qw=document.getElementById("settingsTab-about"),aD=[[Id,ICON_GLYPHS.settingsGeneral],[jw,ICON_GLYPHS.settingsAutoGear],[Uw,ICON_GLYPHS.settingsAccessibility],[zw,ICON_GLYPHS.settingsBackup],[Vw,ICON_GLYPHS.settingsData],[qw,ICON_GLYPHS.settingsAbout]];aD.forEach(([e,t])=>{if(!e||!t)return;const o=e.querySelector?.(".settings-tab-icon");o&&(applyIconGlyph(o,t),o.setAttribute("aria-hidden","true"))});const jm=document.getElementById("generalSettingsHeading"),Um=document.getElementById("generalLanguageHeading"),zm=document.getElementById("generalAppearanceHeading"),Vm=document.getElementById("generalTypographyHeading"),qm=document.getElementById("generalBrandingHeading");document.getElementById("generalCameraColorsHeading");const Wm=document.getElementById("cameraColorsDescription"),iD=document.getElementById("cameraColorALabel"),lD=document.getElementById("cameraColorBLabel"),sD=document.getElementById("cameraColorCLabel"),cD=document.getElementById("cameraColorDLabel"),uD=document.getElementById("cameraColorELabel");var dD=document.getElementById("cameraColorA"),fD=document.getElementById("cameraColorB"),pD=document.getElementById("cameraColorC"),mD=document.getElementById("cameraColorD"),yD=document.getElementById("cameraColorE"),zl=document.getElementById("settingsLanguage"),Km=document.getElementById("settingsDarkMode"),$m=document.getElementById("settingsPinkMode"),Ym=document.getElementById("accentColorInput"),Pi=document.getElementById("accentColorReset"),Bi=document.getElementById("settingsTemperatureUnit"),Mi=document.getElementById("settingsFocusScale"),Qm=document.getElementById("settingsFontSize"),Xm=document.getElementById("settingsFontFamily"),nn=document.getElementById("localFontsButton");document.getElementById("localFontsInput");var Vl=document.getElementById("localFontsStatus"),Zm=document.getElementById("localFontsGroup");const Jm=document.getElementById("bundledFontOptions");var ey=document.getElementById("settingsLogo");document.getElementById("settingsLogoPreview");const Pd=(()=>{const e=qp&&typeof qp.createDocumentationTrackerManager=="function"?(()=>{try{return qp.createDocumentationTrackerManager({document:typeof document<"u"?document:null})}catch(o){return console.warn("Failed to create documentation tracker manager",o),null}})():null;if(e)return{initialize(){try{e.initialize()}catch(o){console.warn("Failed to initialise documentation tracker",o)}},updateLocalization(o){try{e.updateLocalization(o)}catch(r){console.warn("Failed to update documentation tracker localisation",r)}},render(){try{e.render()}catch(o){console.warn("Failed to render documentation tracker",o)}},isInitialized(){try{return typeof e.isInitialized=="function"?e.isInitialized()===!0:!1}catch{}return!1}};const t=()=>{};return{initialize:t,updateLocalization:t,render:t,isInitialized(){return!1}}})();var yl="";if(Po.length){yl=Po.find(t=>t.getAttribute("aria-selected")==="true")?.id||Po[0].id;try{const t=localStorage.getItem("settingsActiveTab");t&&Po.some(o=>o.id===t)&&(yl=t)}catch(t){console.warn("Could not load settings tab preference",t)}}function xs(e,t={}){if(!Po.length)return;const{focusTab:o=!1}=t||{};let r=Po.find(n=>n.id===e);if(r||(r=Po[0]),!!r){if(Po.forEach(n=>{const a=n===r;if(n.setAttribute("aria-selected",a?"true":"false"),n.tabIndex=a?0:-1,a&&o)try{n.focus({preventScroll:!0})}catch{n.focus()}n.classList.toggle("active",a)}),nD.forEach(n=>{if(!n)return;(n.getAttribute("aria-labelledby")||"").split(/\s+/).map(s=>s.trim()).filter(Boolean).includes(r.id)?n.removeAttribute("hidden"):n.setAttribute("hidden","")}),ut&&typeof ut.scrollWidth=="number"&&typeof ut.clientWidth=="number"&&ut.scrollWidth>ut.clientWidth+4&&typeof r.scrollIntoView=="function")try{r.scrollIntoView({block:"nearest",inline:"center",behavior:"smooth"})}catch{r.scrollIntoView()}yc(),yl=r.id;try{typeof safeSetLocalStorage=="function"?safeSetLocalStorage("settingsActiveTab",yl):localStorage.setItem("settingsActiveTab",yl)}catch(n){console.warn("Could not save settings tab preference",n)}}}Pd.initialize();Po.length&&(xs(yl),Po.forEach(e=>{e.addEventListener("click",()=>{xs(e.id)}),e.addEventListener("keydown",t=>{const{key:o}=t;if(!o||!["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"].includes(o))return;t.preventDefault();const r=Po.indexOf(e);if(r===-1)return;let n=r;o==="ArrowLeft"||o==="ArrowUp"?n=(r-1+Po.length)%Po.length:o==="ArrowRight"||o==="ArrowDown"?n=(r+1)%Po.length:o==="Home"?n=0:o==="End"&&(n=Po.length-1);const a=Po[n];a&&xs(a.id,{focusTab:!0})})}));ja&&ja.addEventListener("click",()=>{xs("settingsTab-backup",{focusTab:!0});const e=document.getElementById("backupSettings");if(e&&typeof e.focus=="function")try{e.focus({preventScroll:!0})}catch{e.focus()}});var Yv=cc.reduce((e,t)=>{const o=Ke[t]||null;return e[t]={key:t,section:o,label:QP[t]||null,select:XP[t]||null,addShortcut:eb[t]||null,removeButton:XA[t]||null,logicLabel:ZA[t]||null,logicSelect:tb[t]||null},o&&o.setAttribute("aria-hidden",o.hidden?"true":"false"),e},{});const go=typeof M<"u"?M:globalThis.AUTO_GEAR_UI_EXPORTS||{},gD=typeof go.refreshAutoGearShootingDaysValue=="function"?go.refreshAutoGearShootingDaysValue:function(){},Ww=typeof go.refreshAutoGearScenarioOptions=="function"?go.refreshAutoGearScenarioOptions:function(){};typeof go.refreshAutoGearScenarioBaseSelect=="function"&&go.refreshAutoGearScenarioBaseSelect;const Kw=typeof go.refreshAutoGearMatteboxOptions=="function"?go.refreshAutoGearMatteboxOptions:function(){},$w=typeof go.refreshAutoGearCameraHandleOptions=="function"?go.refreshAutoGearCameraHandleOptions:function(){},Yw=typeof go.refreshAutoGearViewfinderExtensionOptions=="function"?go.refreshAutoGearViewfinderExtensionOptions:function(){},Qw=typeof go.refreshAutoGearDeliveryResolutionOptions=="function"?go.refreshAutoGearDeliveryResolutionOptions:function(){},Xw=typeof go.refreshAutoGearVideoDistributionOptions=="function"?go.refreshAutoGearVideoDistributionOptions:function(){};typeof go.collectAutoGearSelectedValues=="function"&&go.collectAutoGearSelectedValues;var Zw={always:null,scenarios:Ww,shootingDays:gD,mattebox:Kw,cameraHandle:$w,viewfinderExtension:Yw,deliveryResolution:Qw,videoDistribution:Xw,camera:Ar("refreshAutoGearCameraOptions"),ownGear:refreshAutoGearOwnGearConditionOptions,cameraWeight:Ar("refreshAutoGearCameraWeightCondition"),monitor:Ar("refreshAutoGearMonitorOptions"),tripodHeadBrand:Ar("refreshAutoGearTripodHeadOptions"),tripodBowl:Ar("refreshAutoGearTripodBowlOptions"),tripodTypes:Ar("refreshAutoGearTripodTypesOptions"),tripodSpreader:Ar("refreshAutoGearTripodSpreaderOptions"),crewPresent:e=>Ne("refreshAutoGearCrewOptions",[As,e,"crewPresent"],{defer:!0}),crewAbsent:e=>Ne("refreshAutoGearCrewOptions",[ws,e,"crewAbsent"],{defer:!0}),wireless:Ar("refreshAutoGearWirelessOptions"),motors:Ar("refreshAutoGearMotorsOptions"),controllers:Ar("refreshAutoGearControllersOptions"),distance:Ar("refreshAutoGearDistanceOptions")},ba=typeof window<"u"&&window.autoGearActiveConditions||new Set;typeof window<"u"&&!window.autoGearActiveConditions&&(window.autoGearActiveConditions=ba);function ub(e){return e&&Object.prototype.hasOwnProperty.call(Yv,e)?Yv[e]:null}function hD(e){const t=ub(e);if(t&&t.label&&typeof t.label.textContent=="string"){const r=t.label.textContent.trim();if(r)return r}const o=JP[e];return typeof o=="string"&&o?o:typeof e=="string"&&e?e.replace(/([A-Z])/g," $1").replace(/^./,r=>r.toUpperCase()):""}function gp(){if(!Io)return;const e=Io.value||"",t=i[Ge]?.autoGearConditionPlaceholder||i.en?.autoGearConditionPlaceholder||"Choose a condition";Io.innerHTML="";const o=document.createElement("option");o.value="",o.textContent=t,Io.appendChild(o);const r=cc.filter(n=>ba.has(n)?ew.has(n):!0);r.forEach(n=>{const a=document.createElement("option");a.value=n,a.textContent=hD(n),Io.appendChild(a)}),e&&r.includes(e)?Io.value=e:Io.value="",Io.disabled=r.length===0}function hp(){const e=Io&&Io.value,t=Io?Io.disabled:!0;aa&&(aa.disabled=!e||t);const o=cc.some(r=>ba.has(r)?ew.has(r):!0);cc.forEach(r=>{const n=eb[r];n&&(n.disabled=!o)})}function bD(e,t={}){const o=ub(e);if(!o||!ba.has(e))return!1;ba.delete(e),o.section&&(o.section.hidden=!0,o.section.setAttribute("aria-hidden","true")),o.logicSelect&&(o.logicSelect.value="all",o.logicSelect.disabled=!0),t.preserveDraft,o.select&&(Array.from(o.select.options||[]).forEach(n=>{n.selected=!1}),o.select.value=""),e==="cameraWeight"&&(Vr&&(Vr.value="greater"),qr&&(qr.value="")),e==="shootingDays"&&(Ur&&(Ur.value="minimum"),zr&&(zr.value=""));const r=Zw[e];return typeof r=="function"&&r(e==="shootingDays"?null:[]),gp(),hp(),t.focusPicker&&EA(),!0}function SD(e={}){const{preserveDraft:t=!1}=e||{};Array.from(ba).forEach(o=>{bD(o,{preserveDraft:t,focusPicker:!1})}),cc.forEach(o=>{if(ba.has(o))return;const r=ub(o);if(!r)return;r.section&&(r.section.hidden=!0,r.section.setAttribute("aria-hidden","true")),r.select&&(Array.from(r.select.options||[]).forEach(a=>{a.selected=!1}),r.select.value=""),r.logicSelect&&(r.logicSelect.value="all",r.logicSelect.disabled=!0),o==="cameraWeight"&&(Vr&&(Vr.value="greater"),qr&&(qr.value="")),o==="shootingDays"&&(Ur&&(Ur.value="minimum"),zr&&(zr.value=""));const n=Zw[o];typeof n=="function"&&n(o==="shootingDays"?null:t?ra?.[o]:[])}),ba.clear(),gp(),hp()}gp();hp();jh();if(Ur){const e=()=>{updateAutoGearShootingDaysDraft(),Ne("renderAutoGearDraftImpact",[],{defer:!0})};Ur.addEventListener("input",e),Ur.addEventListener("change",e)}if(zr){const e=()=>{updateAutoGearShootingDaysDraft(),Ne("renderAutoGearDraftImpact",[],{defer:!0})};zr.addEventListener("input",e),zr.addEventListener("change",e),zr.addEventListener("blur",e)}Object.entries(tb).forEach(([e,t])=>{if(!t)return;AUTO_GEAR_CONDITION_LOGIC_FIELDS[e];const o=()=>{const r=RA(t.value);t.value=r,Ne("renderAutoGearDraftImpact",[],{defer:!0})};t.addEventListener("input",o),t.addEventListener("change",o)});if(Vr){const e=()=>{updateAutoGearCameraWeightDraft(),Ne("renderAutoGearDraftImpact",[],{defer:!0})};Vr.addEventListener("input",e),Vr.addEventListener("change",e)}if(qr){const e=()=>{updateAutoGearCameraWeightDraft(),Ne("renderAutoGearDraftImpact",[],{defer:!0})};qr.addEventListener("input",e),qr.addEventListener("change",e),qr.addEventListener("blur",e)}var ty=document.getElementById("autoGearAddItemsHeading"),xu=document.getElementById("autoGearAddOwnGearLabel"),Nu=document.getElementById("autoGearAddItemLabel"),oy=document.getElementById("autoGearAddCategoryLabel"),ry=document.getElementById("autoGearAddQuantityLabel"),Bd=document.getElementById("autoGearAddScreenSizeLabel"),Md=document.getElementById("autoGearAddSelectorTypeLabel"),_d=document.getElementById("autoGearAddSelectorDefaultLabel"),ny=document.getElementById("autoGearAddNotesLabel"),ql=document.getElementById("autoGearAddOwnGear"),Wl=document.getElementById("autoGearAddName"),Ui=document.getElementById("autoGearAddCategory"),Qv=document.getElementById("autoGearAddQuantity"),Df=document.getElementById("autoGearAddScreenSize"),gl=document.getElementById("autoGearAddSelectorType"),gc=document.getElementById("autoGearAddSelectorDefault"),Xv=document.getElementById("autoGearAddNotes"),Jw=document.getElementById("autoGearAddItemButton");document.getElementById("autoGearAddList");var ay=document.getElementById("autoGearRemoveItemsHeading"),Hu=document.getElementById("autoGearRemoveOwnGearLabel"),ju=document.getElementById("autoGearRemoveItemLabel"),iy=document.getElementById("autoGearRemoveCategoryLabel"),ly=document.getElementById("autoGearRemoveQuantityLabel"),Dd=document.getElementById("autoGearRemoveScreenSizeLabel"),Fd=document.getElementById("autoGearRemoveSelectorTypeLabel"),xd=document.getElementById("autoGearRemoveSelectorDefaultLabel"),sy=document.getElementById("autoGearRemoveNotesLabel"),Kl=document.getElementById("autoGearRemoveOwnGear"),$l=document.getElementById("autoGearRemoveName"),zi=document.getElementById("autoGearRemoveCategory"),Zv=document.getElementById("autoGearRemoveQuantity"),Ff=document.getElementById("autoGearRemoveScreenSize"),hl=document.getElementById("autoGearRemoveSelectorType"),hc=document.getElementById("autoGearRemoveSelectorDefault"),Jv=document.getElementById("autoGearRemoveNotes"),eR=document.getElementById("autoGearRemoveItemButton");document.getElementById("autoGearRemoveList");var eE=document.getElementById("autoGearDraftImpact"),Yl=document.getElementById("autoGearDraftImpactHeading"),cy=document.getElementById("autoGearDraftImpactDescription");document.getElementById("autoGearDraftImpactList");document.getElementById("autoGearDraftWarningContainer");var uy=document.getElementById("autoGearDraftWarningHeading");document.getElementById("autoGearDraftWarningList");var Uu=document.getElementById("autoGearSaveRule"),zu=document.getElementById("autoGearCancelEdit");document.getElementById("autoGearItemCatalog");updateAutoGearOwnGearOptions();typeof document<"u"&&document&&document.addEventListener("own-gear-data-changed",()=>{GP(),updateAutoGearOwnGearOptions(),updateAutoGearCatalogOptions()});function vD(e){if(!e||!e.multiple)return;const t=o=>{if(!e.multiple||o.defaultPrevented||typeof PointerEvent<"u"&&o instanceof PointerEvent&&o.pointerType&&o.pointerType!=="mouse"||typeof o.button=="number"&&o.button!==0||o.ctrlKey||o.metaKey||o.shiftKey||o.altKey)return;const n=o.target instanceof HTMLOptionElement?o.target:null;if(!n||n.disabled)return;o.preventDefault(),n.selected=!n.selected;const a=l=>{try{const s=new Event(l,{bubbles:!0});e.dispatchEvent(s)}catch{const s=document.createEvent("Event");s.initEvent(l,!0,!0),e.dispatchEvent(s)}};if(a("input"),a("change"),typeof e.focus=="function")try{e.focus({preventScroll:!0})}catch{e.focus()}};typeof window<"u"&&typeof window.PointerEvent<"u"?e.addEventListener("pointerdown",t):e.addEventListener("mousedown",t)}[ss,cs,us,ds,fs,Ad,wd,Rd,As,ws,Ld,Gd,Td,Od].forEach(vD);var ED=Df?.closest(".auto-gear-field")||Bd?.closest(".auto-gear-field")||null,CD=gl?.closest(".auto-gear-field")||Md?.closest(".auto-gear-field")||null,AD=gc?.closest(".auto-gear-field")||_d?.closest(".auto-gear-field")||null,wD=Ff?.closest(".auto-gear-field")||Dd?.closest(".auto-gear-field")||null,RD=hl?.closest(".auto-gear-field")||Fd?.closest(".auto-gear-field")||null,LD=hc?.closest(".auto-gear-field")||xd?.closest(".auto-gear-field")||null;Cg={select:Ui,screenSizeField:ED,screenSizeInput:Df,selectorTypeField:CD,selectorTypeSelect:gl,selectorDefaultField:AD,selectorDefaultInput:gc};Ag={select:zi,screenSizeField:wD,screenSizeInput:Ff,selectorTypeField:RD,selectorTypeSelect:hl,selectorDefaultField:LD,selectorDefaultInput:hc};[{selectorTypeSelect:gl,selectorDefaultInput:gc},{selectorTypeSelect:hl,selectorDefaultInput:hc}].filter(e=>e.selectorDefaultInput);function tR(){const e=typeof window<"u"&&window.updateAutoGearMonitorFieldGroup;typeof e=="function"&&(Cg&&e(Cg),Ag&&e(Ag))}je("syncAutoGearMonitorFieldVisibility",tR);var _i=document.getElementById("autoGearExport"),Di=document.getElementById("autoGearImport");document.getElementById("autoGearImportInput");document.getElementById("autoGearBackupsSection");var dy=document.getElementById("autoGearBackupsHeading"),fy=document.getElementById("autoGearBackupsDescription"),py=document.getElementById("autoGearBackupSelectLabel"),Vu=document.getElementById("autoGearBackupSelect"),Ql=document.getElementById("autoGearBackupRestore");document.getElementById("autoGearBackupControls");var my=document.getElementById("autoGearBackupEmpty"),qu=document.getElementById("autoGearBackupRetentionLabel"),Ya=document.getElementById("autoGearBackupRetention"),GD=document.getElementById("autoGearBackupRetentionSummary");document.getElementById("autoGearBackupRetentionWarning");var yy=document.getElementById("autoGearShowBackups"),Wu=document.getElementById("autoGearShowBackupsLabel"),gy=document.getElementById("autoGearBackupsHidden");const hy=document.getElementById("dataHeading"),tE=document.getElementById("storageSummaryIntro"),TD=document.getElementById("storageSummaryList");typeof globalThis<"u"&&(globalThis.storageSummaryList=TD);const oE=document.getElementById("storageSummaryEmpty"),rE=document.getElementById("storageSummaryFootnote");document.getElementById("storagePersistence");const Ku=document.getElementById("storagePersistenceHeading"),by=document.getElementById("storagePersistenceIntro"),Ta=document.getElementById("storagePersistenceRequest"),$u=document.getElementById("storagePersistenceStatus");var Yu=document.getElementById("storageActionsHeading"),Sy=document.getElementById("storageActionsIntro"),Xl=document.getElementById("storageBackupNow"),ja=document.getElementById("storageOpenBackupTab"),Qu=document.getElementById("storageStatusHeading"),vy=document.getElementById("storageStatusLastProjectLabel"),Xu=document.getElementById("storageStatusLastProjectValue"),Ey=document.getElementById("storageStatusLastAutoBackupLabel"),nE=document.getElementById("storageStatusLastAutoBackupValue"),Cy=document.getElementById("storageStatusLastFullBackupLabel"),aE=document.getElementById("storageStatusLastFullBackupValue"),Zl=document.getElementById("storageStatusReminder");const Ay=document.getElementById("loggingSection"),Zu=document.getElementById("loggingHeading"),wy=document.getElementById("loggingIntro"),Ju=document.getElementById("loggingLevelFilterLabel"),ed=document.getElementById("loggingLevelFilter"),Jl=document.getElementById("loggingNamespaceFilterLabel"),Ry=document.getElementById("loggingNamespaceFilter"),td=document.getElementById("loggingNamespaceFilterHelp"),Ly=document.getElementById("loggingHistoryLimitLabel"),od=document.getElementById("loggingHistoryLimit"),Gy=document.getElementById("loggingHistoryLimitHelp"),Ty=document.getElementById("loggingConsoleOutputLabel"),Oy=document.getElementById("loggingConsoleOutputHelp"),ky=document.getElementById("loggingCaptureConsoleLabel"),Iy=document.getElementById("loggingCaptureConsoleHelp"),Py=document.getElementById("loggingCaptureErrorsLabel"),By=document.getElementById("loggingCaptureErrorsHelp"),My=document.getElementById("loggingPersistSessionLabel"),_y=document.getElementById("loggingPersistSessionHelp"),Fi=document.getElementById("loggingExportBtn"),rd=document.getElementById("loggingExportHelp"),Dy=document.getElementById("loggingStatus"),nd=document.getElementById("loggingEmpty"),Fy=document.getElementById("loggingUnavailable");if(Ya){const e=t=>{Ne(t,[],{defer:!0})};Ya.addEventListener("input",()=>{e("handleAutoGearBackupRetentionInput")}),Ya.addEventListener("blur",()=>{e("handleAutoGearBackupRetentionBlur")}),Ya.addEventListener("change",()=>{e("handleAutoGearBackupRetentionChange")})}function OD(e,t){return!t||t==="all"?!0:!e||!Array.isArray(e.scenarios)?!1:e.scenarios.some(o=>o===t)}function kD(e,t){const o=typeof t=="string"?t.trim().toLowerCase():"";if(!o)return!0;const r=[],n=s=>{Array.isArray(s)&&s.forEach(u=>{typeof u=="string"&&u&&r.push(u)})};if(e&&typeof e.label=="string"&&r.push(e.label),e&&e.always){r.push("always");const s=i[Ge]?.autoGearAlwaysMeta||i.en?.autoGearAlwaysMeta||"Always active";r.push(s)}n(e?.scenarios),n(e?.mattebox),n(e?.cameraHandle),n(e?.viewfinderExtension),n(e?.deliveryResolution),n(e?.videoDistribution),n(e?.camera),n(e?.monitor),n(e?.crewPresent),n(e?.crewAbsent),n(e?.wireless),n(e?.motors),n(e?.controllers),n(e?.distance);const a=LA(e?.shootingDays);if(a){const s=i[Ge]?.autoGearShootingDaysLabel||i.en?.autoGearShootingDaysLabel||"Shooting days condition",u=i[Ge]?.autoGearShootingDaysModeMinimum||i.en?.autoGearShootingDaysModeMinimum||"Minimum",f=i[Ge]?.autoGearShootingDaysModeMaximum||i.en?.autoGearShootingDaysModeMaximum||"Maximum",y=i[Ge]?.autoGearShootingDaysModeEvery||i.en?.autoGearShootingDaysModeEvery||"Every";r.push(s),r.push(String(a.value)),a.mode==="minimum"?r.push(u):a.mode==="maximum"?r.push(f):a.mode==="every"&&r.push(y)}const l=s=>{Array.isArray(s)&&s.forEach(u=>{!u||typeof u!="object"||(typeof u.name=="string"&&u.name&&r.push(u.name),typeof u.notes=="string"&&u.notes&&r.push(u.notes),typeof u.category=="string"&&u.category&&r.push(u.category),typeof u.screenSize=="string"&&u.screenSize&&r.push(u.screenSize),u.selector&&typeof u.selector=="object"&&(typeof u.selector.type=="string"&&u.selector.type&&r.push(u.selector.type),typeof u.selector.default=="string"&&u.selector.default&&r.push(u.selector.default)),r.push(uI(u)))})};return l(e?.add),l(e?.remove),r.some(s=>typeof s=="string"&&s.toLowerCase().includes(o))}const ID=Object.freeze(["Indoor","Outdoor","Studio","Tripod","Handheld","Easyrig","Cine Saddle","Steadybag","Dolly","Slider","Steadicam","Gimbal","Trinity","Rollcage","Car Mount","Jib","Undersling mode","Crane","Remote Head","Extreme cold (snow)","Extreme rain","Extreme heat","Rain Machine","Slow Motion","Battery Belt"]);function PD(){const e=n=>{if(!n||typeof n!="object")return null;const{value:a,label:l}=n;if(typeof a!="string")return null;const s=a.trim();if(!s)return null;const u=typeof l=="string"&&l.trim()?l.trim():s;return{value:s,label:u}},t=()=>{const n=Ne("getRequiredScenarioOptionEntries",[],{defaultValue:null});if(Array.isArray(n)&&n.length){const a=n.map(e).filter(Boolean);if(a.length)return a}return null},o=()=>{const n=vn(),a=n&&n.scenarioIcons;if(!a||typeof a!="object")return null;const l=Object.keys(a).filter(s=>typeof s=="string").map(s=>s.trim()).filter(Boolean).map(s=>({value:s,label:s}));return l.length?l:null},r=()=>ID.map(n=>({value:n,label:n}));return(t()||o()||r()).sort((n,a)=>localeSort(n.label,a.label))}function BD(e){const t=new Map,o=document.getElementById("requiredScenarios");return o&&Array.from(o.options||[]).forEach(r=>{const n=typeof r.value=="string"?r.value.trim():"";if(!n)return;const a=r.textContent||n;t.has(n)||t.set(n,a)}),Array.isArray(e)&&e.forEach(r=>{!r||!Array.isArray(r.scenarios)||r.scenarios.forEach(n=>{if(typeof n!="string")return;const a=n.trim();a&&(t.has(a)||t.set(a,a))})}),t.size||PD().forEach(({value:r,label:n})=>{t.has(r)||t.set(r,n)}),Array.from(t.entries()).map(([r,n])=>({value:r,label:n})).sort((r,n)=>localeSort(r.label,n.label))}function oR(e){if(!un)return Fr;const t=BD(e),o=i[Ge]?.autoGearFilterScenarioAny||i.en?.autoGearFilterScenarioAny||"All scenarios";un.innerHTML="";const r=document.createElement("option");r.value="all",r.textContent=o,un.appendChild(r),t.forEach(({value:a,label:l})=>{const s=document.createElement("option");s.value=a,s.textContent=l,a===Fr&&(s.selected=!0),un.appendChild(s)});const n=t.length>0;return un.disabled=!n,(!n&&Fr!=="all"||Fr!=="all"&&!t.some(a=>a.value===Fr))&&(Fr="all"),un.value=Fr,Fr}je("setupInstallBanner",J_);je("maybeShowIosPwaHelp",oD);je("updateSelectIconBoxes",aw);je("updateGlobalDevicesReference",updateGlobalDevicesReference);je("setLanguage",rB);je("configureIconOnlyButton",Yi);je("encodeSharedSetup",Rw);je("decodeSharedSetup",Lw);je("iconMarkup",Qr);je("ICON_GLYPHS",ICON_GLYPHS);je("iconGlyph",kt);je("resolveIconGlyph",resolveIconGlyph);je("applyIconGlyph",applyIconGlyph);je("positionSvgMarkup",positionSvgMarkup);je("formatSvgCoordinate",formatSvgCoordinate);const rR={CORE_GLOBAL_SCOPE:be,CORE_BOOT_QUEUE_KEY:Rk,CORE_BOOT_QUEUE:bg,CORE_SHARED:Xe,INSTALL_BANNER_DISMISSED_KEY:Vh,AUTO_GEAR_ANY_MOTOR_TOKEN:FA,AUTO_GEAR_BACKUP_RETENTION_MIN_VALUE:QI,AUTO_GEAR_BACKUP_RETENTION_MAX:$I,AUTO_GEAR_FLEX_MULTI_SELECT_MIN_ROWS:XI,AUTO_GEAR_MONITOR_DEFAULT_TYPES:ci,GEAR_LIST_CATEGORIES:Wh,TEMPERATURE_STORAGE_KEY:Ok,TEMPERATURE_UNITS:Xt,TEMPERATURE_SCENARIOS:Ik,FOCUS_SCALE_STORAGE_KEY:kk,FOCUS_SCALE_VALUES:Pk,FEEDBACK_TEMPERATURE_MIN:globalThis.FEEDBACK_TEMPERATURE_MIN_VALUE,FEEDBACK_TEMPERATURE_MAX:globalThis.FEEDBACK_TEMPERATURE_MAX_VALUE};Object.assign(rR,MOUNT_VOLTAGE_RUNTIME_EXPORTS);wk(rR);aI({updatePowerSummary:{get:()=>i_},drawPowerDiagram:{get:()=>s_},safeGenerateConnectorSummary:{get:()=>GS,set:e=>{typeof e=="function"&&(GS=e)}},baseAutoGearRules:{get:()=>Un,set:e=>{Array.isArray(e)&&(Un=e)}},autoGearAutoPresetId:{get:()=>yd,set:e=>{typeof e=="string"?yd=e:(e===null||typeof e>"u")&&(yd="")}},autoGearScenarioModeSelect:{get:()=>Ja,set:e=>{Ja=e||null,JA(Ja)}},pinkModeIconRotationTimer:{get:()=>typeof vS=="function"?vS():null,set:e=>{typeof ES=="function"&&ES(e)}},pinkModeIconIndex:{get:()=>typeof CS=="function"?CS():0,set:e=>{typeof AS=="function"&&AS(e)}}});var nR=function(){typeof gd=="function"&&(typeof requestAnimationFrame=="function"?requestAnimationFrame(gd):setTimeout(gd,0))};nR();typeof globalThis<"u"&&(globalThis.encodeSharedSetup=Rw,globalThis.decodeSharedSetup=Lw);function xf(){xf.done||(xf.done=!0,!(typeof document>"u")&&(Ke={always:document.getElementById("autoGearCondition-always"),scenarios:document.getElementById("autoGearCondition-scenarios"),shootingDays:document.getElementById("autoGearCondition-shootingDays"),mattebox:document.getElementById("autoGearCondition-mattebox"),cameraHandle:document.getElementById("autoGearCondition-cameraHandle"),viewfinderExtension:document.getElementById("autoGearCondition-viewfinderExtension"),deliveryResolution:document.getElementById("autoGearCondition-deliveryResolution"),videoDistribution:document.getElementById("autoGearCondition-videoDistribution"),camera:document.getElementById("autoGearCondition-camera"),ownGear:document.getElementById("autoGearCondition-ownGear"),cameraWeight:document.getElementById("autoGearCondition-cameraWeight"),monitor:document.getElementById("autoGearCondition-monitor"),tripodHeadBrand:document.getElementById("autoGearCondition-tripodHeadBrand"),tripodBowl:document.getElementById("autoGearCondition-tripodBowl"),tripodTypes:document.getElementById("autoGearCondition-tripodTypes"),tripodSpreader:document.getElementById("autoGearCondition-tripodSpreader"),crewPresent:document.getElementById("autoGearCondition-crewPresent"),crewAbsent:document.getElementById("autoGearCondition-crewAbsent"),wireless:document.getElementById("autoGearCondition-wireless"),motors:document.getElementById("autoGearCondition-motors"),controllers:document.getElementById("autoGearCondition-controllers"),distance:document.getElementById("autoGearCondition-distance")},bd=document.getElementById("autoGearHeading"),Rg=document.getElementById("autoGearDescription"),document.getElementById("autoGearMonitorDefaultsSection"),Sd=document.getElementById("autoGearMonitorDefaultsHeading"),vd=document.getElementById("autoGearMonitorDefaultsDescription"),XS=document.getElementById("autoGearDefaultFocusMonitor"),ZS=document.getElementById("autoGearDefaultHandheldMonitor"),JS=document.getElementById("autoGearDefaultComboMonitor"),ev=document.getElementById("autoGearDefaultDirectorMonitor"),tv=document.getElementById("autoGearDefaultFocusMonitorLabel"),ov=document.getElementById("autoGearDefaultHandheldMonitorLabel"),rv=document.getElementById("autoGearDefaultComboMonitorLabel"),nv=document.getElementById("autoGearDefaultDirectorMonitorLabel"),xi=document.getElementById("autoGearSearch"),rs=document.getElementById("autoGearSearchLabel"),ns=document.getElementById("autoGearFilterScenarioLabel"),un=document.getElementById("autoGearFilterScenario"),Ni=document.getElementById("autoGearFilterClear"),document.getElementById("autoGearSummary"),document.getElementById("autoGearSummaryHeading"),document.getElementById("autoGearSummaryDescription"),document.getElementById("autoGearSummaryCards"),document.getElementById("autoGearSummaryDetails"),document.getElementById("autoGearRulesList"),Gg=document.getElementById("autoGearPresetDescription"),as=document.getElementById("autoGearPresetLabel"),Ed=document.getElementById("autoGearPresetSelect"),Hi=document.getElementById("autoGearSavePreset"),ji=document.getElementById("autoGearDeletePreset"),pa=document.getElementById("autoGearAddRule"),Ba=document.getElementById("autoGearResetFactory"),vi=document.getElementById("autoGearEditor"),document.getElementById("autoGearConditionControls"),is=document.getElementById("autoGearConditionSelectLabel"),Io=document.getElementById("autoGearConditionSelect"),aa=document.getElementById("autoGearConditionAdd"),document.getElementById("autoGearConditionList"),ls=document.getElementById("autoGearAlwaysLabel"),Cd=document.getElementById("autoGearAlwaysHelp"),document.getElementById("autoGearCondition-cameraWeight"),Lg=[{key:"focus",select:XS,label:tv},{key:"handheld7",select:ZS,label:ov},{key:"combo15",select:JS,label:rv},{key:"director15",select:ev,label:nv}],Lg.forEach(e=>{!e||!e.select||e.select.addEventListener("change",t=>{uP(e.key,t.target.value)})}),eb={always:Ke.always?.querySelector(".auto-gear-condition-add")||null,scenarios:Ke.scenarios?.querySelector(".auto-gear-condition-add")||null,shootingDays:Ke.shootingDays?.querySelector(".auto-gear-condition-add")||null,mattebox:Ke.mattebox?.querySelector(".auto-gear-condition-add")||null,cameraHandle:Ke.cameraHandle?.querySelector(".auto-gear-condition-add")||null,viewfinderExtension:Ke.viewfinderExtension?.querySelector(".auto-gear-condition-add")||null,deliveryResolution:Ke.deliveryResolution?.querySelector(".auto-gear-condition-add")||null,videoDistribution:Ke.videoDistribution?.querySelector(".auto-gear-condition-add")||null,camera:Ke.camera?.querySelector(".auto-gear-condition-add")||null,ownGear:Ke.ownGear?.querySelector(".auto-gear-condition-add")||null,cameraWeight:Ke.cameraWeight?.querySelector(".auto-gear-condition-add")||null,monitor:Ke.monitor?.querySelector(".auto-gear-condition-add")||null,tripodHeadBrand:Ke.tripodHeadBrand?.querySelector(".auto-gear-condition-add")||null,tripodBowl:Ke.tripodBowl?.querySelector(".auto-gear-condition-add")||null,tripodTypes:Ke.tripodTypes?.querySelector(".auto-gear-condition-add")||null,tripodSpreader:Ke.tripodSpreader?.querySelector(".auto-gear-condition-add")||null,crewPresent:Ke.crewPresent?.querySelector(".auto-gear-condition-add")||null,crewAbsent:Ke.crewAbsent?.querySelector(".auto-gear-condition-add")||null,wireless:Ke.wireless?.querySelector(".auto-gear-condition-add")||null,motors:Ke.motors?.querySelector(".auto-gear-condition-add")||null,controllers:Ke.controllers?.querySelector(".auto-gear-condition-add")||null,distance:Ke.distance?.querySelector(".auto-gear-condition-add")||null},XA={always:Ke.always?.querySelector(".auto-gear-condition-remove")||null,scenarios:Ke.scenarios?.querySelector(".auto-gear-condition-remove")||null,shootingDays:Ke.shootingDays?.querySelector(".auto-gear-condition-remove")||null,mattebox:Ke.mattebox?.querySelector(".auto-gear-condition-remove")||null,cameraHandle:Ke.cameraHandle?.querySelector(".auto-gear-condition-remove")||null,viewfinderExtension:Ke.viewfinderExtension?.querySelector(".auto-gear-condition-remove")||null,deliveryResolution:Ke.deliveryResolution?.querySelector(".auto-gear-condition-remove")||null,videoDistribution:Ke.videoDistribution?.querySelector(".auto-gear-condition-remove")||null,camera:Ke.camera?.querySelector(".auto-gear-condition-remove")||null,ownGear:Ke.ownGear?.querySelector(".auto-gear-condition-remove")||null,cameraWeight:Ke.cameraWeight?.querySelector(".auto-gear-condition-remove")||null,monitor:Ke.monitor?.querySelector(".auto-gear-condition-remove")||null,tripodHeadBrand:Ke.tripodHeadBrand?.querySelector(".auto-gear-condition-remove")||null,tripodBowl:Ke.tripodBowl?.querySelector(".auto-gear-condition-remove")||null,tripodTypes:Ke.tripodTypes?.querySelector(".auto-gear-condition-remove")||null,tripodSpreader:Ke.tripodSpreader?.querySelector(".auto-gear-condition-remove")||null,crewPresent:Ke.crewPresent?.querySelector(".auto-gear-condition-remove")||null,crewAbsent:Ke.crewAbsent?.querySelector(".auto-gear-condition-remove")||null,wireless:Ke.wireless?.querySelector(".auto-gear-condition-remove")||null,motors:Ke.motors?.querySelector(".auto-gear-condition-remove")||null,controllers:Ke.controllers?.querySelector(".auto-gear-condition-remove")||null,distance:Ke.distance?.querySelector(".auto-gear-condition-remove")||null},pa&&(pa.setAttribute("aria-controls","autoGearEditor"),pa.setAttribute("aria-expanded",vi&&!vi.hidden?"true":"false")),vi&&vi.setAttribute("aria-hidden",vi.hidden?"true":"false")))}typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",xf):xf());typeof window<"u"&&(window.AppCore=bA);typeof window<"u"&&(window.syncAutoGearRulesFromStorage=dP,window.clearProjectAutoGearRules=fP,window.resetSharedImportStateForFactoryReset=m_,window.getCssVariableValue=EP,window.autoGearRuleMatchesScenario=OD,window.autoGearRuleMatchesSearch=kD,window.getAutoGearRules=Yh,window.refreshAutoGearScenarioFilterOptions=oR,window.normalizeAutoGearCameraWeightCondition=hI,window.formatAutoGearCameraWeight=CI,window.findAutoGearOwnGearById=kP);console.log("DEBUG: app-core-new-1.js FINISHED");console.log("DEBUG: main.js parsing started");console.log("DEBUG: main.js imports START");typeof window<"u"&&(window.rentalHouses=pR,window.devices=mR,window.cineDevices=yR);typeof window<"u"&&(Object.assign(window,JL),Object.assign(window,BL));console.log("✅ Vite entry point (main.js) loaded");window.__viteMainLoaded=!0;console.log("[Vite] Entry point loaded successfully");export{xD as i};
//# sourceMappingURL=main-P40cA4Iv.js.map
