/*
 * Cine Power Planner V2 - App Shell Layout
 * =========================================
 * Main app grid structure: [sidebar][main content]
 */

/* =====================
 * APP CONTAINER
 * ===================== */
.v2-app {
    display: grid;
    grid-template-columns: var(--v2-sidebar-width) minmax(0, 1fr);
    grid-template-rows: 1fr;
    height: 100vh;
    overflow: hidden;
    transition: grid-template-columns var(--v2-transition-normal);
    width: 100%;
    max-width: 100vw;
}

/* Collapsed sidebar state */
.v2-app.sidebar-collapsed {
    grid-template-columns: var(--v2-sidebar-collapsed-width) minmax(0, 1fr);
}

/* =====================
 * MAIN CONTENT AREA
 * ===================== */
.v2-main {
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    background-color: var(--v2-surface-base);
    /* Seamless white background */
    border: none !important;
    box-shadow: none !important;
    margin: 0 !important;
    outline: none !important;
}

.v2-main-content {
    flex: 1;
    width: 100%;
    /* Full span, no wrapper constraints */
}

/* =====================
 * SIDEBAR OVERLAY
 * ===================== */
/* Hidden by default on desktop - only shown on mobile when sidebar is open */
.v2-sidebar-overlay {
    display: none;
}

/* =====================
 * RESPONSIVE BEHAVIOR
 * ===================== */
@media (max-width: 768px) {
    .v2-app {
        grid-template-columns: 1fr;
    }

    .v2-app.sidebar-collapsed {
        grid-template-columns: 1fr;
    }

    .v2-sidebar {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        z-index: var(--v2-z-fixed);
        transform: translateX(-100%);
        transition: transform var(--v2-transition-normal);
        box-shadow: var(--v2-shadow-xl);
    }

    .v2-app.sidebar-open .v2-sidebar {
        transform: translateX(0);
    }

    /* Overlay when sidebar is open */
    .v2-sidebar-overlay {
        display: none;
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: calc(var(--v2-z-fixed) - 1);
        opacity: 0;
        transition: opacity var(--v2-transition-normal);
    }

    .v2-app.sidebar-open .v2-sidebar-overlay {
        display: block;
        opacity: 1;
    }
}

/* =====================
 * FULL-WIDTH VIEWS
 * ===================== */
.v2-app.full-width {
    grid-template-columns: 1fr;
}

.v2-app.full-width .v2-sidebar {
    display: none;
}