# legacy/scripts/loader.js

[← Back to Module](../modules/root/MODULE.md) | [← Back to INDEX](../INDEX.md)

## Overview

- **Lines:** 4000
- **Language:** JavaScript
- **Symbols:** 99
- **Public symbols:** 0

## Symbol Table

| Line | Kind | Name | Visibility | Signature |
| ---- | ---- | ---- | ---------- | --------- |
| 1 | fn | _typeof | (private) | `function _typeof(o) { "@babel/helpers - typeof"...` |
| 41 | fn | resolveCriticalGlobalScope | (private) | `function resolveCriticalGlobalScope() {` |
| 56 | fn | neutraliseDeprecatedStyleMedia | (private) | `function neutraliseDeprecatedStyleMedia(scope) {` |
| 127 | fn | ensureCriticalGlobalVariable | (private) | `function ensureCriticalGlobalVariable(name, fal...` |
| 166 | fn | resolveCriticalFallback | (private) | `function resolveCriticalFallback(fallback) {` |
| 169 | fn | createCoreFunctionProxy | (private) | `function createCoreFunctionProxy(functionName, ...` |
| 170 | fn | computeDefault | (private) | `function computeDefault(args) {` |
| 185 | fn | invokeCore | (private) | `function invokeCore(scope, args, defaultValue, ...` |
| 230 | fn | normaliseCriticalGlobalVariable | (private) | `function normaliseCriticalGlobalVariable(name, ...` |
| 281 | fn | ensureTemperatureStorageKeyAlias | (private) | `function ensureTemperatureStorageKeyAlias() {` |
| 286 | fn | normaliseKey | (private) | `function normaliseKey() {` |
| 368 | fn | ensureResolveTextEntryFallback | (private) | `function ensureResolveTextEntryFallback() {` |
| 383 | fn | extractEntry | (private) | `function extractEntry(source, key) {` |
| 474 | fn | getRetryStateEntry | (private) | `function getRetryStateEntry(url) {` |
| 489 | fn | clearRetryTimer | (private) | `function clearRetryTimer(entry) {` |
| 502 | fn | resetScriptRetryState | (private) | `function resetScriptRetryState(url) {` |
| 513 | fn | flushAllScriptRetryState | (private) | `function flushAllScriptRetryState() {` |
| 524 | fn | resolveErrorMessage | (private) | `function resolveErrorMessage(event) {` |
| 543 | fn | isNavigatorExplicitlyOffline | (private) | `function isNavigatorExplicitlyOffline() {` |
| 556 | fn | shouldRetryScriptLoad | (private) | `function shouldRetryScriptLoad(event) {` |
| 582 | fn | scheduleScriptRetry | (private) | `function scheduleScriptRetry(url, retryCallback) {` |
| 632 | fn | stripUrlSearchAndHash | (private) | `function stripUrlSearchAndHash(url) {` |
| 647 | fn | normaliseDirectoryUrl | (private) | `function normaliseDirectoryUrl(url) {` |
| 658 | fn | resolveDocumentBaseUrl | (private) | `function resolveDocumentBaseUrl() {` |
| 684 | fn | resolveLoaderBaseUrl | (private) | `function resolveLoaderBaseUrl() {` |
| 723 | fn | resolveAssetUrl | (private) | `function resolveAssetUrl(url) {` |
| 752 | fn | loaderResolveTranslations | (private) | `function loaderResolveTranslations() {` |
| 780 | fn | loaderSelectTranslationForLanguage | (private) | `function loaderSelectTranslationForLanguage(tra...` |
| 1005 | fn | loaderFallbackSafeGenerateConnectorSummary | (private) | `function loaderFallbackSafeGenerateConnectorSum...` |
| 1023 | fn | loaderCreateFallbackIconFontKeys | (private) | `function loaderCreateFallbackIconFontKeys() {` |
| 1032 | fn | loaderResolveIconFontKeysFallback | (private) | `function loaderResolveIconFontKeysFallback() {` |
| 1050 | fn | loaderResolveIconFontValues | (private) | `function loaderResolveIconFontValues() {` |
| 1067 | fn | loaderCreateDeepCloneMemo | (private) | `function loaderCreateDeepCloneMemo() {` |
| 1105 | fn | loaderManualDeepCloneValue | (private) | `function loaderManualDeepCloneValue(value, memo) {` |
| 1217 | fn | loaderResolveStructuredClone | (private) | `function loaderResolveStructuredClone(scope) {` |
| 1248 | fn | loaderCreateDeepCloneUtility | (private) | `function loaderCreateDeepCloneUtility() {` |
| 1700 | fn | cloneProjectInfoFallback | (private) | `function cloneProjectInfoFallback(info) {` |
| 1752 | fn | loaderCreateUnifyDevicesUtility | (private) | `function loaderCreateUnifyDevicesUtility() {` |
| 1753 | fn | loaderNormalizeVideoTypeLocal | (private) | `function loaderNormalizeVideoTypeLocal(str, key) {` |
| 1857 | fn | normalizeFromMap | (private) | `function normalizeFromMap(map, str) {` |
| 1866 | fn | loaderNormalizeFizConnectorType | (private) | `function loaderNormalizeFizConnectorType(type) {` |
| 1869 | fn | loaderNormalizeViewfinderType | (private) | `function loaderNormalizeViewfinderType(type) {` |
| 1872 | fn | loaderNormalizePowerPortType | (private) | `function loaderNormalizePowerPortType(type) {` |
| 1875 | fn | normalizePowerPortType | (private) | `function normalizePowerPortType(type) {` |
| 1877 | fn | toArray | (private) | `function toArray(val) {` |
| 1900 | fn | ensureList | (private) | `function ensureList(list, defaults) {` |
| 1922 | fn | fixPowerInput | (private) | `function fixPowerInput(dev) {` |
| 1938 | fn | normalizeEntry | (private) | `function normalizeEntry(it) {` |
| 1979 | fn | unifyDevices | (private) | `function unifyDevices(devicesData, options) {` |
| 2398 | fn | getGlobalScope | (private) | `function getGlobalScope() {` |
| 2410 | fn | collectStorages | (private) | `function collectStorages(names) {` |
| 2443 | fn | nowMilliseconds | (private) | `function nowMilliseconds() {` |
| 2449 | fn | getLegacyFlagStorages | (private) | `function getLegacyFlagStorages() {` |
| 2452 | fn | getLegacyRetryStorages | (private) | `function getLegacyRetryStorages() {` |
| 2455 | fn | normaliseLegacyFallbackMessage | (private) | `function normaliseLegacyFallbackMessage(message) {` |
| 2468 | fn | extractLegacyFallbackMessage | (private) | `function extractLegacyFallbackMessage(event) {` |
| 2486 | fn | encodeLegacyPreferencePayload | (private) | `function encodeLegacyPreferencePayload(options) {` |
| 2510 | fn | rememberLegacyBundlePreference | (private) | `function rememberLegacyBundlePreference(options) {` |
| 2531 | fn | markLegacyBundleRetryAttempt | (private) | `function markLegacyBundleRetryAttempt() {` |
| 2553 | fn | clearLegacyBundleRetryAttempt | (private) | `function clearLegacyBundleRetryAttempt() {` |
| 2575 | fn | clearLegacyBundlePreference | (private) | `function clearLegacyBundlePreference() {` |
| 2594 | fn | hasLegacyBundleRetryAttempt | (private) | `function hasLegacyBundleRetryAttempt() {` |
| 2615 | fn | decodeLegacyPreferenceValue | (private) | `function decodeLegacyPreferenceValue(rawValue) {` |
| 2665 | fn | shouldForceLegacyBundle | (private) | `function shouldForceLegacyBundle() {` |
| 2723 | fn | triggerLegacyBundleReload | (private) | `function triggerLegacyBundleReload(options) {` |
| 2751 | fn | ensureCoreRuntimePlaceholders | (private) | `function ensureCoreRuntimePlaceholders() {` |
| 2763 | fn | migrateKey | (private) | `function migrateKey(storage, legacyKey, modernK...` |
| 2806 | fn | migrateKeyWithBackups | (private) | `function migrateKeyWithBackups(storages, legacy...` |
| 2817 | fn | migrateLegacyStorageKeys | (private) | `function migrateLegacyStorageKeys() {` |
| 2901 | fn | cleanupOptionalFlag | (private) | `function cleanupOptionalFlag(scope) {` |
| 2912 | fn | isSyntaxErrorEvent | (private) | `function isSyntaxErrorEvent(event) {` |
| 2955 | fn | isUnsafeEvalAllowed | (private) | `function isUnsafeEvalAllowed() {` |
| 3012 | fn | resolveModernSupportCacheStorage | (private) | `function resolveModernSupportCacheStorage() {` |
| 3026 | fn | readModernSupportCache | (private) | `function readModernSupportCache() {` |
| 3076 | fn | rememberModernSupportResult | (private) | `function rememberModernSupportResult(result) {` |
| 3105 | fn | detectOptionalChainingSupport | (private) | `function detectOptionalChainingSupport() {` |
| 3125 | fn | supportsModernFeatures | (private) | `function supportsModernFeatures(callback) {` |
| 3265 | fn | finalize | (private) | `function finalize(result) {` |
| 3288 | fn | setOptionalCheckSource | (private) | `function setOptionalCheckSource(index) {` |
| 3348 | fn | loadScriptsInParallel | (private) | `function loadScriptsInParallel(urls, options) {` |
| 3368 | fn | finalizeParallel | (private) | `function finalizeParallel() {` |
| 3381 | fn | handleError | (private) | `function handleError(context) {` |
| 3399 | fn | attachParallelScript | (private) | `function attachParallelScript() {` |
| 3461 | fn | dispatchLoaderEvent | (private) | `function dispatchLoaderEvent(name, detail) {` |
| 3485 | fn | loadScriptsSequentially | (private) | `function loadScriptsSequentially(items, options) {` |
| 3493 | fn | finalize | (private) | `function finalize() {` |
| 3510 | fn | loadScriptAtIndex | (private) | `function loadScriptAtIndex(currentIndex) {` |
| 3620 | fn | next | (private) | `function next() {` |
| 3631 | fn | createDeferredScriptsState | (private) | `function createDeferredScriptsState(urls) {` |
| 3645 | fn | scheduleFallbackNotify | (private) | `function scheduleFallbackNotify(handler, value) {` |
| 3652 | fn | flushFallbackHandlers | (private) | `function flushFallbackHandlers(type, value) {` |
| 3756 | fn | publishDeferredScriptsState | (private) | `function publishDeferredScriptsState(state, ens...` |
| 3787 | fn | scheduleDeferredScripts | (private) | `function scheduleDeferredScripts(urls) {` |
| 3800 | fn | startDeferredLoad | (private) | `function startDeferredLoad() {` |
| 3831 | fn | scheduleWithTimeout | (private) | `function scheduleWithTimeout() {` |
| 3855 | fn | loadScriptBundle | (private) | `function loadScriptBundle(bundle, options) {` |
| 3895 | fn | startLoading | (private) | `function startLoading() {` |
| 3973 | fn | startLoaderWhenBodyReady | (private) | `function startLoaderWhenBodyReady() {` |
| 3982 | fn | handleReady | (private) | `function handleReady() {` |

