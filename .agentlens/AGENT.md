# AI Agent Instructions

## Reading Protocol

Follow this protocol to understand the codebase efficiently:

1. **Start with INDEX.md** - Get the project overview and module routing table
2. **Navigate to relevant module** - Go to `modules/{name}/MODULE.md` for the area you're working on
3. **Check memory.md before editing** - Review warnings and TODOs for that module
4. **Use outline.md for large files** - Find symbols without reading entire files
5. **Check imports.md for dependencies** - Understand module relationships before changes
6. **Review files/*.md for complex files** - Deep documentation for high-complexity files

### Documentation Structure

```
.agentlens/
├── INDEX.md              # Start here - project overview
├── AGENT.md              # This file - AI instructions
├── modules/
│   └── {module-slug}/
│       ├── MODULE.md     # Module summary and file list
│       ├── outline.md    # Symbol maps for large files
│       ├── memory.md     # Warnings and TODOs
│       └── imports.md    # Dependencies
└── files/                # Deep docs for complex files
```

## Freshness Check

**Generated:** 2026-01-18T14:00:36Z
**Git HEAD:** `30da14a`

### How to verify freshness

1. Compare the Git HEAD above with current: `git rev-parse --short HEAD`
2. If they differ significantly, docs may be outdated
3. Check file modification times vs. the Generated timestamp

## Available Modules

| Module | Files | Type | Description |
| ------ | ----- | ---- | ----------- |
| `` | 334 | root | Module |
| `legacy/data` | 2 | js/ts | Module |
| `legacy/data/devices` | 18 | js/ts | Module |
| `legacy/scripts/auto-gear` | 5 | implicit | Module |
| `legacy/scripts/core` | 20 | implicit | Module |
| `legacy/scripts/core/modules/app-core` | 5 | implicit | Module |
| `legacy/scripts/core/modules/core` | 10 | implicit | Module |
| `legacy/scripts/modules/features` | 14 | implicit | Module |
| `legacy/scripts/shims` | 5 | implicit | Module |
| `legacy/scripts/translations` | 5 | implicit | Module |
| `scripts` | 7 | implicit | Build/utility scripts |
| `src/data` | 2 | js/ts | Module |
| `src/data/devices` | 19 | js/ts | Module |
| `src/modules` | 3 | js/ts | Module |
| `src/scripts/auto-gear` | 8 | implicit | Module |
| `src/scripts/core/modules/app-core` | 5 | implicit | Module |
| `src/scripts/core/modules/core` | 14 | implicit | Module |
| `src/scripts/modules/core` | 10 | implicit | Module |
| `src/scripts/modules/features` | 14 | implicit | Module |
| `src/scripts/modules/helpers` | 11 | implicit | Utility functions |
| `src/scripts/modules/storage` | 7 | implicit | Module |
| `src/scripts/translations` | 5 | implicit | Module |
| `src/scripts/v2/views` | 8 | implicit | Page/view components |
| `tests/data` | 8 | implicit | Test files |
| `tests/dom` | 33 | implicit | Test files |
| `tests/helpers` | 7 | implicit | Utility functions |
| `tests/script` | 13 | implicit | Test files |
| `tests/unit/modules` | 5 | implicit | Test files |
| `tests/verify` | 15 | implicit | Test files |
| `tools` | 15 | implicit | Module |

## When Docs Seem Stale

If documentation seems outdated or inconsistent with the code:

1. **Regenerate docs:**
   ```bash
   agentlens
   ```

2. **Regenerate with diff mode** (faster, only changed files):
   ```bash
   agentlens --diff main
   ```

3. **Check freshness status:**
   ```bash
   agentlens --check
   ```

4. **Force full regeneration** (ignore cache):
   ```bash
   agentlens --force
   ```

## Quick Reference

| Metric | Value |
| ------ | ----- |
| Total files | 627 |
| Modules | 30 |
| Warnings | 8 |

---

*Generated by [agentlens](https://github.com/nguyenphutrong/agentlens)*
